(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var pm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function cS(){if(Cv)return zl;Cv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var Iv;function hS(){return Iv||(Iv=1,pm.exports=cS()),pm.exports}var T=hS(),gm={exports:{}},Bl={},ym={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function fS(){return Nv||(Nv=1,function(i){function e(se,_e){var me=se.length;se.push(_e);e:for(;0<me;){var je=me-1>>>1,I=se[je];if(0<o(I,_e))se[je]=_e,se[me]=I,me=je;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var _e=se[0],me=se.pop();if(me!==_e){se[0]=me;e:for(var je=0,I=se.length,W=I>>>1;je<W;){var ce=2*(je+1)-1,ae=se[ce],le=ce+1,Se=se[le];if(0>o(ae,me))le<I&&0>o(Se,ae)?(se[je]=Se,se[le]=me,je=le):(se[je]=ae,se[ce]=me,je=ce);else if(le<I&&0>o(Se,me))se[je]=Se,se[le]=me,je=le;else break e}}return _e}function o(se,_e){var me=se.sortIndex-_e.sortIndex;return me!==0?me:se.id-_e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,w=null,A=3,O=!1,k=!1,$=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function X(se){for(var _e=n(g);_e!==null;){if(_e.callback===null)s(g);else if(_e.startTime<=se)s(g),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(g)}}function ie(se){if($=!1,X(se),!k)if(n(p)!==null)k=!0,mt();else{var _e=n(g);_e!==null&&at(ie,_e.startTime-se)}}var oe=!1,ge=-1,M=5,C=-1;function R(){return!(i.unstable_now()-C<M)}function D(){if(oe){var se=i.unstable_now();C=se;var _e=!0;try{e:{k=!1,$&&($=!1,G(ge),ge=-1),O=!0;var me=A;try{t:{for(X(se),w=n(p);w!==null&&!(w.expirationTime>se&&R());){var je=w.callback;if(typeof je=="function"){w.callback=null,A=w.priorityLevel;var I=je(w.expirationTime<=se);if(se=i.unstable_now(),typeof I=="function"){w.callback=I,X(se),_e=!0;break t}w===n(p)&&s(p),X(se)}else s(p);w=n(p)}if(w!==null)_e=!0;else{var W=n(g);W!==null&&at(ie,W.startTime-se),_e=!1}}break e}finally{w=null,A=me,O=!1}_e=void 0}}finally{_e?V():oe=!1}}}var V;if(typeof te=="function")V=function(){te(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,x=z.port2;z.port1.onmessage=D,V=function(){x.postMessage(null)}}else V=function(){L(D,0)};function mt(){oe||(oe=!0,V())}function at(se,_e){ge=L(function(){se(i.unstable_now())},_e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){k||O||(k=!0,mt())},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(se){switch(A){case 1:case 2:case 3:var _e=3;break;default:_e=A}var me=A;A=_e;try{return se()}finally{A=me}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,_e){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var me=A;A=se;try{return _e()}finally{A=me}},i.unstable_scheduleCallback=function(se,_e,me){var je=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,se){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=me+I,se={id:E++,callback:_e,priorityLevel:se,startTime:me,expirationTime:I,sortIndex:-1},me>je?(se.sortIndex=me,e(g,se),n(p)===null&&se===n(g)&&($?(G(ge),ge=-1):$=!0,at(ie,me-je))):(se.sortIndex=I,e(p,se),k||O||(k=!0,mt())),se},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(se){var _e=A;return function(){var me=A;A=_e;try{return se.apply(this,arguments)}finally{A=me}}}}(_m)),_m}var Dv;function dS(){return Dv||(Dv=1,ym.exports=fS()),ym.exports}var vm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function mS(){if(xv)return Ce;xv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,$={};function L(I,W,ce){this.props=I,this.context=W,this.refs=$,this.updater=ce||O}L.prototype.isReactComponent={},L.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},L.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function G(){}G.prototype=L.prototype;function te(I,W,ce){this.props=I,this.context=W,this.refs=$,this.updater=ce||O}var X=te.prototype=new G;X.constructor=te,k(X,L.prototype),X.isPureReactComponent=!0;var ie=Array.isArray,oe={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function M(I,W,ce,ae,le,Se){return ce=Se.ref,{$$typeof:i,type:I,key:W,ref:ce!==void 0?ce:null,props:Se}}function C(I,W){return M(I.type,W,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function D(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ce){return W[ce]})}var V=/\/+/g;function z(I,W){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):W.toString(36)}function x(){}function mt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(x,x):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function at(I,W,ce,ae,le){var Se=typeof I;(Se==="undefined"||Se==="boolean")&&(I=null);var Re=!1;if(I===null)Re=!0;else switch(Se){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(I.$$typeof){case i:case e:Re=!0;break;case E:return Re=I._init,at(Re(I._payload),W,ce,ae,le)}}if(Re)return le=le(I),Re=ae===""?"."+z(I,0):ae,ie(le)?(ce="",Re!=null&&(ce=Re.replace(V,"$&/")+"/"),at(le,W,ce,"",function(ot){return ot})):le!=null&&(R(le)&&(le=C(le,ce+(le.key==null||I&&I.key===le.key?"":(""+le.key).replace(V,"$&/")+"/")+Re)),W.push(le)),1;Re=0;var _t=ae===""?".":ae+":";if(ie(I))for(var ze=0;ze<I.length;ze++)ae=I[ze],Se=_t+z(ae,ze),Re+=at(ae,W,ce,Se,le);else if(ze=A(I),typeof ze=="function")for(I=ze.call(I),ze=0;!(ae=I.next()).done;)ae=ae.value,Se=_t+z(ae,ze++),Re+=at(ae,W,ce,Se,le);else if(Se==="object"){if(typeof I.then=="function")return at(mt(I),W,ce,ae,le);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Re}function se(I,W,ce){if(I==null)return I;var ae=[],le=0;return at(I,ae,"","",function(Se){return W.call(ce,Se,le++)}),ae}function _e(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(ce){(I._status===0||I._status===-1)&&(I._status=1,I._result=ce)},function(ce){(I._status===0||I._status===-1)&&(I._status=2,I._result=ce)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var me=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function je(){}return Ce.Children={map:se,forEach:function(I,W,ce){se(I,function(){W.apply(this,arguments)},ce)},count:function(I){var W=0;return se(I,function(){W++}),W},toArray:function(I){return se(I,function(W){return W})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ce.Component=L,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=te,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(I){return function(){return I.apply(null,arguments)}},Ce.cloneElement=function(I,W,ce){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ae=k({},I.props),le=I.key,Se=void 0;if(W!=null)for(Re in W.ref!==void 0&&(Se=void 0),W.key!==void 0&&(le=""+W.key),W)!ge.call(W,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&W.ref===void 0||(ae[Re]=W[Re]);var Re=arguments.length-2;if(Re===1)ae.children=ce;else if(1<Re){for(var _t=Array(Re),ze=0;ze<Re;ze++)_t[ze]=arguments[ze+2];ae.children=_t}return M(I.type,le,void 0,void 0,Se,ae)},Ce.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Ce.createElement=function(I,W,ce){var ae,le={},Se=null;if(W!=null)for(ae in W.key!==void 0&&(Se=""+W.key),W)ge.call(W,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(le[ae]=W[ae]);var Re=arguments.length-2;if(Re===1)le.children=ce;else if(1<Re){for(var _t=Array(Re),ze=0;ze<Re;ze++)_t[ze]=arguments[ze+2];le.children=_t}if(I&&I.defaultProps)for(ae in Re=I.defaultProps,Re)le[ae]===void 0&&(le[ae]=Re[ae]);return M(I,Se,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(I){return{$$typeof:m,render:I}},Ce.isValidElement=R,Ce.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:_e}},Ce.memo=function(I,W){return{$$typeof:g,type:I,compare:W===void 0?null:W}},Ce.startTransition=function(I){var W=oe.T,ce={};oe.T=ce;try{var ae=I(),le=oe.S;le!==null&&le(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(je,me)}catch(Se){me(Se)}finally{oe.T=W}},Ce.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ce.use=function(I){return oe.H.use(I)},Ce.useActionState=function(I,W,ce){return oe.H.useActionState(I,W,ce)},Ce.useCallback=function(I,W){return oe.H.useCallback(I,W)},Ce.useContext=function(I){return oe.H.useContext(I)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(I,W){return oe.H.useDeferredValue(I,W)},Ce.useEffect=function(I,W){return oe.H.useEffect(I,W)},Ce.useId=function(){return oe.H.useId()},Ce.useImperativeHandle=function(I,W,ce){return oe.H.useImperativeHandle(I,W,ce)},Ce.useInsertionEffect=function(I,W){return oe.H.useInsertionEffect(I,W)},Ce.useLayoutEffect=function(I,W){return oe.H.useLayoutEffect(I,W)},Ce.useMemo=function(I,W){return oe.H.useMemo(I,W)},Ce.useOptimistic=function(I,W){return oe.H.useOptimistic(I,W)},Ce.useReducer=function(I,W,ce){return oe.H.useReducer(I,W,ce)},Ce.useRef=function(I){return oe.H.useRef(I)},Ce.useState=function(I){return oe.H.useState(I)},Ce.useSyncExternalStore=function(I,W,ce){return oe.H.useSyncExternalStore(I,W,ce)},Ce.useTransition=function(){return oe.H.useTransition()},Ce.version="19.0.0",Ce}var Ov;function yp(){return Ov||(Ov=1,vm.exports=mS()),vm.exports}var Em={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function pS(){if(kv)return Yt;kv=1;var i=yp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Yt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.0.0",Yt}var Mv;function gS(){if(Mv)return Em.exports;Mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=pS(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function yS(){if(Pv)return Bl;Pv=1;var i=dS(),e=yp(),n=gS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case L:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case k:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return r=t.displayName||null,r!==null?r:C(t.type)||"Memo";case te:r=t._payload,t=t._init;try{return C(t(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,V,z;function x(t){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+z}var mt=!1;function at(t,r){if(!t||mt)return"";mt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var F=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){F=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var N=v.split(`
`),U=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===U.length)for(l=N.length-1,f=U.length-1;1<=l&&0<=f&&N[l]!==U[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==U[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==U[f]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{mt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?x(a):""}function se(t){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return t=at(t.type,!1),t;case 11:return t=at(t.type.render,!1),t;case 1:return t=at(t.type,!0),t;default:return""}}function _e(t){try{var r="";do r+=se(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function je(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function I(t){if(me(t)!==t)throw Error(s(188))}function W(t){var r=t.alternate;if(!r){if(r=me(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return I(f),t;if(d===l)return I(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,b=f.child;b;){if(b===a){v=!0,a=f,l=d;break}if(b===l){v=!0,l=f,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=f;break}if(b===l){v=!0,l=d,a=f;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function ce(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=ce(t),r!==null)return r;t=t.sibling}return null}var ae=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Re=[],_t=-1;function ze(t){return{current:t}}function ot(t){0>_t||(t.current=Re[_t],Re[_t]=null,_t--)}function Ke(t,r){_t++,Re[_t]=t.current,t.current=r}var en=ze(null),Ii=ze(null),Rn=ze(null),pr=ze(null);function gr(t,r){switch(Ke(Rn,r),Ke(Ii,t),Ke(en,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?nv(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=nv(t),r=iv(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ot(en),Ke(en,r)}function Ni(){ot(en),ot(Ii),ot(Rn)}function Po(t){t.memoizedState!==null&&Ke(pr,t);var r=en.current,a=iv(r,t.type);r!==a&&(Ke(Ii,t),Ke(en,a))}function Ta(t){Ii.current===t&&(ot(en),ot(Ii)),pr.current===t&&(ot(pr),Pl._currentValue=Se)}var ba=Object.prototype.hasOwnProperty,As=i.unstable_scheduleCallback,wa=i.unstable_cancelCallback,yf=i.unstable_shouldYield,Vo=i.unstable_requestPaint,un=i.unstable_now,ku=i.unstable_getCurrentPriorityLevel,At=i.unstable_ImmediatePriority,Ot=i.unstable_UserBlockingPriority,Di=i.unstable_NormalPriority,Mu=i.unstable_LowPriority,Uo=i.unstable_IdlePriority,_f=i.log,Ss=i.unstable_setDisableYieldValue,yr=null,$t=null;function Lo(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(yr,t,void 0,(t.current.flags&128)===128)}catch{}}function ei(t){if(typeof _f=="function"&&Ss(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(yr,t)}catch{}}var tn=Math.clz32?Math.clz32:Vu,jo=Math.log,Pu=Math.LN2;function Vu(t){return t>>>=0,t===0?32:31-(jo(t)/Pu|0)|0}var ti=128,_r=4194304;function Gn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cn(t,r){var a=t.pendingLanes;if(a===0)return 0;var l=0,f=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?l=Gn(a):(d&=b,d!==0?l=Gn(d):t||(v=b&~v,v!==0&&(l=Gn(v))))):(b=a&~f,b!==0?l=Gn(b):d!==0?l=Gn(d):t||(v=a&~v,v!==0&&(l=Gn(v)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,v=r&-r,f>=v||f===32&&(v&4194176)!==0)?r:l}function vr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Aa(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=ti;return ti<<=1,(ti&4194176)===0&&(ti=128),t}function Er(){var t=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),t}function Sa(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function pt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uu(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-tn(a),ne=1<<Y;b[Y]=0,N[Y]=-1;var F=U[Y];if(F!==null)for(U[Y]=null,Y=0;Y<F.length;Y++){var Q=F[Y];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&Tr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Tr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-tn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function br(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-tn(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Lu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ju(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Tv(t.type))}function wr(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var ni=Math.random().toString(36).slice(2),kt="__reactFiber$"+ni,St="__reactProps$"+ni,xi="__reactContainer$"+ni,Rs="__reactEvents$"+ni,Ra="__reactListeners$"+ni,ii="__reactHandles$"+ni,Bo="__reactResources$"+ni,Ar="__reactMarker$"+ni;function Cs(t){delete t[kt],delete t[St],delete t[Rs],delete t[Ra],delete t[ii]}function Kn(t){var r=t[kt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[xi]||a[kt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=av(t);t!==null;){if(a=t[kt])return a;t=av(t)}return r}t=a,a=t.parentNode}return null}function Oi(t){if(t=t[kt]||t[xi]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Sr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Rr(t){var r=t[Bo];return r||(r=t[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Je(t){t[Ar]=!0}var Ho=new Set,Ca={};function gn(t,r){cn(t,r),cn(t+"Capture",r)}function cn(t,r){for(Ca[t]=r,t=0;t<r.length;t++)Ho.add(r[t])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Fo={};function zu(t){return ba.call(Fo,t)?!0:ba.call(qo,t)?!1:vf.test(t)?Fo[t]=!0:(qo[t]=!0,!1)}function Cr(t,r,a){if(zu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ir(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function In(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ef(t){var r=Bu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Is(t){t._valueTracker||(t._valueTracker=Ef(t))}function Go(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Bu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ki=/[\n"\\]/g;function lt(t){return t.replace(ki,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Nr(t,r,a,l,f,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Na(t,v,nn(r)):a!=null?Na(t,v,nn(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+nn(b):t.removeAttribute("name")}function Ns(t,r,a,l,f,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Na(t,r,a){r==="number"&&Ia(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Be(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Ds(t,r,a){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+nn(a):""}function Dr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Nn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Tf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Tf.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Hu(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Ko(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Ko(t,d,r[d])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(t){return wf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Dn=null;function Da(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,Pi=null;function Vi(t){var r=Oi(t);if(r&&(t=r.stateNode)){var a=t[St]||null;e:switch(t=r.stateNode,r.type){case"input":if(Nr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[St]||null;if(!f)throw Error(s(90));Nr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Go(l)}break e;case"textarea":Ds(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Be(t,!!a.multiple,r,!1)}}}var Qo=!1;function qu(t,r,a){if(Qo)return t(r,a);Qo=!0;try{var l=t(r);return l}finally{if(Qo=!1,(Mi!==null||Pi!==null)&&(Mc(),Mi&&(r=Mi,t=Pi,Pi=Mi=null,Vi(r),t)))for(r=0;r<t.length;r++)Vi(t[r])}}function xs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[St]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var xn=!1;if(yn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{xn=!1}var si=null,xr=null,Ui=null;function Yo(){if(Ui)return Ui;var t,r=xr,a=r.length,l,f="value"in si?si.value:si.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return Ui=f.slice(t,1<l?1-l:void 0)}function ai(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function Xo(){return!1}function Mt(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:Xo,this.isPropagationStopped=Xo,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Mt(Fe),ks=D({},Fe,{view:0,detail:0}),Fu=Mt(ks),Oa,ka,li,Ms=D({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Oa=t.screenX-li.screenX,ka=t.screenY-li.screenY):ka=Oa=0,li=t),Oa)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),On=Mt(Ms),Gu=D({},Ms,{dataTransfer:0}),Af=Mt(Gu),Ps=D({},ks,{relatedTarget:0}),Ma=Mt(Ps),Wo=D({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=Mt(Wo),Ku=D({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Va=Mt(Ku),Sf=D({},Fe,{data:0}),Zo=Mt(Sf),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Qu[t])?!!r[t]:!1}function Us(){return Jo}var Yu=D({},ks,{key:function(t){if(t.key){var r=Vs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ua=Mt(Yu),Xu=D({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Mt(Xu),Li=D({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),Wu=Mt(Li),Zu=D({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=Mt(Zu),ec=D({},Ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Mt(ec),rn=D({},Fe,{newState:0,oldState:0}),tc=Mt(rn),nc=[9,13,27,32],ui=yn&&"CompositionEvent"in window,c=null;yn&&"documentMode"in document&&(c=document.documentMode);var y=yn&&"TextEvent"in window&&!c,_=yn&&(!ui||c&&8<c&&11>=c),S=" ",B=!1;function K(t,r){switch(t){case"keyup":return nc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Rt(t,r){switch(t){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return t=r.data,t===S&&B?null:t;default:return null}}function Ve(t,r){if(Pe)return t==="compositionend"||!ui&&K(t,r)?(t=Yo(),Ui=xr=si=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function ji(t,r,a,l){Mi?Pi?Pi.push(l):Pi=[l]:Mi=l,r=jc(r,"onChange"),0<r.length&&(a=new xa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zt=null,ci=null;function tl(t){W_(t,0)}function ic(t){var r=Sr(t);if(Go(r))return t}function Rg(t,r){if(t==="change")return r}var Cg=!1;if(yn){var Rf;if(yn){var Cf="oninput"in document;if(!Cf){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Cf=typeof Ig.oninput=="function"}Rf=Cf}else Rf=!1;Cg=Rf&&(!document.documentMode||9<document.documentMode)}function Ng(){zt&&(zt.detachEvent("onpropertychange",Dg),ci=zt=null)}function Dg(t){if(t.propertyName==="value"&&ic(ci)){var r=[];ji(r,ci,t,Da(t)),qu(tl,r)}}function zw(t,r,a){t==="focusin"?(Ng(),zt=r,ci=a,zt.attachEvent("onpropertychange",Dg)):t==="focusout"&&Ng()}function Bw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(ci)}function Hw(t,r){if(t==="click")return ic(r)}function qw(t,r){if(t==="input"||t==="change")return ic(r)}function Fw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:Fw;function nl(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ba.call(r,f)||!_n(t[f],r[f]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,r){var a=xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function kg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?kg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ia(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ia(t.document)}return r}function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Gw(t,r){var a=Mg(r);r=t.focusedElem;var l=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&kg(r.ownerDocument.documentElement,r)){if(l!==null&&If(r)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,d=Math.min(l.start,f);l=l.end===void 0?d:Math.min(l.end,f),!a.extend&&d>l&&(f=l,l=d,d=f),f=Og(r,d);var v=Og(r,l);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Kw=yn&&"documentMode"in document&&11>=document.documentMode,ja=null,Nf=null,il=null,Df=!1;function Pg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||ja==null||ja!==Ia(l)||(l=ja,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=jc(Nf,"onSelect"),0<l.length&&(r=new xa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ja)))}function Ls(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var za={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},xf={},Vg={};yn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function js(t){if(xf[t])return xf[t];if(!za[t])return t;var r=za[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Vg)return xf[t]=r[a];return t}var Ug=js("animationend"),Lg=js("animationiteration"),jg=js("animationstart"),$w=js("transitionrun"),Qw=js("transitionstart"),Yw=js("transitioncancel"),zg=js("transitionend"),Bg=new Map,Hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $n(t,r){Bg.set(t,r),gn(r,[t])}var kn=[],Ba=0,Of=0;function rc(){for(var t=Ba,r=Of=Ba=0;r<t;){var a=kn[r];kn[r++]=null;var l=kn[r];kn[r++]=null;var f=kn[r];kn[r++]=null;var d=kn[r];if(kn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&qg(a,f,d)}}function sc(t,r,a,l){kn[Ba++]=t,kn[Ba++]=r,kn[Ba++]=a,kn[Ba++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kf(t,r,a,l){return sc(t,r,a,l),ac(t)}function Or(t,r){return sc(t,null,null,r),ac(t)}function qg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;f&&r!==null&&t.tag===3&&(d=t.stateNode,f=31-tn(a),d=d.hiddenUpdates,t=d[f],t===null?d[f]=[r]:t.push(r),r.lane=a|536870912)}function ac(t){if(50<Il)throw Il=0,jd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ha={},Fg=new WeakMap;function Mn(t,r){if(typeof t=="object"&&t!==null){var a=Fg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:_e(r)},Fg.set(t,r),r)}return{value:t,source:r,stack:_e(r)}}var qa=[],Fa=0,oc=null,lc=0,Pn=[],Vn=0,zs=null,zi=1,Bi="";function Bs(t,r){qa[Fa++]=lc,qa[Fa++]=oc,oc=t,lc=r}function Gg(t,r,a){Pn[Vn++]=zi,Pn[Vn++]=Bi,Pn[Vn++]=zs,zs=t;var l=zi;t=Bi;var f=32-tn(l)-1;l&=~(1<<f),a+=1;var d=32-tn(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,zi=1<<32-tn(r)+f|a<<f|l,Bi=d+t}else zi=1<<d|a<<f|l,Bi=t}function Mf(t){t.return!==null&&(Bs(t,1),Gg(t,1,0))}function Pf(t){for(;t===oc;)oc=qa[--Fa],qa[Fa]=null,lc=qa[--Fa],qa[Fa]=null;for(;t===zs;)zs=Pn[--Vn],Pn[Vn]=null,Bi=Pn[--Vn],Pn[Vn]=null,zi=Pn[--Vn],Pn[Vn]=null}var sn=null,Bt=null,He=!1,Qn=null,hi=!1,Vf=Error(s(519));function Hs(t){var r=Error(s(418,""));throw al(Mn(r,t)),Vf}function Kg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[kt]=t,r[St]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Me(Dl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Ns(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Is(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Dr(r,l.value,l.defaultValue,l.children),Is(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||tv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=zc),r=!0):r=!1,r||Hs(t)}function $g(t){for(sn=t.return;sn;)switch(sn.tag){case 3:case 27:hi=!0;return;case 5:case 13:hi=!1;return;default:sn=sn.return}}function rl(t){if(t!==sn)return!1;if(!He)return $g(t),He=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&Bt&&Hs(t),$g(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Bt=Xn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Bt=null}}else Bt=sn?Xn(t.stateNode.nextSibling):null;return!0}function sl(){Bt=sn=null,He=!1}function al(t){Qn===null?Qn=[t]:Qn.push(t)}var ol=Error(s(460)),Qg=Error(s(474)),Uf={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uc(){}function Xg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(uc,uc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===ol?Error(s(483)):t;default:if(typeof r.status=="string")r.then(uc,uc);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===ol?Error(s(483)):t}throw ll=r,ol}}var ll=null;function Wg(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}var Ga=null,ul=0;function cc(t){var r=ul;return ul+=1,Ga===null&&(Ga=[]),Xg(Ga,t,r)}function cl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function hc(t,r){throw r.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Zg(t){var r=t._init;return r(t._payload)}function Jg(t){function r(j,P){if(t){var q=j.deletions;q===null?(j.deletions=[P],j.flags|=16):q.push(P)}}function a(j,P){if(!t)return null;for(;P!==null;)r(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=Fr(j,P),j.index=0,j.sibling=null,j}function d(j,P,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<P?(j.flags|=33554434,P):q):(j.flags|=33554434,P)):(j.flags|=1048576,P)}function v(j){return t&&j.alternate===null&&(j.flags|=33554434),j}function b(j,P,q,Z){return P===null||P.tag!==6?(P=xd(q,j.mode,Z),P.return=j,P):(P=f(P,q),P.return=j,P)}function N(j,P,q,Z){var he=q.type;return he===p?Y(j,P,q.props.children,Z,q.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===te&&Zg(he)===P.type)?(P=f(P,q.props),cl(P,q),P.return=j,P):(P=Nc(q.type,q.key,q.props,null,j.mode,Z),cl(P,q),P.return=j,P)}function U(j,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Od(q,j.mode,Z),P.return=j,P):(P=f(P,q.children||[]),P.return=j,P)}function Y(j,P,q,Z,he){return P===null||P.tag!==7?(P=Zs(q,j.mode,Z,he),P.return=j,P):(P=f(P,q),P.return=j,P)}function ne(j,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=xd(""+P,j.mode,q),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case h:return q=Nc(P.type,P.key,P.props,null,j.mode,q),cl(q,P),q.return=j,q;case m:return P=Od(P,j.mode,q),P.return=j,P;case te:var Z=P._init;return P=Z(P._payload),ne(j,P,q)}if(ae(P)||ge(P))return P=Zs(P,j.mode,q,null),P.return=j,P;if(typeof P.then=="function")return ne(j,cc(P),q);if(P.$$typeof===O)return ne(j,Rc(j,P),q);hc(j,P)}return null}function F(j,P,q,Z){var he=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:b(j,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===he?N(j,P,q,Z):null;case m:return q.key===he?U(j,P,q,Z):null;case te:return he=q._init,q=he(q._payload),F(j,P,q,Z)}if(ae(q)||ge(q))return he!==null?null:Y(j,P,q,Z,null);if(typeof q.then=="function")return F(j,P,cc(q),Z);if(q.$$typeof===O)return F(j,P,Rc(j,q),Z);hc(j,q)}return null}function Q(j,P,q,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,b(P,j,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return j=j.get(Z.key===null?q:Z.key)||null,N(P,j,Z,he);case m:return j=j.get(Z.key===null?q:Z.key)||null,U(P,j,Z,he);case te:var De=Z._init;return Z=De(Z._payload),Q(j,P,q,Z,he)}if(ae(Z)||ge(Z))return j=j.get(q)||null,Y(P,j,Z,he,null);if(typeof Z.then=="function")return Q(j,P,q,cc(Z),he);if(Z.$$typeof===O)return Q(j,P,q,Rc(P,Z),he);hc(P,Z)}return null}function de(j,P,q,Z){for(var he=null,De=null,pe=P,ve=P=0,Lt=null;pe!==null&&ve<q.length;ve++){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var qe=F(j,pe,q[ve],Z);if(qe===null){pe===null&&(pe=Lt);break}t&&pe&&qe.alternate===null&&r(j,pe),P=d(qe,P,ve),De===null?he=qe:De.sibling=qe,De=qe,pe=Lt}if(ve===q.length)return a(j,pe),He&&Bs(j,ve),he;if(pe===null){for(;ve<q.length;ve++)pe=ne(j,q[ve],Z),pe!==null&&(P=d(pe,P,ve),De===null?he=pe:De.sibling=pe,De=pe);return He&&Bs(j,ve),he}for(pe=l(pe);ve<q.length;ve++)Lt=Q(pe,j,ve,q[ve],Z),Lt!==null&&(t&&Lt.alternate!==null&&pe.delete(Lt.key===null?ve:Lt.key),P=d(Lt,P,ve),De===null?he=Lt:De.sibling=Lt,De=Lt);return t&&pe.forEach(function(Wr){return r(j,Wr)}),He&&Bs(j,ve),he}function we(j,P,q,Z){if(q==null)throw Error(s(151));for(var he=null,De=null,pe=P,ve=P=0,Lt=null,qe=q.next();pe!==null&&!qe.done;ve++,qe=q.next()){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var Wr=F(j,pe,qe.value,Z);if(Wr===null){pe===null&&(pe=Lt);break}t&&pe&&Wr.alternate===null&&r(j,pe),P=d(Wr,P,ve),De===null?he=Wr:De.sibling=Wr,De=Wr,pe=Lt}if(qe.done)return a(j,pe),He&&Bs(j,ve),he;if(pe===null){for(;!qe.done;ve++,qe=q.next())qe=ne(j,qe.value,Z),qe!==null&&(P=d(qe,P,ve),De===null?he=qe:De.sibling=qe,De=qe);return He&&Bs(j,ve),he}for(pe=l(pe);!qe.done;ve++,qe=q.next())qe=Q(pe,j,ve,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&pe.delete(qe.key===null?ve:qe.key),P=d(qe,P,ve),De===null?he=qe:De.sibling=qe,De=qe);return t&&pe.forEach(function(uS){return r(j,uS)}),He&&Bs(j,ve),he}function ht(j,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var he=q.key;P!==null;){if(P.key===he){if(he=q.type,he===p){if(P.tag===7){a(j,P.sibling),Z=f(P,q.props.children),Z.return=j,j=Z;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===te&&Zg(he)===P.type){a(j,P.sibling),Z=f(P,q.props),cl(Z,q),Z.return=j,j=Z;break e}a(j,P);break}else r(j,P);P=P.sibling}q.type===p?(Z=Zs(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=Nc(q.type,q.key,q.props,null,j.mode,Z),cl(Z,q),Z.return=j,j=Z)}return v(j);case m:e:{for(he=q.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(j,P.sibling),Z=f(P,q.children||[]),Z.return=j,j=Z;break e}else{a(j,P);break}else r(j,P);P=P.sibling}Z=Od(q,j.mode,Z),Z.return=j,j=Z}return v(j);case te:return he=q._init,q=he(q._payload),ht(j,P,q,Z)}if(ae(q))return de(j,P,q,Z);if(ge(q)){if(he=ge(q),typeof he!="function")throw Error(s(150));return q=he.call(q),we(j,P,q,Z)}if(typeof q.then=="function")return ht(j,P,cc(q),Z);if(q.$$typeof===O)return ht(j,P,Rc(j,q),Z);hc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(j,P.sibling),Z=f(P,q),Z.return=j,j=Z):(a(j,P),Z=xd(q,j.mode,Z),Z.return=j,j=Z),v(j)):a(j,P)}return function(j,P,q,Z){try{ul=0;var he=ht(j,P,q,Z);return Ga=null,he}catch(pe){if(pe===ol)throw pe;var De=zn(29,pe,null,j.mode);return De.lanes=Z,De.return=j,De}finally{}}}var qs=Jg(!0),ey=Jg(!1),Ka=ze(null),fc=ze(0);function ty(t,r){t=Zi,Ke(fc,t),Ke(Ka,r),Zi=t|r.baseLanes}function Lf(){Ke(fc,Zi),Ke(Ka,Ka.current)}function jf(){Zi=fc.current,ot(Ka),ot(fc)}var Un=ze(null),fi=null;function kr(t){var r=t.alternate;Ke(It,It.current&1),Ke(Un,t),fi===null&&(r===null||Ka.current!==null||r.memoizedState!==null)&&(fi=t)}function ny(t){if(t.tag===22){if(Ke(It,It.current),Ke(Un,t),fi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(fi=t)}}else Mr()}function Mr(){Ke(It,It.current),Ke(Un,Un.current)}function Hi(t){ot(Un),fi===t&&(fi=null),ot(It)}var It=ze(0);function dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Xw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Ww=i.unstable_scheduleCallback,Zw=i.unstable_NormalPriority,Nt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new Xw,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&Ww(Zw,function(){t.controller.abort()})}var fl=null,Bf=0,$a=0,Qa=null;function Jw(t,r){if(fl===null){var a=fl=[];Bf=0,$a=$d(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bf++,r.then(iy,iy),r}function iy(){if(--Bf===0&&fl!==null){Qa!==null&&(Qa.status="fulfilled");var t=fl;fl=null,$a=0,Qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function eA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ry=R.S;R.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Jw(t,r),ry!==null&&ry(t,r)};var Fs=ze(null);function Hf(){var t=Fs.current;return t!==null?t:Xe.pooledCache}function mc(t,r){r===null?Ke(Fs,Fs.current):Ke(Fs,r.pool)}function sy(){var t=Hf();return t===null?null:{parent:Nt._currentValue,pool:t}}var Pr=0,Ie=null,$e=null,vt=null,pc=!1,Ya=!1,Gs=!1,gc=0,dl=0,Xa=null,tA=0;function gt(){throw Error(s(321))}function qf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!_n(t[a],r[a]))return!1;return!0}function Ff(t,r,a,l,f,d){return Pr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=t===null||t.memoizedState===null?Ks:Vr,Gs=!1,d=a(l,f),Gs=!1,Ya&&(d=oy(r,a,l,f)),ay(t),d}function ay(t){R.H=di;var r=$e!==null&&$e.next!==null;if(Pr=0,vt=$e=Ie=null,pc=!1,dl=0,Xa=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Sc(t)&&(Vt=!0))}function oy(t,r,a,l){Ie=t;var f=0;do{if(Ya&&(Xa=null),dl=0,Ya=!1,25<=f)throw Error(s(301));if(f+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}R.H=$s,d=r(a,l)}while(Ya);return d}function nA(){var t=R.H,r=t.useState()[0];return r=typeof r.then=="function"?ml(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Gf(){var t=gc!==0;return gc=0,t}function Kf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function $f(t){if(pc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}pc=!1}Pr=0,vt=$e=Ie=null,Ya=!1,dl=gc=0,Xa=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=vt===null?Ie.memoizedState:vt.next;if(r!==null)vt=r,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Ie.memoizedState=vt=t:vt=vt.next=t}return vt}var yc;yc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ml(t){var r=dl;return dl+=1,Xa===null&&(Xa=[]),t=Xg(Xa,t,r),r=Ie,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?Ks:Vr),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===O)return Qt(t)}throw Error(s(438,String(t)))}function Qf(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yc(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=ie;return r.index++,a}function qi(t,r){return typeof r=="function"?r(t):r}function vc(t){var r=Et();return Yf(r,$e,t)}function Yf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=v=null,N=null,U=r,Y=!1;do{var ne=U.lane&-536870913;if(ne!==U.lane?(Ue&ne)===ne:(Pr&ne)===ne){var F=U.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ne===$a&&(Y=!0);else if((Pr&F)===F){U=U.next,F===$a&&(Y=!0);continue}else ne={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=ne,v=d):N=N.next=ne,Ie.lanes|=F,Gr|=F;ne=U.action,Gs&&a(d,ne),d=U.hasEagerState?U.eagerState:a(d,ne)}else F={lane:ne,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=F,v=d):N=N.next=F,Ie.lanes|=ne,Gr|=ne;U=U.next}while(U!==null&&U!==r);if(N===null?v=d:N.next=b,!_n(d,t.memoizedState)&&(Vt=!0,Y&&(a=Qa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xf(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);_n(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ly(t,r,a){var l=Ie,f=Et(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!_n(($e||f).memoizedState,a);if(v&&(f.memoizedState=a,Vt=!0),f=f.queue,Jf(hy.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,cy.bind(null,l,f,a,r),{destroy:void 0},null),Xe===null)throw Error(s(349));d||(Pr&60)!==0||uy(l,r,a)}return a}function uy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=yc(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function cy(t,r,a,l){r.value=a,r.getSnapshot=l,fy(r)&&dy(t)}function hy(t,r,a){return a(function(){fy(r)&&dy(t)})}function fy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!_n(t,a)}catch{return!0}}function dy(t){var r=Or(t,2);r!==null&&an(r,t,2)}function Wf(t){var r=hn();if(typeof t=="function"){var a=t;if(t=a(),Gs){ei(!0);try{a()}finally{ei(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},r}function my(t,r,a,l){return t.baseState=a,Yf(t,$e,typeof l=="function"?l:qi)}function iA(t,r,a,l,f){if(bc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};R.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,py(r,d)):(d.next=a.next,r.pending=a.next=d)}}function py(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=R.T,v={};R.T=v;try{var b=a(f,l),N=R.S;N!==null&&N(v,b),gy(t,r,b)}catch(U){Zf(t,r,U)}finally{R.T=d}}else try{d=a(f,l),gy(t,r,d)}catch(U){Zf(t,r,U)}}function gy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yy(t,r,l)},function(l){return Zf(t,r,l)}):yy(t,r,a)}function yy(t,r,a){r.status="fulfilled",r.value=a,_y(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,py(t,a)))}function Zf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,_y(r),r=r.next;while(r!==l)}t.action=null}function _y(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function vy(t,r){return r}function Ey(t,r){if(He){var a=Xe.formState;if(a!==null){e:{var l=Ie;if(He){if(Bt){t:{for(var f=Bt,d=hi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Xn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Bt=Xn(f.nextSibling),l=f.data==="F!";break e}}Hs(l)}l=!1}l&&(r=a[0])}}return a=hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:r},a.queue=l,a=Ly.bind(null,Ie,l),l.dispatch=a,l=Wf(!1),d=rd.bind(null,Ie,!1,l.queue),l=hn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=iA.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ty(t){var r=Et();return by(r,$e,t)}function by(t,r,a){r=Yf(t,r,vy)[0],t=vc(qi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?ml(r):r;var l=Et(),f=l.queue,d=f.dispatch;return a!==l.memoizedState&&(Ie.flags|=2048,Wa(9,rA.bind(null,f,a),{destroy:void 0},null)),[r,d,t]}function rA(t,r){t.action=r}function wy(t){var r=Et(),a=$e;if(a!==null)return by(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Wa(t,r,a,l){return t={tag:t,create:r,inst:a,deps:l,next:null},r=Ie.updateQueue,r===null&&(r=yc(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Ay(){return Et().memoizedState}function Ec(t,r,a,l){var f=hn();Ie.flags|=t,f.memoizedState=Wa(1|r,a,{destroy:void 0},l===void 0?null:l)}function Tc(t,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;$e!==null&&l!==null&&qf(l,$e.memoizedState.deps)?f.memoizedState=Wa(r,a,d,l):(Ie.flags|=t,f.memoizedState=Wa(1|r,a,d,l))}function Sy(t,r){Ec(8390656,8,t,r)}function Jf(t,r){Tc(2048,8,t,r)}function Ry(t,r){return Tc(4,2,t,r)}function Cy(t,r){return Tc(4,4,t,r)}function Iy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ny(t,r,a){a=a!=null?a.concat([t]):null,Tc(4,4,Iy.bind(null,r,t),a)}function ed(){}function Dy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&qf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function xy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&qf(r,l[1]))return l[0];if(l=t(),Gs){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[l,r],l}function td(t,r,a){return a===void 0||(Pr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=k_(),Ie.lanes|=t,Gr|=t,a)}function Oy(t,r,a,l){return _n(a,r)?a:Ka.current!==null?(t=td(t,a,l),_n(t,r)||(Vt=!0),t):(Pr&42)===0?(Vt=!0,t.memoizedState=a):(t=k_(),Ie.lanes|=t,Gr|=t,r)}function ky(t,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var v=R.T,b={};R.T=b,rd(t,!1,r,a);try{var N=f(),U=R.S;if(U!==null&&U(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=eA(N,l);pl(t,r,Y,bn(t))}else pl(t,r,l,bn(t))}catch(ne){pl(t,r,{then:function(){},status:"rejected",reason:ne},bn())}finally{le.p=d,R.T=v}}function sA(){}function nd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=My(t).queue;ky(t,f,r,Se,a===null?sA:function(){return Py(t),a(l)})}function My(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:Se},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Py(t){var r=My(t).next.queue;pl(t,r,{},bn())}function id(){return Qt(Pl)}function Vy(){return Et().memoizedState}function Uy(){return Et().memoizedState}function aA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();t=jr(a);var l=zr(r,t,a);l!==null&&(an(l,r,a),_l(l,r,a)),r={cache:zf()},t.payload=r;return}r=r.return}}function oA(t,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bc(t)?jy(r,a):(a=kf(t,r,a,l),a!==null&&(an(a,t,l),zy(a,r,l)))}function Ly(t,r,a){var l=bn();pl(t,r,a,l)}function pl(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(t))jy(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(f.hasEagerState=!0,f.eagerState=b,_n(b,v))return sc(t,r,f,0),Xe===null&&rc(),!1}catch{}finally{}if(a=kf(t,r,f,l),a!==null)return an(a,t,l),zy(a,r,l),!0}return!1}function rd(t,r,a,l){if(l={lane:2,revertLane:$d(),action:l,hasEagerState:!1,eagerState:null,next:null},bc(t)){if(r)throw Error(s(479))}else r=kf(t,a,l,2),r!==null&&an(r,t,2)}function bc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function jy(t,r){Ya=pc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zy(t,r,a){if((a&4194176)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,br(t,a)}}var di={readContext:Qt,use:_c,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt};di.useCacheRefresh=gt,di.useMemoCache=gt,di.useHostTransitionStatus=gt,di.useFormState=gt,di.useActionState=gt,di.useOptimistic=gt;var Ks={readContext:Qt,use:_c,useCallback:function(t,r){return hn().memoizedState=[t,r===void 0?null:r],t},useContext:Qt,useEffect:Sy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ec(4194308,4,Iy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ec(4194308,4,t,r)},useInsertionEffect:function(t,r){Ec(4,2,t,r)},useMemo:function(t,r){var a=hn();r=r===void 0?null:r;var l=t();if(Gs){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=hn();if(a!==void 0){var f=a(r);if(Gs){ei(!0);try{a(r)}finally{ei(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=oA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=hn();return t={current:t},r.memoizedState=t},useState:function(t){t=Wf(t);var r=t.queue,a=Ly.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(t,r){var a=hn();return td(a,t,r)},useTransition:function(){var t=Wf(!1);return t=ky.bind(null,Ie,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,f=hn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Xe===null)throw Error(s(349));(Ue&60)!==0||uy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Sy(hy.bind(null,l,d,t),[t]),l.flags|=2048,Wa(9,cy.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var t=hn(),r=Xe.identifierPrefix;if(He){var a=Bi,l=zi;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=gc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=tA++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return hn().memoizedState=aA.bind(null,Ie)}};Ks.useMemoCache=Qf,Ks.useHostTransitionStatus=id,Ks.useFormState=Ey,Ks.useActionState=Ey,Ks.useOptimistic=function(t){var r=hn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=rd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]};var Vr={readContext:Qt,use:_c,useCallback:Dy,useContext:Qt,useEffect:Jf,useImperativeHandle:Ny,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:xy,useReducer:vc,useRef:Ay,useState:function(){return vc(qi)},useDebugValue:ed,useDeferredValue:function(t,r){var a=Et();return Oy(a,$e.memoizedState,t,r)},useTransition:function(){var t=vc(qi)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ml(t),r]},useSyncExternalStore:ly,useId:Vy};Vr.useCacheRefresh=Uy,Vr.useMemoCache=Qf,Vr.useHostTransitionStatus=id,Vr.useFormState=Ty,Vr.useActionState=Ty,Vr.useOptimistic=function(t,r){var a=Et();return my(a,$e,t,r)};var $s={readContext:Qt,use:_c,useCallback:Dy,useContext:Qt,useEffect:Jf,useImperativeHandle:Ny,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:xy,useReducer:Xf,useRef:Ay,useState:function(){return Xf(qi)},useDebugValue:ed,useDeferredValue:function(t,r){var a=Et();return $e===null?td(a,t,r):Oy(a,$e.memoizedState,t,r)},useTransition:function(){var t=Xf(qi)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ml(t),r]},useSyncExternalStore:ly,useId:Vy};$s.useCacheRefresh=Uy,$s.useMemoCache=Qf,$s.useHostTransitionStatus=id,$s.useFormState=wy,$s.useActionState=wy,$s.useOptimistic=function(t,r){var a=Et();return $e!==null?my(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])};function sd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ad={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var l=bn(),f=jr(l);f.payload=r,a!=null&&(f.callback=a),r=zr(t,f,l),r!==null&&(an(r,t,l),_l(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=bn(),f=jr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=zr(t,f,l),r!==null&&(an(r,t,l),_l(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=bn(),l=jr(a);l.tag=2,r!=null&&(l.callback=r),r=zr(t,l,a),r!==null&&(an(r,t,a),_l(r,t,a))}};function By(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!nl(a,l)||!nl(f,d):!0}function Hy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&ad.enqueueReplaceState(r,r.state,null)}function Qs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=D({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qy(t){wc(t)}function Fy(t){console.error(t)}function Gy(t){wc(t)}function Ac(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ky(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function od(t,r,a){return a=jr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(t,r)},a}function $y(t){return t=jr(t),t.tag=3,t}function Qy(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Ky(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ky(r,a,l),typeof f!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function lA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&yl(r,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 13:return fi===null?Hd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Uf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fd(t,l,f)),!1;case 22:return a.flags|=65536,l===Uf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fd(t,l,f)),!1}throw Error(s(435,a.tag))}return Fd(t,l,f),Hd(),!1}if(He)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Vf&&(t=Error(s(422),{cause:l}),al(Mn(t,a)))):(l!==Vf&&(r=Error(s(423),{cause:l}),al(Mn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=od(t.stateNode,l,f),bd(t,f),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),Rl===null?Rl=[d]:Rl.push(d),ct!==4&&(ct=2),r===null)return!0;l=Mn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=od(a.stateNode,l,t),bd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=$y(f),Qy(f,t,a,l),bd(a,f),!1}a=a.return}while(a!==null);return!1}var Yy=Error(s(461)),Vt=!1;function Ht(t,r,a,l){r.child=t===null?ey(r,null,a,l):qs(r,t.child,a,l)}function Xy(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Xs(r),l=Ff(t,r,a,v,d,f),b=Gf(),t!==null&&!Vt?(Kf(t,r,f),Fi(t,r,f)):(He&&b&&Mf(r),r.flags|=1,Ht(t,r,l,f),r.child)}function Wy(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Dd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Zy(t,r,d,l,f)):(t=Nc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!gd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(v,l)&&t.ref===r.ref)return Fi(t,r,f)}return r.flags|=1,t=Fr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Zy(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,gd(t,f))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Fi(t,r,f)}return ld(t,r,a,l,f)}function Jy(t,r,a){var l=r.pendingProps,f=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(gl(t,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return e_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(r,v!==null?v.cachePool:null),v!==null?ty(r,v):Lf(),ny(r);else return r.lanes=r.childLanes=536870912,e_(t,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(mc(r,v.cachePool),ty(r,v),Mr(),r.memoizedState=null):(t!==null&&mc(r,null),Lf(),Mr());return Ht(t,r,f,a),r.child}function e_(t,r,a,l){var f=Hf();return f=f===null?null:{parent:Nt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&mc(r,null),Lf(),ny(r),t!==null&&yl(t,r,l,!0),null}function gl(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function ld(t,r,a,l,f){return Xs(r),a=Ff(t,r,a,l,void 0,f),l=Gf(),t!==null&&!Vt?(Kf(t,r,f),Fi(t,r,f)):(He&&l&&Mf(r),r.flags|=1,Ht(t,r,a,f),r.child)}function t_(t,r,a,l,f,d){return Xs(r),r.updateQueue=null,a=oy(r,l,a,f),ay(t),l=Gf(),t!==null&&!Vt?(Kf(t,r,d),Fi(t,r,d)):(He&&l&&Mf(r),r.flags|=1,Ht(t,r,a,d),r.child)}function n_(t,r,a,l,f){if(Xs(r),r.stateNode===null){var d=Ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ad,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Ed(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Ha,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(sd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ad.enqueueReplaceState(d,d.state,null),El(r,l,d,f),vl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,N=Qs(a,b);d.props=N;var U=d.context,Y=a.contextType;v=Ha,typeof Y=="object"&&Y!==null&&(v=Qt(Y));var ne=a.getDerivedStateFromProps;Y=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||U!==v)&&Hy(r,d,l,v),Lr=!1;var F=r.memoizedState;d.state=F,El(r,l,d,f),vl(),U=r.memoizedState,b||F!==U||Lr?(typeof ne=="function"&&(sd(r,a,ne,l),U=r.memoizedState),(N=Lr||By(r,a,N,l,F,U,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),d.props=l,d.state=U,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Td(t,r),v=r.memoizedProps,Y=Qs(a,v),d.props=Y,ne=r.pendingProps,F=d.context,U=a.contextType,N=Ha,typeof U=="object"&&U!==null&&(N=Qt(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||F!==N)&&Hy(r,d,l,N),Lr=!1,F=r.memoizedState,d.state=F,El(r,l,d,f),vl();var Q=r.memoizedState;v!==ne||F!==Q||Lr||t!==null&&t.dependencies!==null&&Sc(t.dependencies)?(typeof b=="function"&&(sd(r,a,b,l),Q=r.memoizedState),(Y=Lr||By(r,a,Y,l,F,Q,N)||t!==null&&t.dependencies!==null&&Sc(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,gl(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=qs(r,t.child,null,f),r.child=qs(r,null,a,f)):Ht(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Fi(t,r,f),t}function i_(t,r,a,l){return sl(),r.flags|=256,Ht(t,r,a,l),r.child}var ud={dehydrated:null,treeContext:null,retryLane:0};function cd(t){return{baseLanes:t,cachePool:sy()}}function hd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Bn),t}function r_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(He){if(f?kr(r):Mr(),He){var b=Bt,N;if(N=b){e:{for(N=b,b=hi;N.nodeType!==8;){if(!b){b=null;break e}if(N=Xn(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(r.memoizedState={dehydrated:b,treeContext:zs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912},N=zn(18,null,null,0),N.stateNode=b,N.return=r,r.child=N,sn=r,Bt=null,N=!0):N=!1}N||Hs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?r.lanes=16:r.lanes=536870912,null;Hi(r)}return b=l.children,l=l.fallback,f?(Mr(),f=r.mode,b=dd({mode:"hidden",children:b},f),l=Zs(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=cd(a),f.childLanes=hd(t,v,a),r.memoizedState=ud,l):(kr(r),fd(r,b))}if(N=t.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)r.flags&256?(kr(r),r.flags&=-257,r=md(t,r,a)):r.memoizedState!==null?(Mr(),r.child=t.child,r.flags|=128,r=null):(Mr(),f=l.fallback,b=r.mode,l=dd({mode:"visible",children:l.children},b),f=Zs(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,qs(r,t.child,null,a),l=r.child,l.memoizedState=cd(a),l.childLanes=hd(t,v,a),r.memoizedState=ud,r=f);else if(kr(r),b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,al({value:l,source:null,stack:null}),r=md(t,r,a)}else if(Vt||yl(t,r,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=Xe,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane)throw N.retryLane=l,Or(t,l),an(v,t,l),Yy}b.data==="$?"||Hd(),r=md(t,r,a)}else b.data==="$?"?(r.flags|=128,r.child=t.child,r=wA.bind(null,t),b._reactRetry=r,r=null):(t=N.treeContext,Bt=Xn(b.nextSibling),sn=r,He=!0,Qn=null,hi=!1,t!==null&&(Pn[Vn++]=zi,Pn[Vn++]=Bi,Pn[Vn++]=zs,zi=t.id,Bi=t.overflow,zs=r),r=fd(r,l.children),r.flags|=4096);return r}return f?(Mr(),f=l.fallback,b=r.mode,N=t.child,U=N.sibling,l=Fr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&31457280,U!==null?f=Fr(U,f):(f=Zs(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=t.child.memoizedState,b===null?b=cd(a):(N=b.cachePool,N!==null?(U=Nt._currentValue,N=N.parent!==U?{parent:U,pool:U}:N):N=sy(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=hd(t,v,a),r.memoizedState=ud,l):(kr(r),a=t.child,t=a.sibling,a=Fr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function fd(t,r){return r=dd({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function dd(t,r){return D_(t,r,0,null)}function md(t,r,a){return qs(r,t.child,null,a),t=fd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function s_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),_d(t.return,r,a)}function pd(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function a_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Ht(t,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s_(t,a,r);else if(t.tag===19)s_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ke(It,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),pd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&dc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}pd(r,!0,a,null,d);break;case"together":pd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Gr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(yl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Fr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Fr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function gd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Sc(t)))}function uA(t,r,a){switch(r.tag){case 3:gr(r,r.stateNode.containerInfo),Ur(r,Nt,t.memoizedState.cache),sl();break;case 27:case 5:Po(r);break;case 4:gr(r,r.stateNode.containerInfo);break;case 10:Ur(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?r_(t,r,a):(kr(r),t=Fi(t,r,a),t!==null?t.sibling:null);kr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(yl(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return a_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,Jy(t,r,a);case 24:Ur(r,Nt,t.memoizedState.cache)}return Fi(t,r,a)}function o_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!gd(t,a)&&(r.flags&128)===0)return Vt=!1,uA(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,He&&(r.flags&1048576)!==0&&Gg(r,lc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Dd(l)?(t=Qs(l,t),r.tag=1,r=n_(null,r,l,t,a)):(r.tag=0,r=ld(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===k){r.tag=11,r=Xy(null,r,l,t,a);break e}else if(f===G){r.tag=14,r=Wy(null,r,l,t,a);break e}}throw r=C(l)||l,Error(s(306,r,""))}}return r;case 0:return ld(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Qs(l,r.pendingProps),n_(t,r,l,f,a);case 3:e:{if(gr(r,r.stateNode.containerInfo),t===null)throw Error(s(387));var d=r.pendingProps;f=r.memoizedState,l=f.element,Td(t,r),El(r,d,null,a);var v=r.memoizedState;if(d=v.cache,Ur(r,Nt,d),d!==f.cache&&vd(r,[Nt],a,!0),vl(),d=v.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=i_(t,r,d,a);break e}else if(d!==l){l=Mn(Error(s(424)),r),al(l),r=i_(t,r,d,a);break e}else for(Bt=Xn(r.stateNode.containerInfo.firstChild),sn=r,He=!0,Qn=null,hi=!0,a=ey(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(sl(),d===l){r=Fi(t,r,a);break e}Ht(t,r,d,a)}r=r.child}return r;case 26:return gl(t,r),t===null?(a=cv(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,t=r.pendingProps,l=Bc(Rn.current).createElement(a),l[kt]=r,l[St]=t,qt(l,a,t),Je(l),r.stateNode=l):r.memoizedState=cv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Po(r),t===null&&He&&(l=r.stateNode=ov(r.type,r.pendingProps,Rn.current),sn=r,hi=!0,Bt=Xn(l.firstChild)),l=r.pendingProps.children,t!==null||He?Ht(t,r,l,a):r.child=qs(r,null,l,a),gl(t,r),r.child;case 5:return t===null&&He&&((f=l=Bt)&&(l=jA(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,sn=r,Bt=Xn(l.firstChild),hi=!1,f=!0):f=!1),f||Hs(r)),Po(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,nm(f,d)?l=null:v!==null&&nm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Ff(t,r,nA,null,null,a),Pl._currentValue=f),gl(t,r),Ht(t,r,l,a),r.child;case 6:return t===null&&He&&((t=a=Bt)&&(a=zA(a,r.pendingProps,hi),a!==null?(r.stateNode=a,sn=r,Bt=null,t=!0):t=!1),t||Hs(r)),null;case 13:return r_(t,r,a);case 4:return gr(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=qs(r,null,l,a):Ht(t,r,l,a),r.child;case 11:return Xy(t,r,r.type,r.pendingProps,a);case 7:return Ht(t,r,r.pendingProps,a),r.child;case 8:return Ht(t,r,r.pendingProps.children,a),r.child;case 12:return Ht(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ur(r,r.type,l.value),Ht(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Xs(r),f=Qt(f),l=l(f),r.flags|=1,Ht(t,r,l,a),r.child;case 14:return Wy(t,r,r.type,r.pendingProps,a);case 15:return Zy(t,r,r.type,r.pendingProps,a);case 19:return a_(t,r,a);case 22:return Jy(t,r,a);case 24:return Xs(r),l=Qt(Nt),t===null?(f=Hf(),f===null&&(f=Xe,d=zf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Ed(r),Ur(r,Nt,f)):((t.lanes&a)!==0&&(Td(t,r),El(r,null,null,a),vl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ur(r,Nt,l)):(l=d.cache,Ur(r,Nt,l),l!==f.cache&&vd(r,[Nt],a,!0))),Ht(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var yd=ze(null),Ys=null,Gi=null;function Ur(t,r,a){Ke(yd,r._currentValue),r._currentValue=a}function Ki(t){t._currentValue=yd.current,ot(yd)}function _d(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function vd(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<r.length;N++)if(b.context===r[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),_d(d.return,a,t),l||(v=null);break e}d=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),_d(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function yl(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=f.type;_n(f.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(f===pr.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&vd(r,t,a,l),r.flags|=262144}function Sc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xs(t){Ys=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return l_(Ys,t)}function Rc(t,r){return Ys===null&&Xs(t),l_(t,r)}function l_(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Gi=Gi.next=r;return a}var Lr=!1;function Ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function jr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ac(t),qg(t,null,a),r}return sc(t,l,r,a),ac(t)}function _l(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,br(t,a)}}function bd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var wd=!1;function vl(){if(wd){var t=Qa;if(t!==null)throw t}}function El(t,r,a,l){wd=!1;var f=t.updateQueue;Lr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,U=N.next;N.next=null,v===null?d=U:v.next=U,v=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==v&&(b===null?Y.firstBaseUpdate=U:b.next=U,Y.lastBaseUpdate=N))}if(d!==null){var ne=f.baseState;v=0,Y=U=N=null,b=d;do{var F=b.lane&-536870913,Q=F!==b.lane;if(Q?(Ue&F)===F:(l&F)===F){F!==0&&F===$a&&(wd=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,we=b;F=r;var ht=a;switch(we.tag){case 1:if(de=we.payload,typeof de=="function"){ne=de.call(ht,ne,F);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=we.payload,F=typeof de=="function"?de.call(ht,ne,F):de,F==null)break e;ne=D({},ne,F);break e;case 2:Lr=!0}}F=b.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(U=Y=Q,N=ne):Y=Y.next=Q,v|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=U,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Gr|=v,t.lanes=v,t.memoizedState=ne}}function u_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function c_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)u_(a[t],r)}function Tl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(b){Ye(r,r.return,b)}}function Br(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=r;var N=a;try{b()}catch(U){Ye(f,N,U)}}}l=l.next}while(l!==d)}}catch(U){Ye(r,r.return,U)}}function h_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{c_(r,a)}catch(l){Ye(t,t.return,l)}}}function f_(t,r,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,r,l)}}function Ws(t,r){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?t.refCleanup=a(f):a.current=f}}catch(d){Ye(t,r,d)}}function vn(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,r,f)}else a.current=null}function d_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function m_(t,r,a){try{var l=t.stateNode;MA(l,t.type,a,r),l[St]=r}catch(f){Ye(t,t.return,f)}}function p_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=zc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Sd(t,r,a),t=t.sibling;t!==null;)Sd(t,r,a),t=t.sibling}function Cc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Cc(t,r,a),t=t.sibling;t!==null;)Cc(t,r,a),t=t.sibling}var $i=!1,ut=!1,Rd=!1,g_=typeof WeakSet=="function"?WeakSet:Set,Ut=null,y_=!1;function cA(t,r){if(t=t.containerInfo,em=$c,t=Mg(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,N=-1,U=0,Y=0,ne=t,F=null;t:for(;;){for(var Q;ne!==a||f!==0&&ne.nodeType!==3||(b=v+f),ne!==d||l!==0&&ne.nodeType!==3||(N=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)F=ne,ne=Q;for(;;){if(ne===t)break t;if(F===a&&++U===f&&(b=v),F===d&&++Y===l&&(N=v),(Q=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=Q}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},$c=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Qs(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){Ye(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}return de=y_,y_=!1,de}function __(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&Tl(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){Ye(a,a.return,b)}else{var f=Qs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Ye(a,a.return,b)}}l&64&&h_(a),l&512&&Ws(a,a.return);break;case 3:if(Yi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{c_(l,t)}catch(b){Ye(a,a.return,b)}}break;case 26:Yi(t,a),l&512&&Ws(a,a.return);break;case 27:case 5:Yi(t,a),r===null&&l&4&&d_(a),l&512&&Ws(a,a.return);break;case 12:Yi(t,a);break;case 13:Yi(t,a),l&4&&T_(t,a);break;case 22:if(f=a.memoizedState!==null||$i,!f){r=r!==null&&r.memoizedState!==null||ut;var d=$i,v=ut;$i=f,(ut=r)&&!v?Hr(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),$i=d,ut=v}l&512&&(a.memoizedProps.mode==="manual"?Ws(a,a.return):vn(a,a.return));break;default:Yi(t,a)}}function v_(t){var r=t.alternate;r!==null&&(t.alternate=null,v_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Cs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,En=!1;function Qi(t,r,a){for(a=a.child;a!==null;)E_(t,r,a),a=a.sibling}function E_(t,r,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(yr,a)}catch{}switch(a.tag){case 26:ut||vn(a,r),Qi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||vn(a,r);var l=Tt,f=En;for(Tt=a.stateNode,Qi(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Cs(a),Tt=l,En=f;break;case 5:ut||vn(a,r);case 6:f=Tt;var d=En;if(Tt=null,Qi(t,r,a),Tt=f,En=d,Tt!==null)if(En)try{t=Tt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ye(a,r,v)}else try{Tt.removeChild(a.stateNode)}catch(v){Ye(a,r,v)}break;case 18:Tt!==null&&(En?(r=Tt,a=a.stateNode,r.nodeType===8?rm(r.parentNode,a):r.nodeType===1&&rm(r,a),jl(r)):rm(Tt,a.stateNode));break;case 4:l=Tt,f=En,Tt=a.stateNode.containerInfo,En=!0,Qi(t,r,a),Tt=l,En=f;break;case 0:case 11:case 14:case 15:ut||Br(2,a,r),ut||Br(4,a,r),Qi(t,r,a);break;case 1:ut||(vn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&f_(a,r,l)),Qi(t,r,a);break;case 21:Qi(t,r,a);break;case 22:ut||vn(a,r),ut=(l=ut)||a.memoizedState!==null,Qi(t,r,a),ut=l;break;default:Qi(t,r,a)}}function T_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){Ye(r,r.return,a)}}function hA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new g_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new g_),r;default:throw Error(s(435,t.tag))}}function Cd(t,r){var a=hA(t);r.forEach(function(l){var f=AA.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function Ln(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:case 5:Tt=b.stateNode,En=!1;break e;case 3:Tt=b.stateNode.containerInfo,En=!0;break e;case 4:Tt=b.stateNode.containerInfo,En=!0;break e}b=b.return}if(Tt===null)throw Error(s(160));E_(d,v,f),Tt=null,En=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)b_(r,t),r=r.sibling}var Yn=null;function b_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ln(r,t),jn(t),l&4&&(Br(3,t,t.return),Tl(3,t),Br(5,t,t.return));break;case 1:Ln(r,t),jn(t),l&512&&(ut||a===null||vn(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Yn;if(Ln(r,t),jn(t),l&512&&(ut||a===null||vn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ar]||d[kt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qt(d,l,a),d[kt]=t,Je(d),l=d;break e;case"link":var v=dv("link","href",f).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=dv("meta","content",f).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[kt]=t,Je(d),l=d}t.stateNode=l}else mv(f,t.type,t.stateNode);else t.stateNode=fv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?mv(f,t.type,t.stateNode):fv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&m_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){f=t.stateNode,d=t.memoizedProps;try{for(var N=f.firstChild;N;){var U=N.nextSibling,Y=N.nodeName;N[Ar]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=U}for(var ne=t.type,F=f.attributes;F.length;)f.removeAttributeNode(F[0]);qt(f,ne,d),f[kt]=t,f[St]=d}catch(de){Ye(t,t.return,de)}}case 5:if(Ln(r,t),jn(t),l&512&&(ut||a===null||vn(a,a.return)),t.flags&32){f=t.stateNode;try{Nn(f,"")}catch(de){Ye(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,m_(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Rd=!0);break;case 6:if(Ln(r,t),jn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Ye(t,t.return,de)}}break;case 3:if(Fc=null,f=Yn,Yn=Hc(r.containerInfo),Ln(r,t),Yn=f,jn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(de){Ye(t,t.return,de)}Rd&&(Rd=!1,w_(t));break;case 4:l=Yn,Yn=Hc(t.stateNode.containerInfo),Ln(r,t),jn(t),Yn=l;break;case 12:Ln(r,t),jn(t);break;case 13:Ln(r,t),jn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vd=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cd(t,l)));break;case 22:if(l&512&&(ut||a===null||vn(a,a.return)),N=t.memoizedState!==null,U=a!==null&&a.memoizedState!==null,Y=$i,ne=ut,$i=Y||N,ut=ne||U,Ln(r,t),ut=ne,$i=Y,jn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=N?r._visibility&-2:r._visibility|1,N&&(r=$i||ut,a===null||U||r||Za(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,N)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=U.stateNode,b=U.memoizedProps.style;var Q=b!=null&&b.hasOwnProperty("display")?b.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(de){Ye(U,U.return,de)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=N?"":U.memoizedProps}catch(de){Ye(U,U.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cd(t,a))));break;case 19:Ln(r,t),jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cd(t,l)));break;case 21:break;default:Ln(r,t),jn(t)}}function jn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(p_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,d=Ad(t);Cc(t,d,f);break;case 5:var v=l.stateNode;l.flags&32&&(Nn(v,""),l.flags&=-33);var b=Ad(t);Cc(t,b,v);break;case 3:case 4:var N=l.stateNode.containerInfo,U=Ad(t);Sd(t,U,N);break;default:throw Error(s(161))}}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function w_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;w_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Yi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)__(t,r.alternate,r),r=r.sibling}function Za(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),Za(r);break;case 1:vn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&f_(r,r.return,a),Za(r);break;case 26:case 27:case 5:vn(r,r.return),Za(r);break;case 22:vn(r,r.return),r.memoizedState===null&&Za(r);break;default:Za(r)}t=t.sibling}}function Hr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Hr(f,d,a),Tl(4,d);break;case 1:if(Hr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Ye(l,l.return,U)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)u_(N[f],b)}catch(U){Ye(l,l.return,U)}}a&&v&64&&h_(d),Ws(d,d.return);break;case 26:case 27:case 5:Hr(f,d,a),a&&l===null&&v&4&&d_(d),Ws(d,d.return);break;case 12:Hr(f,d,a);break;case 13:Hr(f,d,a),a&&v&4&&T_(f,d);break;case 22:d.memoizedState===null&&Hr(f,d,a),Ws(d,d.return);break;default:Hr(f,d,a)}r=r.sibling}}function Id(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function Nd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t))}function qr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A_(t,r,a,l),r=r.sibling}function A_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:qr(t,r,a,l),f&2048&&Tl(9,r);break;case 3:qr(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t)));break;case 12:if(f&2048){qr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(r,r.return,N)}}else qr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?qr(t,r,a,l):bl(t,r):d._visibility&4?qr(t,r,a,l):(d._visibility|=4,Ja(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Id(r.alternate,r);break;case 24:qr(t,r,a,l),f&2048&&Nd(r.alternate,r);break;default:qr(t,r,a,l)}}function Ja(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,b=a,N=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Ja(d,v,b,N,f),Tl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&4?Ja(d,v,b,N,f):bl(d,v):(Y._visibility|=4,Ja(d,v,b,N,f)),f&&U&2048&&Id(v.alternate,v);break;case 24:Ja(d,v,b,N,f),f&&U&2048&&Nd(v.alternate,v);break;default:Ja(d,v,b,N,f)}r=r.sibling}}function bl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:bl(a,l),f&2048&&Id(l.alternate,l);break;case 24:bl(a,l),f&2048&&Nd(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var wl=8192;function eo(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 26:eo(t),t.flags&wl&&t.memoizedState!==null&&JA(Yn,t.memoizedState,t.memoizedProps);break;case 5:eo(t);break;case 3:case 4:var r=Yn;Yn=Hc(t.stateNode.containerInfo),eo(t),Yn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,eo(t),wl=r):eo(t));break;default:eo(t)}}function R_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Al(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,I_(l,t)}R_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)C_(t),t=t.sibling}function C_(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Ic(t)):Al(t);break;default:Al(t)}}function Ic(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,I_(l,t)}R_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Ic(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Ic(r));break;default:Ic(r)}t=t.sibling}}function I_(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(v_(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}function fA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,r,a,l){return new fA(t,r,a,l)}function Dd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fr(t,r){var a=t.alternate;return a===null?(a=zn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function N_(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Nc(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")Dd(t)&&(v=1);else if(typeof t=="string")v=WA(t,a,en.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Zs(a.children,f,d,r);case g:v=8,f|=24;break;case E:return t=zn(12,a,r,f|2),t.elementType=E,t.lanes=d,t;case $:return t=zn(13,a,r,f),t.elementType=$,t.lanes=d,t;case L:return t=zn(19,a,r,f),t.elementType=L,t.lanes=d,t;case X:return D_(a,f,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case O:v=10;break e;case A:v=9;break e;case k:v=11;break e;case G:v=14;break e;case te:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=zn(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Zs(t,r,a,l){return t=zn(7,t,l,r),t.lanes=a,t}function D_(t,r,a,l){t=zn(22,t,l,r),t.elementType=X,t.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var v=Or(d,2);v!==null&&(f._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var v=Or(d,2);v!==null&&(f._pendingVisibility&=-3,an(v,d,2))}}};return t.stateNode=f,t}function xd(t,r,a){return t=zn(6,t,null,r),t.lanes=a,t}function Od(t,r,a){return r=zn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Xi(t){t.flags|=4}function x_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pv(r)){if(r=Un.current,r!==null&&((Ue&4194176)===Ue?fi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==fi))throw ll=Uf,Qg;t.flags|=8192}}function Dc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Er():536870912,t.lanes|=r,no|=r)}function Sl(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function et(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function dA(t,r,a){var l=r.pendingProps;switch(Pf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(r),null;case 1:return et(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ki(Nt),Ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rl(r)?Xi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qn!==null&&(zd(Qn),Qn=null))),et(r),null;case 26:return a=r.memoizedState,t===null?(Xi(r),a!==null?(et(r),x_(r,a)):(et(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Xi(r),et(r),x_(r,a)):(et(r),r.flags&=-16777217):(t.memoizedProps!==l&&Xi(r),et(r),r.flags&=-16777217),null;case 27:Ta(r),a=Rn.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return et(r),null}t=en.current,rl(r)?Kg(r):(t=ov(f,l,a),r.stateNode=t,Xi(r))}return et(r),null;case 5:if(Ta(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return et(r),null}if(t=en.current,rl(r))Kg(r);else{switch(f=Bc(Rn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[kt]=r,t[St]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xi(r)}}return et(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Xi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Rn.current,rl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[kt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||Hs(r)}else t=Bc(t).createTextNode(l),t[kt]=r,r.stateNode=t}return et(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=rl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[kt]=r}else sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;et(r),f=!1}else Qn!==null&&(zd(Qn),Qn=null),f=!0;if(!f)return r.flags&256?(Hi(r),r):(Hi(r),null)}if(Hi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Dc(r,r.updateQueue),et(r),null;case 4:return Ni(),t===null&&Wd(r.stateNode.containerInfo),et(r),null;case 10:return Ki(r.type),et(r),null;case 19:if(ot(It),f=r.memoizedState,f===null)return et(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Sl(f,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=dc(t),d!==null){for(r.flags|=128,Sl(f,!1),t=d.updateQueue,r.updateQueue=t,Dc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)N_(a,t),a=a.sibling;return Ke(It,It.current&1|2),r.child}t=t.sibling}f.tail!==null&&un()>xc&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304)}else{if(!l)if(t=dc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Dc(r,t),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!He)return et(r),null}else 2*un()-f.renderingStartTime>xc&&a!==536870912&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=un(),r.sibling=null,t=It.current,Ke(It,l?t&1|2:t&1),r):(et(r),null);case 22:case 23:return Hi(r),jf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(et(r),r.subtreeFlags&6&&(r.flags|=8192)):et(r),a=r.updateQueue,a!==null&&Dc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ot(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ki(Nt),et(r),null;case 25:return null}throw Error(s(156,r.tag))}function mA(t,r){switch(Pf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ki(Nt),Ni(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ta(r),null;case 13:if(Hi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ot(It),null;case 4:return Ni(),null;case 10:return Ki(r.type),null;case 22:case 23:return Hi(r),jf(),t!==null&&ot(Fs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ki(Nt),null;case 25:return null;default:return null}}function O_(t,r){switch(Pf(r),r.tag){case 3:Ki(Nt),Ni();break;case 26:case 27:case 5:Ta(r);break;case 4:Ni();break;case 13:Hi(r);break;case 19:ot(It);break;case 10:Ki(r.type);break;case 22:case 23:Hi(r),jf(),t!==null&&ot(Fs);break;case 24:Ki(Nt)}}var pA={getCacheForType:function(t){var r=Qt(Nt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},gA=typeof WeakMap=="function"?WeakMap:Map,tt=0,Xe=null,xe=null,Ue=0,We=0,Tn=null,Wi=!1,to=!1,kd=!1,Zi=0,ct=0,Gr=0,Js=0,Md=0,Bn=0,no=0,Rl=null,mi=null,Pd=!1,Vd=0,xc=1/0,Oc=null,Kr=null,kc=!1,ea=null,Cl=0,Ud=0,Ld=null,Il=0,jd=null;function bn(){if((tt&2)!==0&&Ue!==0)return Ue&-Ue;if(R.T!==null){var t=$a;return t!==0?t:$d()}return ju()}function k_(){Bn===0&&(Bn=(Ue&536870912)===0||He?zo():536870912);var t=Un.current;return t!==null&&(t.flags|=32),Bn}function an(t,r,a){(t===Xe&&We===2||t.cancelPendingCommit!==null)&&(io(t,0),Ji(t,Ue,Bn,!1)),pt(t,a),((tt&2)===0||t!==Xe)&&(t===Xe&&((tt&2)===0&&(Js|=a),ct===4&&Ji(t,Ue,Bn,!1)),pi(t))}function M_(t,r,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&t.expiredLanes)===0||vr(t,r),f=l?vA(t,r):qd(t,r,!0),d=l;do{if(f===0){to&&!l&&Ji(t,r,0,!1);break}else if(f===6)Ji(t,r,0,!Wi);else{if(a=t.current.alternate,d&&!yA(a)){f=qd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=t;f=Rl;var N=b.current.memoizedState.isDehydrated;if(N&&(io(b,v).flags|=256),v=qd(b,v,!1),v!==2){if(kd&&!N){b.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break e}d=mi,mi=f,d!==null&&zd(d)}f=v}if(d=!1,f!==2)continue}}if(f===1){io(t,0),Ji(t,r,0,!0);break}e:{switch(l=t,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Ji(l,r,Bn,!Wi);break e}break;case 2:mi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=Vd+300-un(),10<d)){if(Ji(l,r,Bn,!Wi),Cn(l,0)!==0)break e;l.timeoutHandle=rv(P_.bind(null,l,a,mi,Oc,Pd,r,Bn,Js,no,Wi,2,-0,0),d);break e}P_(l,a,mi,Oc,Pd,r,Bn,Js,no,Wi,0,-0,0)}}break}while(!0);pi(t)}function zd(t){mi===null?mi=t:mi.push.apply(mi,t)}function P_(t,r,a,l,f,d,v,b,N,U,Y,ne,F){var Q=r.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:ZA},S_(r),r=eS(),r!==null)){t.cancelPendingCommit=r(H_.bind(null,t,a,l,f,v,b,N,1,ne,F)),Ji(t,d,v,!U);return}H_(t,a,l,f,v,b,N,Y,ne,F)}function yA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ji(t,r,a,l){r&=~Md,r&=~Js,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-tn(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Tr(t,a,r)}function Mc(){return(tt&6)===0?(Nl(0),!1):!0}function Bd(){if(xe!==null){if(We===0)var t=xe.return;else t=xe,Gi=Ys=null,$f(t),Ga=null,ul=0,t=xe;for(;t!==null;)O_(t.alternate,t),t=t.return;xe=null}}function io(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bd(),Xe=t,xe=a=Fr(t.current,null),Ue=r,We=0,Tn=null,Wi=!1,to=vr(t,r),kd=!1,no=Bn=Md=Js=Gr=ct=0,mi=Rl=null,Pd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-tn(l),d=1<<f;r|=t[f],l&=~d}return Zi=r,rc(),a}function V_(t,r){Ie=null,R.H=di,r===ol?(r=Wg(),We=3):r===Qg?(r=Wg(),We=4):We=r===Yy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,xe===null&&(ct=1,Ac(t,Mn(r,t.current)))}function U_(){var t=R.H;return R.H=di,t===null?di:t}function L_(){var t=R.A;return R.A=pA,t}function Hd(){ct=4,Wi||(Ue&4194176)!==Ue&&Un.current!==null||(to=!0),(Gr&134217727)===0&&(Js&134217727)===0||Xe===null||Ji(Xe,Ue,Bn,!1)}function qd(t,r,a){var l=tt;tt|=2;var f=U_(),d=L_();(Xe!==t||Ue!==r)&&(Oc=null,io(t,r)),r=!1;var v=ct;e:do try{if(We!==0&&xe!==null){var b=xe,N=Tn;switch(We){case 8:Bd(),v=6;break e;case 3:case 2:case 6:Un.current===null&&(r=!0);var U=We;if(We=0,Tn=null,ro(t,b,N,U),a&&to){v=0;break e}break;default:U=We,We=0,Tn=null,ro(t,b,N,U)}}_A(),v=ct;break}catch(Y){V_(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Gi=Ys=null,tt=l,R.H=f,R.A=d,xe===null&&(Xe=null,Ue=0,rc()),v}function _A(){for(;xe!==null;)j_(xe)}function vA(t,r){var a=tt;tt|=2;var l=U_(),f=L_();Xe!==t||Ue!==r?(Oc=null,xc=un()+500,io(t,r)):to=vr(t,r);e:do try{if(We!==0&&xe!==null){r=xe;var d=Tn;t:switch(We){case 1:We=0,Tn=null,ro(t,r,d,1);break;case 2:if(Yg(d)){We=0,Tn=null,z_(r);break}r=function(){We===2&&Xe===t&&(We=7),pi(t)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Yg(d)?(We=0,Tn=null,z_(r)):(We=0,Tn=null,ro(t,r,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var b=xe;if(!v||pv(v)){We=0,Tn=null;var N=b.sibling;if(N!==null)xe=N;else{var U=b.return;U!==null?(xe=U,Pc(U)):xe=null}break t}}We=0,Tn=null,ro(t,r,d,5);break;case 6:We=0,Tn=null,ro(t,r,d,6);break;case 8:Bd(),ct=6;break e;default:throw Error(s(462))}}EA();break}catch(Y){V_(t,Y)}while(!0);return Gi=Ys=null,R.H=l,R.A=f,tt=a,xe!==null?0:(Xe=null,Ue=0,rc(),ct)}function EA(){for(;xe!==null&&!yf();)j_(xe)}function j_(t){var r=o_(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,r===null?Pc(t):xe=r}function z_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=t_(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=t_(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:$f(r);default:O_(a,r),r=xe=N_(r,Zi),r=o_(a,r,Zi)}t.memoizedProps=t.pendingProps,r===null?Pc(t):xe=r}function ro(t,r,a,l){Gi=Ys=null,$f(r),Ga=null,ul=0;var f=r.return;try{if(lA(t,f,r,a,Ue)){ct=1,Ac(t,Mn(a,t.current)),xe=null;return}}catch(d){if(f!==null)throw xe=f,d;ct=1,Ac(t,Mn(a,t.current)),xe=null;return}r.flags&32768?(He||l===1?t=!0:to||(Ue&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),B_(r,t)):Pc(r)}function Pc(t){var r=t;do{if((r.flags&32768)!==0){B_(r,Wi);return}t=r.return;var a=dA(r.alternate,r,Zi);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);ct===0&&(ct=5)}function B_(t,r){do{var a=mA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ct=6,xe=null}function H_(t,r,a,l,f,d,v,b,N,U){var Y=R.T,ne=le.p;try{le.p=2,R.T=null,TA(t,r,a,l,ne,f,d,v,b,N,U)}finally{R.T=Y,le.p=ne}}function TA(t,r,a,l,f,d,v,b){do so();while(ea!==null);if((tt&6)!==0)throw Error(s(327));var N=t.finishedWork;if(l=t.finishedLanes,N===null)return null;if(t.finishedWork=null,t.finishedLanes=0,N===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=N.lanes|N.childLanes;if(U|=Of,Uu(t,l,U,d,v,b),t===Xe&&(xe=Xe=null,Ue=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||kc||(kc=!0,Ud=U,Ld=a,SA(Di,function(){return so(),null})),a=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||a?(a=R.T,R.T=null,d=le.p,le.p=2,v=tt,tt|=4,cA(t,N),b_(N,t),Gw(tm,t.containerInfo),$c=!!em,tm=em=null,t.current=N,__(t,N.alternate,N),Vo(),tt=v,le.p=d,R.T=a):t.current=N,kc?(kc=!1,ea=t,Cl=l):q_(t,U),U=t.pendingLanes,U===0&&(Kr=null),Lo(N.stateNode),pi(t),r!==null)for(f=t.onRecoverableError,N=0;N<r.length;N++)U=r[N],f(U.value,{componentStack:U.stack});return(Cl&3)!==0&&so(),U=t.pendingLanes,(l&4194218)!==0&&(U&42)!==0?t===jd?Il++:(Il=0,jd=t):Il=0,Nl(0),null}function q_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,hl(r)))}function so(){if(ea!==null){var t=ea,r=Ud;Ud=0;var a=Lu(Cl),l=R.T,f=le.p;try{if(le.p=32>a?32:a,R.T=null,ea===null)var d=!1;else{a=Ld,Ld=null;var v=ea,b=Cl;if(ea=null,Cl=0,(tt&6)!==0)throw Error(s(331));var N=tt;if(tt|=4,C_(v.current),A_(v,v.current,b,a),tt=N,Nl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(yr,v)}catch{}d=!0}return d}finally{le.p=f,R.T=l,q_(t,r)}}return!1}function F_(t,r,a){r=Mn(a,r),r=od(t.stateNode,r,2),t=zr(t,r,2),t!==null&&(pt(t,2),pi(t))}function Ye(t,r,a){if(t.tag===3)F_(t,t,a);else for(;r!==null;){if(r.tag===3){F_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){t=Mn(a,t),a=$y(2),l=zr(r,a,2),l!==null&&(Qy(a,l,r,t),pt(l,2),pi(l));break}}r=r.return}}function Fd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(kd=!0,f.add(a),t=bA.bind(null,t,r,a),r.then(t,t))}function bA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>un()-Vd?(tt&2)===0&&io(t,0):Md|=a,no===Ue&&(no=0)),pi(t)}function G_(t,r){r===0&&(r=Er()),t=Or(t,r),t!==null&&(pt(t,r),pi(t))}function wA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),G_(t,a)}function AA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),G_(t,a)}function SA(t,r){return As(t,r)}var Vc=null,ao=null,Gd=!1,Uc=!1,Kd=!1,ta=0;function pi(t){t!==ao&&t.next===null&&(ao===null?Vc=ao=t:ao=ao.next=t),Uc=!0,Gd||(Gd=!0,CA(RA))}function Nl(t,r){if(!Kd&&Uc){Kd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=f&~(v&~b),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=Ue,d=Cn(l,l===Xe?d:0),(d&3)===0||vr(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);Kd=!1}}function RA(){Uc=Gd=!1;var t=0;ta!==0&&(PA()&&(t=ta),ta=0);for(var r=un(),a=null,l=Vc;l!==null;){var f=l.next,d=K_(l,r);d===0?(l.next=null,a===null?Vc=f:a.next=f,f===null&&(ao=a)):(a=l,(t!==0||(d&3)!==0)&&(Uc=!0)),l=f}Nl(t)}function K_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),b=1<<v,N=f[v];N===-1?((b&a)===0||(b&l)!==0)&&(f[v]=Aa(b,r)):N<=r&&(t.expiredLanes|=b),d&=~b}if(r=Xe,a=Ue,a=Cn(t,t===r?a:0),l=t.callbackNode,a===0||t===r&&We===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||vr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&wa(l),Lu(a)){case 2:case 8:a=Ot;break;case 32:a=Di;break;case 268435456:a=Uo;break;default:a=Di}return l=$_.bind(null,t),a=As(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&wa(l),t.callbackPriority=2,t.callbackNode=null,2}function $_(t,r){var a=t.callbackNode;if(so()&&t.callbackNode!==a)return null;var l=Ue;return l=Cn(t,t===Xe?l:0),l===0?null:(M_(t,l,r),K_(t,un()),t.callbackNode!=null&&t.callbackNode===a?$_.bind(null,t):null)}function Q_(t,r){if(so())return null;M_(t,r,!0)}function CA(t){UA(function(){(tt&6)!==0?As(At,t):t()})}function $d(){return ta===0&&(ta=zo()),ta}function Y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ri(""+t)}function X_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function IA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Y_((f[St]||null).action),v=l.submitter;v&&(r=(r=v[St]||null)?Y_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new xa("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var N=v?X_(f,v):new FormData(f);nd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=v?X_(f,v):new FormData(f),nd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Qd=0;Qd<Hg.length;Qd++){var Yd=Hg[Qd],NA=Yd.toLowerCase(),DA=Yd[0].toUpperCase()+Yd.slice(1);$n(NA,"on"+DA)}$n(Ug,"onAnimationEnd"),$n(Lg,"onAnimationIteration"),$n(jg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n($w,"onTransitionRun"),$n(Qw,"onTransitionStart"),$n(Yw,"onTransitionCancel"),$n(zg,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function W_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],N=b.instance,U=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=U;try{d(f)}catch(Y){wc(Y)}f.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(b=l[v],N=b.instance,U=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=U;try{d(f)}catch(Y){wc(Y)}f.currentTarget=null,d=N}}}}function Me(t,r){var a=r[Rs];a===void 0&&(a=r[Rs]=new Set);var l=t+"__bubble";a.has(l)||(Z_(r,t,2,!1),a.add(l))}function Xd(t,r,a){var l=0;r&&(l|=4),Z_(a,t,l,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Lc]){t[Lc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(xA.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,Xd("selectionchange",!1,r))}}function Z_(t,r,a,l){switch(Tv(r)){case 2:var f=iS;break;case 8:f=rS;break;default:f=cm}a=f.bind(null,r,a,t),f=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Zd(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&(N=v.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;v=v.return}for(;b!==null;){if(v=Kn(b),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}b=b.parentNode}}l=l.return}qu(function(){var U=d,Y=Da(a),ne=[];e:{var F=Bg.get(t);if(F!==void 0){var Q=xa,de=t;switch(t){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":Q=Ua;break;case"focusin":de="focus",Q=Ma;break;case"focusout":de="blur",Q=Ma;break;case"beforeblur":case"afterblur":Q=Ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Wu;break;case Ug:case Lg:case jg:Q=Pa;break;case zg:Q=Ju;break;case"scroll":case"scrollend":Q=Fu;break;case"wheel":Q=La;break;case"copy":case"cut":case"paste":Q=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=el;break;case"toggle":case"beforetoggle":Q=tc}var we=(r&4)!==0,ht=!we&&(t==="scroll"||t==="scrollend"),j=we?F!==null?F+"Capture":null:F;we=[];for(var P=U,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=xs(P,j),Z!=null&&we.push(xl(P,Z,q))),ht)break;P=P.return}0<we.length&&(F=new Q(F,de,null,a,Y),ne.push({event:F,listeners:we}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Dn&&(de=a.relatedTarget||a.fromElement)&&(Kn(de)||de[xi]))break e;if((Q||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(de=a.relatedTarget||a.toElement,Q=U,de=de?Kn(de):null,de!==null&&(ht=me(de),we=de.tag,de!==ht||we!==5&&we!==27&&we!==6)&&(de=null)):(Q=null,de=U),Q!==de)){if(we=On,Z="onMouseLeave",j="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(we=el,Z="onPointerLeave",j="onPointerEnter",P="pointer"),ht=Q==null?F:Sr(Q),q=de==null?F:Sr(de),F=new we(Z,P+"leave",Q,a,Y),F.target=ht,F.relatedTarget=q,Z=null,Kn(Y)===U&&(we=new we(j,P+"enter",de,a,Y),we.target=q,we.relatedTarget=ht,Z=we),ht=Z,Q&&de)t:{for(we=Q,j=de,P=0,q=we;q;q=oo(q))P++;for(q=0,Z=j;Z;Z=oo(Z))q++;for(;0<P-q;)we=oo(we),P--;for(;0<q-P;)j=oo(j),q--;for(;P--;){if(we===j||j!==null&&we===j.alternate)break t;we=oo(we),j=oo(j)}we=null}else we=null;Q!==null&&J_(ne,F,Q,we,!1),de!==null&&ht!==null&&J_(ne,ht,de,we,!0)}}e:{if(F=U?Sr(U):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var he=Rg;else if(Ct(F))if(Cg)he=qw;else{he=Bw;var De=zw}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?U&&$o(U.elementType)&&(he=Rg):he=Hw;if(he&&(he=he(t,U))){ji(ne,he,a,Y);break e}De&&De(t,F,U),t==="focusout"&&U&&F.type==="number"&&U.memoizedProps.value!=null&&Na(F,"number",F.value)}switch(De=U?Sr(U):window,t){case"focusin":(Ct(De)||De.contentEditable==="true")&&(ja=De,Nf=U,il=null);break;case"focusout":il=Nf=ja=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Pg(ne,a,Y);break;case"selectionchange":if(Kw)break;case"keydown":case"keyup":Pg(ne,a,Y)}var pe;if(ui)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?K(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(pe=Yo()):(si=Y,xr="value"in si?si.value:si.textContent,Pe=!0)),De=jc(U,ve),0<De.length&&(ve=new Zo(ve,t,null,a,Y),ne.push({event:ve,listeners:De}),pe?ve.data=pe:(pe=re(a),pe!==null&&(ve.data=pe)))),(pe=y?Rt(t,a):Ve(t,a))&&(ve=jc(U,"onBeforeInput"),0<ve.length&&(De=new Zo("onBeforeInput","beforeinput",null,a,Y),ne.push({event:De,listeners:ve}),De.data=pe)),IA(ne,t,U,a,Y)}W_(ne,r)})}function xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function jc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=xs(t,a),f!=null&&l.unshift(xl(t,f,d)),f=xs(t,r),f!=null&&l.push(xl(t,f,d))),t=t.return}return l}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J_(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,N=b.alternate,U=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||U===null||(N=U,f?(U=xs(a,d),U!=null&&v.unshift(xl(a,U,N))):f||(U=xs(a,d),U!=null&&v.push(xl(a,U,N)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var OA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(OA,`
`).replace(kA,"")}function tv(t,r){return r=ev(r),ev(t)===r}function zc(){}function Qe(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(t,""+l);break;case"className":Ir(t,"class",l);break;case"tabIndex":Ir(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(t,a,l);break;case"style":Hu(t,l,d);break;case"data":if(r!=="object"){Ir(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Qe(t,r,"name",f.name,f,null),Qe(t,r,"formEncType",f.formEncType,f,null),Qe(t,r,"formMethod",f.formMethod,f,null),Qe(t,r,"formTarget",f.formTarget,f,null)):(Qe(t,r,"encType",f.encType,f,null),Qe(t,r,"method",f.method,f,null),Qe(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ri(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Cr(t,"popover",l);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bf.get(a)||a,Cr(t,a,l))}}function Jd(t,r,a,l,f,d){switch(a){case"style":Hu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[St]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Cr(t,a,l)}}}function qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,d,v,a,null)}}f&&Qe(t,r,"srcSet",a.srcSet,a,null),l&&Qe(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var b=d=v=f=null,N=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":v=Y;break;case"checked":N=Y;break;case"defaultChecked":U=Y;break;case"value":d=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Qe(t,r,l,Y,a,null)}}Ns(t,d,b,N,U,v,f,!1),Is(t);return;case"select":Me("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Qe(t,r,f,b,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Be(t,!!l,r,!1):a!=null&&Be(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Qe(t,r,v,b,a,null)}Dr(t,l,f,d),Is(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,r,N,l,a,null)}return;case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Me(Dl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,U,l,a,null)}return;default:if($o(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Jd(t,r,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Qe(t,r,b,l,a,null))}function MA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,b=null,N=null,U=null,Y=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ne;default:l.hasOwnProperty(Q)||Qe(t,r,Q,null,l,ne)}}for(var F in l){var Q=l[F];if(ne=a[F],l.hasOwnProperty(F)&&(Q!=null||ne!=null))switch(F){case"type":d=Q;break;case"name":f=Q;break;case"checked":U=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ne&&Qe(t,r,F,Q,l,ne)}}Nr(t,v,b,N,U,Y,d,f);return;case"select":Q=v=b=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Qe(t,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==N&&Qe(t,r,f,d,l,N)}r=b,a=v,l=Q,F!=null?Be(t,!!a,F,!1):!!l!=!!a&&(r!=null?Be(t,!!a,r,!0):Be(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Qe(t,r,b,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Qe(t,r,v,f,l,d)}Ds(t,F,Q);return;case"option":for(var de in a)if(F=a[de],a.hasOwnProperty(de)&&F!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Qe(t,r,de,null,l,F)}for(N in l)if(F=l[N],Q=a[N],l.hasOwnProperty(N)&&F!==Q&&(F!=null||Q!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Qe(t,r,N,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)F=a[we],a.hasOwnProperty(we)&&F!=null&&!l.hasOwnProperty(we)&&Qe(t,r,we,null,l,F);for(U in l)if(F=l[U],Q=a[U],l.hasOwnProperty(U)&&F!==Q&&(F!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Qe(t,r,U,F,l,Q)}return;default:if($o(r)){for(var ht in a)F=a[ht],a.hasOwnProperty(ht)&&F!==void 0&&!l.hasOwnProperty(ht)&&Jd(t,r,ht,void 0,l,F);for(Y in l)F=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||F===Q||F===void 0&&Q===void 0||Jd(t,r,Y,F,l,Q);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&Qe(t,r,j,null,l,F);for(ne in l)F=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||F===Q||F==null&&Q==null||Qe(t,r,ne,F,l,Q)}var em=null,tm=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function nm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var im=null;function PA(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(LA)}:rv;function LA(t){setTimeout(function(){throw t})}function rm(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){t.removeChild(f),jl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);jl(r)}function sm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jA(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ar])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function zA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function Xn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function av(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function ov(t,r,a){switch(r=Bc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Hn=new Map,lv=new Set;function Hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var er=le.d;le.d={f:BA,r:HA,D:qA,C:FA,L:GA,m:KA,X:QA,S:$A,M:YA};function BA(){var t=er.f(),r=Mc();return t||r}function HA(t){var r=Oi(t);r!==null&&r.tag===5&&r.type==="form"?Py(r):er.r(t)}var lo=typeof document>"u"?null:document;function uv(t,r,a){var l=lo;if(l&&typeof r=="string"&&r){var f=lt(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),lv.has(f)||(lv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),qt(r,"link",t),Je(r),l.head.appendChild(r)))}}function qA(t){er.D(t),uv("dns-prefetch",t,null)}function FA(t,r){er.C(t,r),uv("preconnect",t,r)}function GA(t,r,a){er.L(t,r,a);var l=lo;if(l&&t&&r){var f='link[rel="preload"][as="'+lt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+lt(a.imageSizes)+'"]')):f+='[href="'+lt(t)+'"]';var d=f;switch(r){case"style":d=uo(t);break;case"script":d=co(t)}Hn.has(d)||(t=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Hn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ol(d))||r==="script"&&l.querySelector(kl(d))||(r=l.createElement("link"),qt(r,"link",t),Je(r),l.head.appendChild(r)))}}function KA(t,r){er.m(t,r);var a=lo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(t)}if(!Hn.has(d)&&(t=D({rel:"modulepreload",href:t},r),Hn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),qt(l,"link",t),Je(l),a.head.appendChild(l)}}}function $A(t,r,a){er.S(t,r,a);var l=lo;if(l&&t){var f=Rr(l).hoistableStyles,d=uo(t);r=r||"default";var v=f.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Ol(d)))b.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Hn.get(d))&&am(t,a);var N=v=l.createElement("link");Je(N),qt(N,"link",t),N._p=new Promise(function(U,Y){N.onload=U,N.onerror=Y}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(d,v)}}}function QA(t,r){er.X(t,r);var a=lo;if(a&&t){var l=Rr(a).hoistableScripts,f=co(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=D({src:t,async:!0},r),(r=Hn.get(f))&&om(t,r),d=a.createElement("script"),Je(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function YA(t,r){er.M(t,r);var a=lo;if(a&&t){var l=Rr(a).hoistableScripts,f=co(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=D({src:t,async:!0,type:"module"},r),(r=Hn.get(f))&&om(t,r),d=a.createElement("script"),Je(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function cv(t,r,a,l){var f=(f=Rn.current)?Hc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=uo(a.href),a=Rr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=uo(a.href);var d=Rr(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Ol(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||XA(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(a),a=Rr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function uo(t){return'href="'+lt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function hv(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function XA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),Je(r),t.head.appendChild(r))}function co(t){return'[src="'+lt(t)+'"]'}function kl(t){return"script[async]"+t}function fv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return r.instance=l,Je(l),l;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Je(l),qt(l,"style",f),qc(l,a.precedence,t),r.instance=l;case"stylesheet":f=uo(a.href);var d=t.querySelector(Ol(f));if(d)return r.state.loading|=4,r.instance=d,Je(d),d;l=hv(a),(f=Hn.get(f))&&am(l,f),d=(t.ownerDocument||t).createElement("link"),Je(d);var v=d;return v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),qt(d,"link",l),r.state.loading|=4,qc(d,a.precedence,t),r.instance=d;case"script":return d=co(a.src),(f=t.querySelector(kl(d)))?(r.instance=f,Je(f),f):(l=a,(f=Hn.get(d))&&(l=D({},a),om(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Je(f),qt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,t));return r.instance}function qc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Fc=null;function dv(t,r,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ar]||d[kt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function mv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function WA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function ZA(){}function JA(t,r,a){if(Ml===null)throw Error(s(475));var l=Ml;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=uo(a.href),d=t.querySelector(Ol(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Gc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,Je(d);return}d=t.ownerDocument||t,a=hv(a),(f=Hn.get(f))&&am(a,f),d=d.createElement("link"),Je(d);var v=d;v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Gc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function eS(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&lm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kc=null;function lm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kc=new Map,r.forEach(tS,t),Kc=null,Gc.call(t))}function tS(t,r){if(!(r.state.loading&4)){var a=Kc.get(t);if(a)var l=a.get(null);else{a=new Map,Kc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Pl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function nS(t,r,a,l,f,d,v,b){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.hiddenUpdates=Sa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function gv(t,r,a,l,f,d,v,b,N,U,Y,ne){return t=new nS(t,r,a,v,b,N,U,ne),r=1,d===!0&&(r|=24),d=zn(3,null,null,r),t.current=d,d.stateNode=t,r=zf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Ed(d),t}function yv(t){return t?(t=Ha,t):Ha}function _v(t,r,a,l,f,d){f=yv(f),l.context===null?l.context=f:l.pendingContext=f,l=jr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zr(t,l,r),a!==null&&(an(a,t,r),_l(a,t,r))}function vv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function um(t,r){vv(t,r),(t=t.alternate)&&vv(t,r)}function Ev(t){if(t.tag===13){var r=Or(t,67108864);r!==null&&an(r,t,67108864),um(t,67108864)}}var $c=!0;function iS(t,r,a,l){var f=R.T;R.T=null;var d=le.p;try{le.p=2,cm(t,r,a,l)}finally{le.p=d,R.T=f}}function rS(t,r,a,l){var f=R.T;R.T=null;var d=le.p;try{le.p=8,cm(t,r,a,l)}finally{le.p=d,R.T=f}}function cm(t,r,a,l){if($c){var f=hm(l);if(f===null)Zd(t,r,l,Qc,a),bv(t,l);else if(aS(f,t,r,a,l))l.stopPropagation();else if(bv(t,l),r&4&&-1<sS.indexOf(t)){for(;f!==null;){var d=Oi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Gn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var N=1<<31-tn(v);b.entanglements[1]|=N,v&=~N}pi(d),(tt&6)===0&&(xc=un()+500,Nl(0))}}break;case 13:b=Or(d,2),b!==null&&an(b,d,2),Mc(),um(d,2)}if(d=hm(l),d===null&&Zd(t,r,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Zd(t,r,l,null,a)}}function hm(t){return t=Da(t),fm(t)}var Qc=null;function fm(t){if(Qc=null,t=Kn(t),t!==null){var r=me(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=je(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Qc=t,null}function Tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ku()){case At:return 2;case Ot:return 8;case Di:case Mu:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var dm=!1,$r=null,Qr=null,Yr=null,Vl=new Map,Ul=new Map,Xr=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(t,r){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function Ll(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Oi(r),r!==null&&Ev(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function aS(t,r,a,l,f){switch(r){case"focusin":return $r=Ll($r,t,r,a,l,f),!0;case"dragenter":return Qr=Ll(Qr,t,r,a,l,f),!0;case"mouseover":return Yr=Ll(Yr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,Ll(Ul.get(d)||null,t,r,a,l,f)),!0}return!1}function wv(t){var r=Kn(t.target);if(r!==null){var a=me(r);if(a!==null){if(r=a.tag,r===13){if(r=je(a),r!==null){t.blockedOn=r,wr(t.priority,function(){if(a.tag===13){var l=bn(),f=Or(a,l);f!==null&&an(f,a,l),um(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Dn=l,a.target.dispatchEvent(l),Dn=null}else return r=Oi(a),r!==null&&Ev(r),t.blockedOn=a,!1;r.shift()}return!0}function Av(t,r,a){Yc(t)&&a.delete(r)}function oS(){dm=!1,$r!==null&&Yc($r)&&($r=null),Qr!==null&&Yc(Qr)&&(Qr=null),Yr!==null&&Yc(Yr)&&(Yr=null),Vl.forEach(Av),Ul.forEach(Av)}function Xc(t,r){t.blockedOn===r&&(t.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,oS)))}var Wc=null;function Sv(t){Wc!==t&&(Wc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=Oi(a);d!==null&&(t.splice(r,3),r-=3,nd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function jl(t){function r(N){return Xc(N,t)}$r!==null&&Xc($r,t),Qr!==null&&Xc(Qr,t),Yr!==null&&Xc(Yr,t),Vl.forEach(r),Ul.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)wv(a),a.blockedOn===null&&Xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[St]||null;if(typeof d=="function")v||Sv(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[St]||null)b=v.formAction;else if(fm(f)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Sv(a)}}}function mm(t){this._internalRoot=t}Zc.prototype.render=mm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();_v(a,l,t,r,null,null)},Zc.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&so(),_v(t.current,2,null,t,null,null),Mc(),r[xi]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ju();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,t),a===0&&wv(t)}};var Rv=e.version;if(Rv!=="19.0.0")throw Error(s(527,Rv,"19.0.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=W(r),t=t!==null?ce(t):null,t=t===null?null:t.stateNode,t};var lS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{yr=Jc.inject(lS),$t=Jc}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=qy,d=Fy,v=Gy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=gv(t,1,!1,null,null,a,l,f,d,v,b,null),t[xi]=r.current,Wd(t.nodeType===8?t.parentNode:t),new mm(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=qy,v=Fy,b=Gy,N=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=gv(t,1,!0,r,a??null,l,f,d,v,b,N,U),r.context=yv(null),a=r.current,l=bn(),f=jr(l),f.callback=null,zr(a,f,l),r.current.lanes=l,pt(r,l),pi(r),t[xi]=r.current,Wd(t),new Zc(r)},Bl.version="19.0.0",Bl}var Vv;function _S(){if(Vv)return gm.exports;Vv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=yS(),gm.exports}var vS=_S(),H=yp(),Hl={},Uv;function ES(){if(Uv)return Hl;Uv=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=h,Hl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,O){const k=new u,$=A.length;if($<2)return k;const L=(O==null?void 0:O.decode)||E;let G=0;do{const te=A.indexOf("=",G);if(te===-1)break;const X=A.indexOf(";",G),ie=X===-1?$:X;if(te>ie){G=A.lastIndexOf(";",te-1)+1;continue}const oe=m(A,G,te),ge=p(A,te,oe),M=A.slice(oe,ge);if(k[M]===void 0){let C=m(A,te+1,ie),R=p(A,ie,C);const D=L(A.slice(C,R));k[M]=D}G=ie+1}while(G<$);return k}function m(A,O,k){do{const $=A.charCodeAt(O);if($!==32&&$!==9)return O}while(++O<k);return k}function p(A,O,k){for(;O>k;){const $=A.charCodeAt(--O);if($!==32&&$!==9)return O+1}return k}function g(A,O,k){const $=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const L=$(O);if(!e.test(L))throw new TypeError(`argument val is invalid: ${O}`);let G=A+"="+L;if(!k)return G;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);G+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);G+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);G+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);G+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(G+="; HttpOnly"),k.secure&&(G+="; Secure"),k.partitioned&&(G+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return G}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Hl}ES();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lv="popstate";function TS(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Lm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:su(o)}return wS(e,n,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ai(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bS(){return Math.random().toString(36).substring(2,10)}function jv(i,e){return{usr:i.state,key:i.key,idx:e}}function Lm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Io(e):e,state:n,key:e&&e.key||s||bS()}}function su({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Io(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function wS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function w(){m="POP";let L=E(),G=L==null?null:L-g;g=L,p&&p({action:m,location:$.location,delta:G})}function A(L,G){m="PUSH";let te=Lm($.location,L,G);g=E()+1;let X=jv(te,g),ie=$.createHref(te);try{h.pushState(X,"",ie)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ie)}u&&p&&p({action:m,location:$.location,delta:1})}function O(L,G){m="REPLACE";let te=Lm($.location,L,G);g=E();let X=jv(te,g),ie=$.createHref(te);h.replaceState(X,"",ie),u&&p&&p({action:m,location:$.location,delta:0})}function k(L){let G=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof L=="string"?L:su(L);return te=te.replace(/ $/,"%20"),it(G,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,G)}let $={get action(){return m},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Lv,w),p=L,()=>{o.removeEventListener(Lv,w),p=null}},createHref(L){return e(o,L)},createURL:k,encodeLocation(L){let G=k(L);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:O,go(L){return h.go(L)}};return $}function IE(i,e,n="/"){return AS(i,e,n,!1)}function AS(i,e,n,s){let o=typeof e=="string"?Io(e):e,u=or(o.pathname||"/",n);if(u==null)return null;let h=NE(i);SS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=VS(u);m=MS(h[p],g,s)}return m}function NE(i,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=sr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),NE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:OS(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of DE(u.path))o(u,h,p)}),e}function DE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=DE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function SS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:kS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var RS=/^:[\w-]+$/,CS=3,IS=2,NS=1,DS=10,xS=-2,zv=i=>i==="*";function OS(i,e){let n=i.split("/"),s=n.length;return n.some(zv)&&(s+=xS),e&&(s+=IS),n.filter(o=>!zv(o)).reduce((o,u)=>o+(RS.test(u)?CS:u===""?NS:DS),s)}function kS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function MS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:sr([u,w.pathname]),pathnameBase:zS(sr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=sr([u,w.pathnameBase]))}return h}function Sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=PS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let k=m[A]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const O=m[A];return w&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function PS(i,e=!1,n=!0){Ai(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function VS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function or(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function US(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Io(i):i;return{pathname:n?n.startsWith("/")?n:LS(n,e):e,search:BS(s),hash:HS(o)}}function LS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xE(i){let e=jS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function OE(i,e,n,s=!1){let o;typeof i=="string"?o=Io(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=US(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var sr=i=>i.join("/").replace(/\/\/+/g,"/"),zS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),BS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,HS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function qS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var kE=["POST","PUT","PATCH","DELETE"];new Set(kE);var FS=["GET",...kE];new Set(FS);var No=H.createContext(null);No.displayName="DataRouter";var Gh=H.createContext(null);Gh.displayName="DataRouterState";var ME=H.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var GS=H.createContext(new Map);GS.displayName="Fetchers";var KS=H.createContext(null);KS.displayName="Await";var Ri=H.createContext(null);Ri.displayName="Navigation";var gu=H.createContext(null);gu.displayName="Location";var dr=H.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var _p=H.createContext(null);_p.displayName="RouteError";function $S(i,{relative:e}={}){it(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Ri),{hash:o,pathname:u,search:h}=_u(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function yu(){return H.useContext(gu)!=null}function _s(){return it(yu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(gu).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VE(i){H.useContext(Ri).static||H.useLayoutEffect(i)}function ma(){let{isDataRoute:i}=H.useContext(dr);return i?aR():QS()}function QS(){it(yu(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(No),{basename:e,navigator:n}=H.useContext(Ri),{matches:s}=H.useContext(dr),{pathname:o}=_s(),u=JSON.stringify(xE(s)),h=H.useRef(!1);return VE(()=>{h.current=!0}),H.useCallback((p,g={})=>{if(Ai(h.current,PE),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=OE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:sr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}H.createContext(null);function _u(i,{relative:e}={}){let{matches:n}=H.useContext(dr),{pathname:s}=_s(),o=JSON.stringify(xE(n));return H.useMemo(()=>OE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function YS(i,e){return UE(i,e)}function UE(i,e,n,s){var te;it(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(Ri),{matches:h}=H.useContext(dr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let X=w&&w.path||"";LE(g,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=_s(),O;if(e){let X=typeof e=="string"?Io(e):e;it(E==="/"||((te=X.pathname)==null?void 0:te.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),O=X}else O=A;let k=O.pathname||"/",$=k;if(E!=="/"){let X=E.replace(/^\//,"").split("/");$="/"+k.replace(/^\//,"").split("/").slice(X.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:IE(i,{pathname:$});Ai(w||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Ai(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=eR(L&&L.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:sr([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:sr([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,n,s);return e&&G?H.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},G):G}function XS(){let i=sR(),e=qS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,h)}var WS=H.createElement(XS,null),ZS=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(dr.Provider,{value:this.props.routeContext},H.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JS({routeContext:i,match:e,children:n}){let s=H.useContext(No);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(dr.Provider,{value:i},n)}function eR(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,A=!1,O=null,k=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||WS,h&&(m<0&&E===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):m===E&&(A=!0,k=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),L=()=>{let G;return w?G=O:A?G=k:g.route.Component?G=H.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,H.createElement(JS,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?H.createElement(ZS,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:L(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):L()},null)}function vp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tR(i){let e=H.useContext(No);return it(e,vp(i)),e}function nR(i){let e=H.useContext(Gh);return it(e,vp(i)),e}function iR(i){let e=H.useContext(dr);return it(e,vp(i)),e}function Ep(i){let e=iR(i),n=e.matches[e.matches.length-1];return it(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function rR(){return Ep("useRouteId")}function sR(){var s;let i=H.useContext(_p),e=nR("useRouteError"),n=Ep("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function aR(){let{router:i}=tR("useNavigate"),e=Ep("useNavigate"),n=H.useRef(!1);return VE(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Ai(n.current,PE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Bv={};function LE(i,e,n){!e&&!Bv[i]&&(Bv[i]=!0,Ai(!1,n))}H.memo(oR);function oR({routes:i,future:e,state:n}){return UE(i,void 0,n,e)}function fn(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Io(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:A="default"}=n,O=H.useMemo(()=>{let k=or(p,h);return k==null?null:{location:{pathname:k,search:g,hash:E,state:w,key:A},navigationType:s}},[h,p,g,E,w,A,s]);return Ai(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:H.createElement(Ri.Provider,{value:m},H.createElement(gu.Provider,{children:e,value:O}))}function uR({children:i,location:e}){return YS(jm(i),e)}function jm(i,e=[]){let n=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,jm(s.props.children,u));return}it(s.type===fn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=jm(s.props.children,u)),n.push(h)}),n}var ch="get",hh="application/x-www-form-urlencoded";function Kh(i){return i!=null&&typeof i.tagName=="string"}function cR(i){return Kh(i)&&i.tagName.toLowerCase()==="button"}function hR(i){return Kh(i)&&i.tagName.toLowerCase()==="form"}function fR(i){return Kh(i)&&i.tagName.toLowerCase()==="input"}function dR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function mR(i,e){return i.button===0&&(!e||e==="_self")&&!dR(i)}var eh=null;function pR(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var gR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(i){return i!=null&&!gR.has(i)?(Ai(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):i}function yR(i,e){let n,s,o,u,h;if(hR(i)){let m=i.getAttribute("action");s=m?or(m,e):null,n=i.getAttribute("method")||ch,o=bm(i.getAttribute("enctype"))||hh,u=new FormData(i)}else if(cR(i)||fR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?or(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ch,o=bm(i.getAttribute("formenctype"))||bm(m.getAttribute("enctype"))||hh,u=new FormData(m,i),!pR()){let{name:g,type:E,value:w}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,s=null,o=hh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Tp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function _R(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ER(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await _R(u,n);return h.links?h.links():[]}return[]}));return AR(s.flat(1).filter(vR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hv(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function TR(i,e,{includeHydrateFallback:n}={}){return bR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function bR(i){return[...new Set(i)]}function wR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function AR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(wR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function SR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&or(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function jE(){let i=H.useContext(No);return Tp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function RR(){let i=H.useContext(Gh);return Tp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var bp=H.createContext(void 0);bp.displayName="FrameworkContext";function zE(){let i=H.useContext(bp);return Tp(i,"You must render this element inside a <HydratedRouter> element"),i}function CR(i,e){let n=H.useContext(bp),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=H.useRef(null);H.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=G=>{G.forEach(te=>{h(te.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[i]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},k=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:ql(m,O),onBlur:ql(p,k),onMouseEnter:ql(g,O),onMouseLeave:ql(E,k),onTouchStart:ql(w,O)}]:[!1,A,{}]}function ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function IR({page:i,...e}){let{router:n}=jE(),s=H.useMemo(()=>IE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(DR,{page:i,matches:s,...e}):null}function NR(i){let{manifest:e,routeModules:n}=zE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return ER(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function DR({page:i,matches:e,...n}){let s=_s(),{manifest:o,routeModules:u}=zE(),{basename:h}=jE(),{loaderData:m,matches:p}=RR(),g=H.useMemo(()=>Hv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=H.useMemo(()=>Hv(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,$=!1;if(e.forEach(G=>{var X;let te=o.routes[G.route.id];!te||!te.hasLoader||(!g.some(ie=>ie.route.id===G.route.id)&&G.route.id in m&&((X=u[G.route.id])!=null&&X.shouldRevalidate)||te.hasClientLoader?$=!0:k.add(G.route.id))}),k.size===0)return[];let L=SR(i,h);return $&&k.size>0&&L.searchParams.set("_routes",e.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[L.pathname+L.search]},[h,m,s,o,g,e,i,u]),A=H.useMemo(()=>TR(E,o),[E,o]),O=NR(E);return H.createElement(H.Fragment,null,w.map(k=>H.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),A.map(k=>H.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),O.map(({key:k,link:$})=>H.createElement("link",{key:k,...$})))}function xR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.3.0")}catch{}function OR({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=TS({window:n,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>h(p))},[h]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(lR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...A},O){let{basename:k}=H.useContext(Ri),$=typeof g=="string"&&HE.test(g),L,G=!1;if(typeof g=="string"&&$&&(L=g,BE))try{let R=new URL(window.location.href),D=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=or(D.pathname,k);D.origin===R.origin&&V!=null?g=V+D.search+D.hash:G=!0}catch{Ai(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=$S(g,{relative:o}),[X,ie,oe]=CR(s,A),ge=VR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function M(R){e&&e(R),R.defaultPrevented||ge(R)}let C=H.createElement("a",{...A,...oe,href:L||te,onClick:G||u?e:M,ref:xR(O,ie),target:p,"data-discover":!$&&n==="render"?"true":void 0});return X&&!$?H.createElement(H.Fragment,null,C,H.createElement(IR,{page:te})):C});Fn.displayName="Link";var kR=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let w=_u(h,{relative:g.relative}),A=_s(),O=H.useContext(Gh),{navigator:k,basename:$}=H.useContext(Ri),L=O!=null&&BR(w)&&m===!0,G=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,te=A.pathname,X=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(te=te.toLowerCase(),X=X?X.toLowerCase():null,G=G.toLowerCase()),X&&$&&(X=or(X,$)||X);const ie=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let oe=te===G||!o&&te.startsWith(G)&&te.charAt(ie)==="/",ge=X!=null&&(X===G||!o&&X.startsWith(G)&&X.charAt(G.length)==="/"),M={isActive:oe,isPending:ge,isTransitioning:L},C=oe?e:void 0,R;typeof s=="function"?R=s(M):R=[s,oe?"active":null,ge?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(M):u;return H.createElement(Fn,{...g,"aria-current":C,className:R,ref:E,style:D,to:h,viewTransition:m},typeof p=="function"?p(M):p)});kR.displayName="NavLink";var MR=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ch,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...A},O)=>{let k=jR(),$=zR(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&HE.test(m),te=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ie=X.nativeEvent.submitter,oe=(ie==null?void 0:ie.getAttribute("formmethod"))||h;k(ie||X.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return H.createElement("form",{ref:O,method:L,action:$,onSubmit:s?p:te,...A,"data-discover":!G&&i==="render"?"true":void 0})});MR.displayName="Form";function PR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(i){let e=H.useContext(No);return it(e,PR(i)),e}function VR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=ma(),p=_s(),g=_u(i,{relative:u});return H.useCallback(E=>{if(mR(E,e)){E.preventDefault();let w=n!==void 0?n:su(p)===su(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var UR=0,LR=()=>`__${String(++UR)}__`;function jR(){let{router:i}=qE("useSubmit"),{basename:e}=H.useContext(Ri),n=rR();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=yR(s,e);if(o.navigate===!1){let E=o.fetcherKey||LR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function zR(i,{relative:e}={}){let{basename:n}=H.useContext(Ri),s=H.useContext(dr);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(i||".",{relative:e})},h=_s();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),su(u)}function BR(i,e={}){let n=H.useContext(ME);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qE("useViewTransitionState"),o=_u(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=or(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,h)!=null||Sh(o.pathname,u)!=null}new TextEncoder;const HR=()=>{};var qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(A=64)),s.push(n[E],n[w],n[A],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(FE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new FR;const A=u<<2|m>>4;if(s.push(A),g!==64){const O=m<<4&240|g>>2;if(s.push(O),w!==64){const k=g<<6&192|w;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class FR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GR=function(i){const e=FE(i);return GE.encodeByteArray(e,!0)},Rh=function(i){return GR(i).replace(/\./g,"")},KE=function(i){try{return GE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=()=>KR().__FIREBASE_DEFAULTS__,QR=()=>{if(typeof process>"u"||typeof qv>"u")return;const i=qv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},YR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&KE(i[1]);return e&&JSON.parse(e)},$h=()=>{try{return HR()||$R()||QR()||YR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},$E=i=>{var e,n;return(n=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},QE=i=>{const e=$E(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},YE=()=>{var i;return(i=$h())===null||i===void 0?void 0:i.config},XE=i=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function ZR(){var i;const e=(i=$h())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function t1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n1(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function i1(){return!ZR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r1(){try{return typeof indexedDB=="object"}catch{return!1}}function s1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="FirebaseError";class Ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=a1,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?o1(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ci(o,m,s)}}function o1(i,e){return i.replace(l1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const l1=/\{\$([^}]+)}/g;function u1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function aa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Fv(u)&&Fv(h)){if(!aa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Fv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function c1(i,e){const n=new h1(i,e);return n.subscribe.bind(n)}class h1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");f1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(i){return i&&i._delegate?i._delegate:i}class hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new XR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p1(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:m1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m1(i){return i===na?void 0:i}function p1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const y1={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},_1=Oe.INFO,v1={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},E1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=v1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=_1,this._logHandler=E1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const T1=(i,e)=>e.some(n=>i instanceof n);let Gv,Kv;function b1(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w1(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZE=new WeakMap,zm=new WeakMap,JE=new WeakMap,Am=new WeakMap,Ap=new WeakMap;function A1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(as(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ZE.set(n,i)}).catch(()=>{}),Ap.set(e,i),e}function S1(i){if(zm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});zm.set(i,e)}let Bm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return zm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||JE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function R1(i){Bm=i(Bm)}function C1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Sm(this),e,...n);return JE.set(s,e.sort?e.sort():[e]),as(s)}:w1().includes(i)?function(...e){return i.apply(Sm(this),e),as(ZE.get(this))}:function(...e){return as(i.apply(Sm(this),e))}}function I1(i){return typeof i=="function"?C1(i):(i instanceof IDBTransaction&&S1(i),T1(i,b1())?new Proxy(i,Bm):i)}function as(i){if(i instanceof IDBRequest)return A1(i);if(Am.has(i))return Am.get(i);const e=I1(i);return e!==i&&(Am.set(i,e),Ap.set(e,i)),e}const Sm=i=>Ap.get(i);function N1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=as(h);return s&&h.addEventListener("upgradeneeded",p=>{s(as(h.result),p.oldVersion,p.newVersion,as(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const D1=["get","getKey","getAll","getAllKeys","count"],x1=["put","add","delete","clear"],Rm=new Map;function $v(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=x1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||D1.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Rm.set(e,u),u}R1(i=>({...i,get:(e,n,s)=>$v(e,n)||i.get(e,n,s),has:(e,n)=>!!$v(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function k1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",Qv="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new wp("@firebase/app"),M1="@firebase/app-compat",P1="@firebase/analytics-compat",V1="@firebase/analytics",U1="@firebase/app-check-compat",L1="@firebase/app-check",j1="@firebase/auth",z1="@firebase/auth-compat",B1="@firebase/database",H1="@firebase/data-connect",q1="@firebase/database-compat",F1="@firebase/functions",G1="@firebase/functions-compat",K1="@firebase/installations",$1="@firebase/installations-compat",Q1="@firebase/messaging",Y1="@firebase/messaging-compat",X1="@firebase/performance",W1="@firebase/performance-compat",Z1="@firebase/remote-config",J1="@firebase/remote-config-compat",eC="@firebase/storage",tC="@firebase/storage-compat",nC="@firebase/firestore",iC="@firebase/vertexai",rC="@firebase/firestore-compat",sC="firebase",aC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",oC={[Hm]:"fire-core",[M1]:"fire-core-compat",[V1]:"fire-analytics",[P1]:"fire-analytics-compat",[L1]:"fire-app-check",[U1]:"fire-app-check-compat",[j1]:"fire-auth",[z1]:"fire-auth-compat",[B1]:"fire-rtdb",[H1]:"fire-data-connect",[q1]:"fire-rtdb-compat",[F1]:"fire-fn",[G1]:"fire-fn-compat",[K1]:"fire-iid",[$1]:"fire-iid-compat",[Q1]:"fire-fcm",[Y1]:"fire-fcm-compat",[X1]:"fire-perf",[W1]:"fire-perf-compat",[Z1]:"fire-rc",[J1]:"fire-rc-compat",[eC]:"fire-gcs",[tC]:"fire-gcs-compat",[nC]:"fire-fst",[rC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,lC=new Map,Fm=new Map;function Yv(i,e){try{i.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function oa(i){const e=i.name;if(Fm.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,i);for(const n of Ch.values())Yv(n,i);for(const n of lC.values())Yv(n,i);return!0}function Qh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function wn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new vu("app","Firebase",uC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=aC;function Sp(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=YE()),!n)throw os.create("no-options");const u=Ch.get(o);if(u){if(aa(n,u.options)&&aa(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const h=new g1(o);for(const p of Fm.values())h.addComponent(p);const m=new cC(n,s,h);return Ch.set(o,m),m}function Rp(i=qm){const e=Ch.get(i);if(!e&&i===qm&&YE())return Sp();if(!e)throw os.create("no-app",{appName:i});return e}function _i(i,e,n){var s;let o=(s=oC[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(m.join(" "));return}oa(new hs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebase-heartbeat-database",fC=1,au="firebase-heartbeat-store";let Cm=null;function eT(){return Cm||(Cm=N1(hC,fC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(i=>{throw os.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function dC(i){try{const n=(await eT()).transaction(au),s=await n.objectStore(au).get(tT(i));return await n.done,s}catch(e){if(e instanceof Ci)lr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function Xv(i,e){try{const s=(await eT()).transaction(au,"readwrite");await s.objectStore(au).put(e,tT(i)),await s.done}catch(n){if(n instanceof Ci)lr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(s.message)}}}function tT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1024,pC=30;class gC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _C(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Wv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>pC){const h=vC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wv(),{heartbeatsToSend:s,unsentEntries:o}=yC(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return lr.warn(n),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function yC(i,e=mC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Zv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Zv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r1()?s1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Zv(i){return Rh(JSON.stringify({version:2,heartbeats:i})).length}function vC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(i){oa(new hs("platform-logger",e=>new O1(e),"PRIVATE")),oa(new hs("heartbeat",e=>new gC(e),"PRIVATE")),_i(Hm,Qv,i),_i(Hm,Qv,"esm2017"),_i("fire-js","")}EC("");function Cp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function nT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TC=nT,iT=new vu("auth","Firebase",nT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new wp("@firebase/auth");function bC(i,...e){Ih.logLevel<=Oe.WARN&&Ih.warn(`Auth (${pa}): ${i}`,...e)}function fh(i,...e){Ih.logLevel<=Oe.ERROR&&Ih.error(`Auth (${pa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,...e){throw Ip(i,...e)}function vi(i,...e){return Ip(i,...e)}function rT(i,e,n){const s=Object.assign(Object.assign({},TC()),{[e]:n});return new vu("auth","Firebase",s).create(e,{appName:i.name})}function ar(i){return rT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return iT.create(i,...e)}function Ee(i,e,...n){if(!i)throw Ip(e,...n)}function nr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw fh(e),new Error(e)}function ur(i,e){i||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function wC(){return Jv()==="http:"||Jv()==="https:"}function Jv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wC()||e1()||"connection"in navigator)?navigator.onLine:!0}function SC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=WR()||t1()}get(){return AC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e){ur(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Tu(3e4,6e4);function vs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Es(i,e,n,s,o={}){return aT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Eu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return JR()||(g.referrerPolicy="no-referrer"),sT.fetch()(oT(i,i.config.apiHost,n,m),g)})}async function aT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},RC),e);try{const o=new NC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw th(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw th(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw th(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw rT(i,E,g);Zn(i,E)}}catch(o){if(o instanceof Ci)throw o;Zn(i,"network-request-failed",{message:String(o)})}}async function bu(i,e,n,s,o={}){const u=await Es(i,e,n,s,o);return"mfaPendingCredential"in u&&Zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function oT(i,e,n,s){const o=`${e}${n}?${s}`;return i.config.emulator?Np(i.config,o):`${i.config.apiScheme}://${o}`}function IC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),CC.get())})}}function th(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=vi(i,e,s);return o.customData._tokenResponse=n,o}function e0(i){return i!==void 0&&i.enterprise!==void 0}class DC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xC(i,e){return Es(i,"GET","/v2/recaptchaConfig",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(i,e){return Es(i,"POST","/v1/accounts:delete",e)}async function lT(i,e){return Es(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kC(i,e=!1){const n=rt(i),s=await n.getIdToken(e),o=Dp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(Im(o.auth_time)),issuedAtTime:Wl(Im(o.iat)),expirationTime:Wl(Im(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Im(i){return Number(i)*1e3}function Dp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=KE(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function t0(i){const e=Dp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ci&&MC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function MC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await ou(i,lT(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?uT(u.providerUserInfo):[],m=UC(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Km(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function VC(i){const e=rt(i);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function uT(i){return i.map(e=>{var{providerId:n}=e,s=Cp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(i,e){const n=await aT(i,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=oT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",sT.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jC(i,e){return Es(i,"POST","/v2/accounts:revokeToken",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=t0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await LC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new yo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Km(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kC(this,e)}reload(){return VC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await ou(this,OC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(h=n.photoURL)!==null&&h!==void 0?h:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=n.createdAt)!==null&&g!==void 0?g:void 0,te=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:ie,isAnonymous:oe,providerData:ge,stsTokenManager:M}=n;Ee(X&&M,e,"internal-error");const C=yo.fromJSON(this.name,M);Ee(typeof X=="string",e,"internal-error"),Zr(w,e.name),Zr(A,e.name),Ee(typeof ie=="boolean",e,"internal-error"),Ee(typeof oe=="boolean",e,"internal-error"),Zr(O,e.name),Zr(k,e.name),Zr($,e.name),Zr(L,e.name),Zr(G,e.name),Zr(te,e.name);const R=new ir({uid:X,auth:e,email:A,emailVerified:ie,displayName:w,isAnonymous:oe,photoURL:k,phoneNumber:O,tenantId:$,stsTokenManager:C,createdAt:G,lastLoginAt:te});return ge&&Array.isArray(ge)&&(R.providerData=ge.map(D=>Object.assign({},D))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new yo;o.updateFromServerResponse(n);const u=new ir({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?uT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new yo;m.updateFromIdToken(s);const p=new ir({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;function rr(i){ur(i instanceof Function,"Expected a class definition");let e=n0.get(i);return e?(ur(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,n0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cT.type="NONE";const i0=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(i,e,n){return`firebase:${i}:${e}:${n}`}class _o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _o(rr(i0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rr(i0);const h=dh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){const w=ir._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _o(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new _o(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(yT(e))return"Webos";if(fT(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(pT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function hT(i=Jt()){return/firefox\//i.test(i)}function fT(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(i=Jt()){return/crios\//i.test(i)}function mT(i=Jt()){return/iemobile/i.test(i)}function pT(i=Jt()){return/android/i.test(i)}function gT(i=Jt()){return/blackberry/i.test(i)}function yT(i=Jt()){return/webos/i.test(i)}function xp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zC(i=Jt()){var e;return xp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BC(){return n1()&&document.documentMode===10}function _T(i=Jt()){return xp(i)||pT(i)||yT(i)||gT(i)||/windows phone/i.test(i)||mT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(i,e=[]){let n;switch(i){case"Browser":n=r0(Jt());break;case"Worker":n=`${r0(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(i,e={}){return Es(i,"GET","/v2/passwordPolicy",vs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=6;class GC{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:FC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s0(this),this.idTokenSubscription=new s0(this),this.beforeStateQueue=new HC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lT(this,{idToken:e}),s=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(ar(this));const n=e?rt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qC(this),n=new GC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ga(i){return rt(i)}class s0{constructor(e){this.auth=e,this.observer=null,this.addObserver=c1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $C(i){Yh=i}function ET(i){return Yh.loadJS(i)}function QC(){return Yh.recaptchaEnterpriseScript}function YC(){return Yh.gapiScript}function XC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class WC{constructor(){this.enterprise=new ZC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JC="recaptcha-enterprise",TT="NO_RECAPTCHA";class eI{constructor(e){this.type=JC,this.auth=ga(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{xC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new DC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;e0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(TT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&e0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=QC();p.length!==0&&(p+=m),ET(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function a0(i,e,n,s=!1,o=!1){const u=new eI(i);let h;if(o)h=TT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function $m(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await a0(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await a0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(i,e){const n=Qh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(aa(u,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function nI(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(rr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function iI(i,e,n){const s=ga(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=bT(e),{host:h,port:m}=rI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(aa(g,s.config.emulator)&&aa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,sI()}function bT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function rI(i){const e=bT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:o0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:o0(h)}}}function o0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function sI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function aI(i,e){return Es(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(i,e){return bu(i,"POST","/v1/accounts:signInWithPassword",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(i,e){return bu(i,"POST","/v1/accounts:signInWithEmailLink",vs(i,e))}async function uI(i,e){return bu(i,"POST","/v1/accounts:signInWithEmailLink",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Op{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,n,"signInWithPassword",oI);case"emailLink":return lI(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,s,"signUpPassword",aI);case"emailLink":return uI(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i,e){return bu(i,"POST","/v1/accounts:signInWithIdp",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="http://localhost";class la extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Cp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new la(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:cI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fI(i){const e=Gl(Kl(i)).link,n=e?Gl(Kl(e)).deep_link_id:null,s=Gl(Kl(i)).deep_link_id;return(s?Gl(Kl(s)).link:null)||s||n||e||i}class kp{constructor(e){var n,s,o,u,h,m;const p=Gl(Kl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=hI((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=fI(e);try{return new kp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=kp.parseLink(n);return Ee(s,"argument-error"),lu._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends wu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends wu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends wu{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(i,e){return bu(i,"POST","/v1/accounts:signUp",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ir._fromIdTokenResponse(e,s,o),h=l0(s);return new ua({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=l0(s);return new ua({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function l0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Ci{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Dh(e,n,s,o)}}function AT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(i,u,e,s):u})}async function mI(i,e,n=!1){const s=await ou(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ua._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(i,e,n=!1){const{auth:s}=i;if(wn(s.app))return Promise.reject(ar(s));const o="reauthenticate";try{const u=await ou(i,AT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const h=Dp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),ua._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(i,e,n=!1){if(wn(i.app))return Promise.reject(ar(i));const s="signIn",o=await AT(i,s,e),u=await ua._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function gI(i,e){return ST(ga(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(i){const e=ga(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yI(i,e,n){if(wn(i.app))return Promise.reject(ar(i));const s=ga(i),h=await $m(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&RT(i),p}),m=await ua._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function CT(i,e,n){return wn(i.app)?Promise.reject(ar(i)):gI(rt(i),Do.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&RT(i),s})}function _I(i,e,n,s){return rt(i).onIdTokenChanged(e,n,s)}function vI(i,e,n){return rt(i).beforeAuthStateChanged(e,n)}function EI(i,e,n,s){return rt(i).onAuthStateChanged(e,n,s)}function IT(i){return rt(i).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1e3,bI=10;class DT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);BC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DT.type="LOCAL";const wI=DT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xT.type="SESSION";const OT=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await AI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Mp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function RI(i){Ei().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function CI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function II(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function NI(){return kT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firebaseLocalStorageDb",DI=1,Oh="firebaseLocalStorage",PT="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(i,e){return i.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function xI(){const i=indexedDB.deleteDatabase(MT);return new Au(i).toPromise()}function Qm(){const i=indexedDB.open(MT,DI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Oh,{keyPath:PT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await xI(),e(await Qm()))})})}async function u0(i,e,n){const s=Wh(i,!0).put({[PT]:e,value:n});return new Au(s).toPromise()}async function OI(i,e){const n=Wh(i,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function c0(i,e){const n=Wh(i,!0).delete(e);return new Au(n).toPromise()}const kI=800,MI=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>MI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(NI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new SI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||II()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await u0(e,xh,"1"),await c0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>u0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>OI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const PI=VT;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(i,e){return e?rr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UI(i){return ST(i.auth,new Pp(i),i.bypassAuthState)}function LI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),pI(n,new Pp(i),i.bypassAuthState)}async function jI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),mI(n,new Pp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UI;case"linkViaPopup":case"linkViaRedirect":return jI;case"reauthViaPopup":case"reauthViaRedirect":return LI;default:Zn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Tu(2e3,1e4);class go extends UT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zI.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="pendingRedirect",mh=new Map;class HI extends UT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await qI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qI(i,e){const n=KI(e),s=GI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function FI(i,e){mh.set(i._key(),e)}function GI(i){return rr(i._redirectPersistence)}function KI(i){return dh(BI,i.config.apiKey,i.name)}async function $I(i,e,n=!1){if(wn(i.app))return Promise.reject(ar(i));const s=ga(i),o=VI(s,e),h=await new HI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=10*60*1e3;class YI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!LT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QI&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function LT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(i,e={}){return Es(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JI=/^https?/;async function e2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await WI(i);for(const n of e)try{if(t2(n))return}catch{}Zn(i,"unauthorized-domain")}function t2(i){const e=Gm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!JI.test(n))return!1;if(ZI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Tu(3e4,6e4);function f0(){const i=Ei().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function i2(i){return new Promise((e,n)=>{var s,o,u;function h(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),n(vi(i,"network-request-failed"))},timeout:n2.get()})}if(!((o=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ei().gapi)===null||u===void 0)&&u.load)h();else{const m=XC("iframefcb");return Ei()[m]=()=>{gapi.load?h():n(vi(i,"network-request-failed"))},ET(`${YC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw ph=null,e})}let ph=null;function r2(i){return ph=ph||i2(i),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Tu(5e3,15e3),a2="__/auth/iframe",o2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c2(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Np(e,o2):`https://${i.config.authDomain}/${a2}`,s={apiKey:e.apiKey,appName:i.name,v:pa},o=u2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eu(s).slice(1)}`}async function h2(i){const e=await r2(i),n=Ei().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:c2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=vi(i,"network-request-failed"),m=Ei().setTimeout(()=>{u(h)},s2.get());function p(){Ei().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d2=500,m2=600,p2="_blank",g2="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2(i,e,n,s=d2,o=m2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},f2),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();n&&(m=dT(g)?p2:n),hT(g)&&(e=e||g2,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[O,k])=>`${A}${O}=${k},`,"");if(zC(g)&&m!=="_self")return _2(e||"",m),new d0(null);const w=window.open(e||"",m,E);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new d0(w)}function _2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="__/auth/handler",E2="emulator/auth/handler",T2=encodeURIComponent("fac");async function m0(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:pa,eventId:o};if(e instanceof wT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",u1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))h[E]=w}if(e instanceof wu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${T2}=${encodeURIComponent(p)}`:"";return`${b2(i)}?${Eu(m).slice(1)}${g}`}function b2({config:i}){return i.emulator?Np(i,E2):`https://${i.authDomain}/${v2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class w2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OT,this._completeRedirectFn=$I,this._overrideRedirectResult=FI}async _openPopup(e,n,s,o){var u;ur((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await m0(e,n,s,Gm(),o);return y2(e,h,Mp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await m0(e,n,s,Gm(),o);return RI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await h2(e),s=new YI(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nm];h!==void 0&&n(!!h),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=e2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _T()||fT()||xp()}}const A2=w2;var p0="@firebase/auth",g0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C2(i){oa(new hs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(i)},g=new KC(s,o,u,p);return nI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oa(new hs("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(s=>new S2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(p0,g0,R2(i)),_i(p0,g0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=5*60,N2=XE("authIdTokenMaxAge")||I2;let y0=null;const D2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>N2)return;const o=n==null?void 0:n.token;y0!==o&&(y0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Su(i=Rp()){const e=Qh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=tI(i,{popupRedirectResolver:A2,persistence:[PI,wI,OT]}),s=XE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=D2(u.toString());vI(n,h,()=>h(n.currentUser)),_I(n,m=>h(m))}}const o=$E("auth");return o&&iI(n,`http://${o}`),n}function x2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}$C({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",x2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C2("Browser");var O2="firebase",k2="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(O2,k2,"app");const M2={apiKey:"AIzaSyDTdAERV_Pw9-qWNjG1jiqNBR3hMW1NI9c",authDomain:"samrat-non-veg-foods.firebaseapp.com",projectId:"samrat-non-veg-foods",storageBucket:"samrat-non-veg-foods.firebasestorage.app",messagingSenderId:"559818864794",appId:"1:559818864794:web:e88bc8b5e25df218610723",databaseURL:"https://samrat-non-veg-foods-default-rtdb.firebaseio.com"},gh=Sp(M2),jT="/assets/logo-P10DMScX.png",P2="/assets/account_icon-DmzU22Y6.png",V2=({setShowLogin:i,cartAllItems:e,userInitial:n})=>{const s=e==null?void 0:e.reduce((o,u)=>o+(u.quantity||1),0);return T.jsxs("div",{className:"navbar",children:[T.jsx("img",{src:jT,alt:"logo",className:"logo"}),T.jsx("ul",{children:T.jsx(Fn,{to:"/",children:T.jsx("h3",{className:"left",children:"NON-VEG FOODS"})})}),T.jsxs("ul",{className:"navbar-menu",children:[T.jsx("li",{children:T.jsx(Fn,{to:"/MenuPage",children:"MENU"})}),T.jsx("li",{children:T.jsx(Fn,{to:"/Offers",children:"OFFERS"})})]}),T.jsxs("div",{className:"navbar-right",children:[n?T.jsx(Fn,{to:"/UserLoggedIn",className:"account-section",children:T.jsx("img",{src:P2,alt:"Account",className:"account-icon"})}):T.jsx("button",{onClick:()=>i(!0),children:"Sign In"}),T.jsx("div",{className:"cart-wrapper",children:T.jsxs(Fn,{to:"/CartPage",className:"cart-link",children:[T.jsx("span",{className:"cart-text",children:"MyCart"}),T.jsx("span",{className:"count",children:s})]})})]})]})},U2="/assets/back-BPIWJax3.jpg";let L2={data:""},j2=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||L2,z2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,B2=/\/\*[^]*?\*\/|  +/g,_0=/\n+/g,is=(i,e)=>{let n="",s="",o="";for(let u in i){let h=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":s+=u[1]=="f"?is(h,u):u+"{"+is(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=is(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=is.p?is.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+s},tr={},zT=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+zT(i[n]);return e}return i},H2=(i,e,n,s,o)=>{let u=zT(i),h=tr[u]||(tr[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!tr[h]){let p=u!==i?i:(g=>{let E,w,A=[{}];for(;E=z2.exec(g.replace(B2,""));)E[4]?A.shift():E[3]?(w=E[3].replace(_0," ").trim(),A.unshift(A[0][w]=A[0][w]||{})):A[0][E[1]]=E[2].replace(_0," ").trim();return A[0]})(i);tr[h]=is(o?{["@keyframes "+h]:p}:p,n?"":"."+h)}let m=n&&tr.g?tr.g:null;return n&&(tr.g=tr[h]),((p,g,E,w)=>{w?g.data=g.data.replace(w,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(tr[h],e,s,m),h},q2=(i,e,n)=>i.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":is(m,""):m===!1?"":m}return s+o+(h??"")},"");function Zh(i){let e=this||{},n=i.call?i(e.p):i;return H2(n.unshift?n.raw?q2(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,j2(e.target),e.g,e.o,e.k)}let BT,Ym,Xm;Zh.bind({g:1});let cr=Zh.bind({k:1});function F2(i,e,n,s){is.p=e,BT=i,Ym=n,Xm=s}function Ts(i,e){let n=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:Ym&&Ym()},m),n.o=/ *go\d+/.test(p),m.className=Zh.apply(n,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),Xm&&g[0]&&Xm(m),BT(g,m)}return o}}var G2=i=>typeof i=="function",kh=(i,e)=>G2(i)?i(e):i,K2=(()=>{let i=0;return()=>(++i).toString()})(),HT=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),$2=20,qT=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,$2)};case 1:return{...i,toasts:i.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:n}=e;return qT(i,{type:i.toasts.find(u=>u.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...i,toasts:i.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let o=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},yh=[],ia={toasts:[],pausedAt:void 0},ya=i=>{ia=qT(ia,i),yh.forEach(e=>{e(ia)})},Q2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Y2=(i={})=>{let[e,n]=H.useState(ia),s=H.useRef(ia);H.useEffect(()=>(s.current!==ia&&n(ia),yh.push(n),()=>{let u=yh.indexOf(n);u>-1&&yh.splice(u,1)}),[]);let o=e.toasts.map(u=>{var h,m,p;return{...i,...i[u.type],...u,removeDelay:u.removeDelay||((h=i[u.type])==null?void 0:h.removeDelay)||(i==null?void 0:i.removeDelay),duration:u.duration||((m=i[u.type])==null?void 0:m.duration)||(i==null?void 0:i.duration)||Q2[u.type],style:{...i.style,...(p=i[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},X2=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:(n==null?void 0:n.id)||K2()}),Ru=i=>(e,n)=>{let s=X2(e,i,n);return ya({type:2,toast:s}),s.id},ln=(i,e)=>Ru("blank")(i,e);ln.error=Ru("error");ln.success=Ru("success");ln.loading=Ru("loading");ln.custom=Ru("custom");ln.dismiss=i=>{ya({type:3,toastId:i})};ln.remove=i=>ya({type:4,toastId:i});ln.promise=(i,e,n)=>{let s=ln.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?kh(e.success,o):void 0;return u?ln.success(u,{id:s,...n,...n==null?void 0:n.success}):ln.dismiss(s),o}).catch(o=>{let u=e.error?kh(e.error,o):void 0;u?ln.error(u,{id:s,...n,...n==null?void 0:n.error}):ln.dismiss(s)}),i};var W2=(i,e)=>{ya({type:1,toast:{id:i,height:e}})},Z2=()=>{ya({type:5,time:Date.now()})},Zl=new Map,J2=1e3,eN=(i,e=J2)=>{if(Zl.has(i))return;let n=setTimeout(()=>{Zl.delete(i),ya({type:4,toastId:i})},e);Zl.set(i,n)},tN=i=>{let{toasts:e,pausedAt:n}=Y2(i);H.useEffect(()=>{if(n)return;let u=Date.now(),h=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&ln.dismiss(m.id);return}return setTimeout(()=>ln.dismiss(m.id),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[e,n]);let s=H.useCallback(()=>{n&&ya({type:6,time:Date.now()})},[n]),o=H.useCallback((u,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=h||{},E=e.filter(O=>(O.position||g)===(u.position||g)&&O.height),w=E.findIndex(O=>O.id===u.id),A=E.filter((O,k)=>k<w&&O.visible).length;return E.filter(O=>O.visible).slice(...m?[A+1]:[0,A]).reduce((O,k)=>O+(k.height||0)+p,0)},[e]);return H.useEffect(()=>{e.forEach(u=>{if(u.dismissed)eN(u.id,u.removeDelay);else{let h=Zl.get(u.id);h&&(clearTimeout(h),Zl.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:W2,startPause:Z2,endPause:s,calculateOffset:o}}},nN=cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,iN=cr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rN=cr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,sN=Ts("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${iN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,aN=cr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,oN=Ts("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${aN} 1s linear infinite;
`,lN=cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,uN=cr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cN=Ts("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${uN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hN=Ts("div")`
  position: absolute;
`,fN=Ts("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dN=cr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mN=Ts("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pN=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?H.createElement(mN,null,e):e:n==="blank"?null:H.createElement(fN,null,H.createElement(oN,{...s}),n!=="loading"&&H.createElement(hN,null,n==="error"?H.createElement(sN,{...s}):H.createElement(cN,{...s})))},gN=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yN=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,_N="0%{opacity:0;} 100%{opacity:1;}",vN="0%{opacity:1;} 100%{opacity:0;}",EN=Ts("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,TN=Ts("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bN=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=HT()?[_N,vN]:[gN(n),yN(n)];return{animation:e?`${cr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wN=H.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?bN(i.position||e||"top-center",i.visible):{opacity:0},u=H.createElement(pN,{toast:i}),h=H.createElement(TN,{...i.ariaProps},kh(i.message,i));return H.createElement(EN,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:h}):H.createElement(H.Fragment,null,u,h))});F2(H.createElement);var AN=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=H.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return H.createElement("div",{ref:u,className:e,style:n},o)},SN=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:HT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},RN=Zh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,nh=16,mr=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,containerStyle:u,containerClassName:h})=>{let{toasts:m,handlers:p}=tN(n);return H.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:nh,left:nh,right:nh,bottom:nh,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let E=g.position||e,w=p.calculateOffset(g,{reverseOrder:i,gutter:s,defaultPosition:e}),A=SN(E,w);return H.createElement(AN,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?RN:"",style:A},g.type==="custom"?kh(g.message,g):o?o(g):H.createElement(wN,{toast:g,position:E}))}))},nt=ln;const CN=[{id:14,name:"Fish Curry",price:249,image:"https://i.ytimg.com/vi/ZqkcrV326WY/maxresdefault.jpg"},{id:15,name:"Mutton Kebabs",price:299,image:"https://i.ytimg.com/vi/JxKFZGwuMbo/maxresdefault.jpg"},{id:16,name:"Grilled Chicken",price:349,image:"https://cookathomemom.com/wp-content/uploads/2021/05/Grilled-BBQ-CHicken-Drumsticks.jpg"},{id:17,name:"Prawn Masala",price:399,image:"https://crownresto.com/wp-content/uploads/2022/08/prawn-masala.jpg"}],IN=({cartAllItems:i,setCartAllItems:e})=>{const n=s=>{i.some(u=>u.id===s.id)?nt.error("Item already in cart!"):(e([...i,{...s,count:1}]),nt.success("Item added to cart!"))};return T.jsxs("div",{className:"homepage",children:[T.jsx(mr,{}),T.jsxs("section",{className:"hero",children:[T.jsx("h2",{children:"Samrat Non-veg Foods"}),T.jsx("h2",{children:"Delicious Non-Veg Delights"}),T.jsx("h3",{children:"Experience the taste of authentic non-veg dishes"}),T.jsx("img",{src:U2,alt:"back",className:"back"}),T.jsx(Fn,{to:"/allMenu",children:T.jsx("button",{children:"Order Now"})})]}),T.jsx("div",{className:"slogan",children:T.jsx("section",{className:"menu-heading",children:T.jsx("h2",{children:"We Serve The Best Quality Non-Veg Food Dishes and Varieties"})})}),T.jsxs("div",{className:"menu-container",children:[T.jsx("h1",{className:"menu-heading",children:"OUR SPECIAL ITEMS"}),T.jsx("div",{className:"menu-items",children:CN.map(s=>T.jsxs("div",{className:"menu-item",children:[T.jsx("img",{src:s.image,alt:s.name,className:"menu-item-image"}),T.jsx("p",{className:"menu-item-name",children:s.name}),T.jsxs("p",{className:"menu-item-price",children:["",s.price]}),T.jsx("button",{className:"add-to-cart-btn",onClick:()=>n(s),children:"Add to Cart"})]},s.id))}),T.jsx("div",{className:"more-menu",children:T.jsxs(Fn,{to:"/allMenu",children:[T.jsx("button",{children:"Browse More Menu"})," "]})})]})]})},NN={apiKey:"AIzaSyDTdAERV_Pw9-qWNjG1jiqNBR3hMW1NI9c",authDomain:"samrat-non-veg-foods.firebaseapp.com",projectId:"samrat-non-veg-foods",storageBucket:"samrat-non-veg-foods.firebasestorage.app",messagingSenderId:"559818864794",appId:"1:559818864794:web:e88bc8b5e25df218610723",databaseURL:"https://samrat-non-veg-foods-default-rtdb.firebaseio.com"},DN=Sp(NN),xN="/assets/cross-Bb-QbAY8.jpg",v0=Su(DN),ON=({setShowLogin:i,setUserInitial:e,setUserId:n})=>{const[s,o]=H.useState("Login"),[u,h]=H.useState(""),[m,p]=H.useState(""),[g,E]=H.useState(""),w=ma(),A=O=>{O.preventDefault();const k=L=>{const G=L.user;if(nt.success(s==="Sign Up"?"Account Created Successfully!":"Logged In Successfully!"),s==="Sign Up"&&g)localStorage.setItem(`username_${G.uid}`,g),e(g[0].toUpperCase());else{const te=localStorage.getItem(`username_${G.uid}`);e(te?te[0].toUpperCase():G.email?G.email[0].toUpperCase():"U")}n(G.uid),u==="meetkhaire037@gmail.com"?w("/admin"):i(!1)},$=L=>{nt.error(L.message),console.error("Firebase Auth Error:",L)};if(s==="Sign Up"){if(!g.trim()){nt.error("Please enter your name.");return}yI(v0,u,m).then(k).catch($)}else CT(v0,u,m).then(k).catch($)};return T.jsxs("div",{className:"login-popup",children:[T.jsx(mr,{}),T.jsxs("form",{className:"login-popup-container",onSubmit:A,children:[T.jsxs("div",{className:"login-popup-title",children:[T.jsx("h2",{children:s}),T.jsx("img",{onClick:()=>i(!1),src:xN,alt:"close"})]}),T.jsxs("div",{className:"login-popup-inputs",children:[s==="Sign Up"&&T.jsx("input",{type:"text",placeholder:"Your Name",value:g,onChange:O=>E(O.target.value),required:!0}),T.jsx("input",{type:"email",placeholder:"Your Email",value:u,onChange:O=>h(O.target.value),required:!0}),T.jsx("input",{type:"password",placeholder:"Password",value:m,onChange:O=>p(O.target.value),required:!0})]}),T.jsx("button",{type:"submit",children:s==="Sign Up"?"Create Account":"Login"}),T.jsxs("div",{className:"login-popup-condition",children:[T.jsx("input",{type:"checkbox",required:!0}),T.jsx("p",{children:"By continuing, I agree to the terms of use & privacy policy."})]}),s==="Login"?T.jsxs("p",{children:["Don't have an account? ",T.jsx("span",{onClick:()=>o("Sign Up"),children:"Click Here"})]}):T.jsxs("p",{children:["Already have an account? ",T.jsx("span",{onClick:()=>o("Login"),children:"Login Here"})]})]})]})};var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,FT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function R(){}R.prototype=C.prototype,M.D=C.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(D,V,z){for(var x=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)x[mt-2]=arguments[mt];return C.prototype[V].apply(D,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,R){R||(R=0);var D=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)D[V]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(V=0;16>V;++V)D[V]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=M.g[0],R=M.g[1],V=M.g[2];var z=M.g[3],x=C+(z^R&(V^z))+D[0]+3614090360&4294967295;C=R+(x<<7&4294967295|x>>>25),x=z+(V^C&(R^V))+D[1]+3905402710&4294967295,z=C+(x<<12&4294967295|x>>>20),x=V+(R^z&(C^R))+D[2]+606105819&4294967295,V=z+(x<<17&4294967295|x>>>15),x=R+(C^V&(z^C))+D[3]+3250441966&4294967295,R=V+(x<<22&4294967295|x>>>10),x=C+(z^R&(V^z))+D[4]+4118548399&4294967295,C=R+(x<<7&4294967295|x>>>25),x=z+(V^C&(R^V))+D[5]+1200080426&4294967295,z=C+(x<<12&4294967295|x>>>20),x=V+(R^z&(C^R))+D[6]+2821735955&4294967295,V=z+(x<<17&4294967295|x>>>15),x=R+(C^V&(z^C))+D[7]+4249261313&4294967295,R=V+(x<<22&4294967295|x>>>10),x=C+(z^R&(V^z))+D[8]+1770035416&4294967295,C=R+(x<<7&4294967295|x>>>25),x=z+(V^C&(R^V))+D[9]+2336552879&4294967295,z=C+(x<<12&4294967295|x>>>20),x=V+(R^z&(C^R))+D[10]+4294925233&4294967295,V=z+(x<<17&4294967295|x>>>15),x=R+(C^V&(z^C))+D[11]+2304563134&4294967295,R=V+(x<<22&4294967295|x>>>10),x=C+(z^R&(V^z))+D[12]+1804603682&4294967295,C=R+(x<<7&4294967295|x>>>25),x=z+(V^C&(R^V))+D[13]+4254626195&4294967295,z=C+(x<<12&4294967295|x>>>20),x=V+(R^z&(C^R))+D[14]+2792965006&4294967295,V=z+(x<<17&4294967295|x>>>15),x=R+(C^V&(z^C))+D[15]+1236535329&4294967295,R=V+(x<<22&4294967295|x>>>10),x=C+(V^z&(R^V))+D[1]+4129170786&4294967295,C=R+(x<<5&4294967295|x>>>27),x=z+(R^V&(C^R))+D[6]+3225465664&4294967295,z=C+(x<<9&4294967295|x>>>23),x=V+(C^R&(z^C))+D[11]+643717713&4294967295,V=z+(x<<14&4294967295|x>>>18),x=R+(z^C&(V^z))+D[0]+3921069994&4294967295,R=V+(x<<20&4294967295|x>>>12),x=C+(V^z&(R^V))+D[5]+3593408605&4294967295,C=R+(x<<5&4294967295|x>>>27),x=z+(R^V&(C^R))+D[10]+38016083&4294967295,z=C+(x<<9&4294967295|x>>>23),x=V+(C^R&(z^C))+D[15]+3634488961&4294967295,V=z+(x<<14&4294967295|x>>>18),x=R+(z^C&(V^z))+D[4]+3889429448&4294967295,R=V+(x<<20&4294967295|x>>>12),x=C+(V^z&(R^V))+D[9]+568446438&4294967295,C=R+(x<<5&4294967295|x>>>27),x=z+(R^V&(C^R))+D[14]+3275163606&4294967295,z=C+(x<<9&4294967295|x>>>23),x=V+(C^R&(z^C))+D[3]+4107603335&4294967295,V=z+(x<<14&4294967295|x>>>18),x=R+(z^C&(V^z))+D[8]+1163531501&4294967295,R=V+(x<<20&4294967295|x>>>12),x=C+(V^z&(R^V))+D[13]+2850285829&4294967295,C=R+(x<<5&4294967295|x>>>27),x=z+(R^V&(C^R))+D[2]+4243563512&4294967295,z=C+(x<<9&4294967295|x>>>23),x=V+(C^R&(z^C))+D[7]+1735328473&4294967295,V=z+(x<<14&4294967295|x>>>18),x=R+(z^C&(V^z))+D[12]+2368359562&4294967295,R=V+(x<<20&4294967295|x>>>12),x=C+(R^V^z)+D[5]+4294588738&4294967295,C=R+(x<<4&4294967295|x>>>28),x=z+(C^R^V)+D[8]+2272392833&4294967295,z=C+(x<<11&4294967295|x>>>21),x=V+(z^C^R)+D[11]+1839030562&4294967295,V=z+(x<<16&4294967295|x>>>16),x=R+(V^z^C)+D[14]+4259657740&4294967295,R=V+(x<<23&4294967295|x>>>9),x=C+(R^V^z)+D[1]+2763975236&4294967295,C=R+(x<<4&4294967295|x>>>28),x=z+(C^R^V)+D[4]+1272893353&4294967295,z=C+(x<<11&4294967295|x>>>21),x=V+(z^C^R)+D[7]+4139469664&4294967295,V=z+(x<<16&4294967295|x>>>16),x=R+(V^z^C)+D[10]+3200236656&4294967295,R=V+(x<<23&4294967295|x>>>9),x=C+(R^V^z)+D[13]+681279174&4294967295,C=R+(x<<4&4294967295|x>>>28),x=z+(C^R^V)+D[0]+3936430074&4294967295,z=C+(x<<11&4294967295|x>>>21),x=V+(z^C^R)+D[3]+3572445317&4294967295,V=z+(x<<16&4294967295|x>>>16),x=R+(V^z^C)+D[6]+76029189&4294967295,R=V+(x<<23&4294967295|x>>>9),x=C+(R^V^z)+D[9]+3654602809&4294967295,C=R+(x<<4&4294967295|x>>>28),x=z+(C^R^V)+D[12]+3873151461&4294967295,z=C+(x<<11&4294967295|x>>>21),x=V+(z^C^R)+D[15]+530742520&4294967295,V=z+(x<<16&4294967295|x>>>16),x=R+(V^z^C)+D[2]+3299628645&4294967295,R=V+(x<<23&4294967295|x>>>9),x=C+(V^(R|~z))+D[0]+4096336452&4294967295,C=R+(x<<6&4294967295|x>>>26),x=z+(R^(C|~V))+D[7]+1126891415&4294967295,z=C+(x<<10&4294967295|x>>>22),x=V+(C^(z|~R))+D[14]+2878612391&4294967295,V=z+(x<<15&4294967295|x>>>17),x=R+(z^(V|~C))+D[5]+4237533241&4294967295,R=V+(x<<21&4294967295|x>>>11),x=C+(V^(R|~z))+D[12]+1700485571&4294967295,C=R+(x<<6&4294967295|x>>>26),x=z+(R^(C|~V))+D[3]+2399980690&4294967295,z=C+(x<<10&4294967295|x>>>22),x=V+(C^(z|~R))+D[10]+4293915773&4294967295,V=z+(x<<15&4294967295|x>>>17),x=R+(z^(V|~C))+D[1]+2240044497&4294967295,R=V+(x<<21&4294967295|x>>>11),x=C+(V^(R|~z))+D[8]+1873313359&4294967295,C=R+(x<<6&4294967295|x>>>26),x=z+(R^(C|~V))+D[15]+4264355552&4294967295,z=C+(x<<10&4294967295|x>>>22),x=V+(C^(z|~R))+D[6]+2734768916&4294967295,V=z+(x<<15&4294967295|x>>>17),x=R+(z^(V|~C))+D[13]+1309151649&4294967295,R=V+(x<<21&4294967295|x>>>11),x=C+(V^(R|~z))+D[4]+4149444226&4294967295,C=R+(x<<6&4294967295|x>>>26),x=z+(R^(C|~V))+D[11]+3174756917&4294967295,z=C+(x<<10&4294967295|x>>>22),x=V+(C^(z|~R))+D[2]+718787259&4294967295,V=z+(x<<15&4294967295|x>>>17),x=R+(z^(V|~C))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var R=C-this.blockSize,D=this.B,V=this.h,z=0;z<C;){if(V==0)for(;z<=R;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<C;)if(D[V++]=M.charCodeAt(z++),V==this.blockSize){o(this,D),V=0;break}}else for(;z<C;)if(D[V++]=M[z++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var R=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=R&255,R/=256;for(this.u(M),M=Array(16),C=R=0;4>C;++C)for(var D=0;32>D;D+=8)M[R++]=this.g[C]>>>D&255;return M};function u(M,C){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=C(M)}function h(M,C){this.h=C;for(var R=[],D=!0,V=M.length-1;0<=V;V--){var z=M[V]|0;D&&z==C||(R[V]=z,D=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(C){return new h([C|0],0>C?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return L(g(-M));for(var C=[],R=1,D=0;M>=R;D++)C[D]=M/R|0,R*=4294967296;return new h(C,0)}function E(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return L(E(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),D=w,V=0;V<M.length;V+=8){var z=Math.min(8,M.length-V),x=parseInt(M.substring(V,V+z),C);8>z?(z=g(Math.pow(C,z)),D=D.j(z).add(g(x))):(D=D.j(R),D=D.add(g(x)))}return D}var w=p(0),A=p(1),O=p(16777216);i=h.prototype,i.m=function(){if($(this))return-L(this).m();for(var M=0,C=1,R=0;R<this.g.length;R++){var D=this.i(R);M+=(0<=D?D:4294967296+D)*C,C*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if($(this))return"-"+L(this).toString(M);for(var C=g(Math.pow(M,6)),R=this,D="";;){var V=ie(R,C).g;R=G(R,V.j(C));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,k(R))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function $(M){return M.h==-1}i.l=function(M){return M=G(this,M),$(M)?-1:k(M)?0:1};function L(M){for(var C=M.g.length,R=[],D=0;D<C;D++)R[D]=~M.g[D];return new h(R,~M.h).add(A)}i.abs=function(){return $(this)?L(this):this},i.add=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],D=0,V=0;V<=C;V++){var z=D+(this.i(V)&65535)+(M.i(V)&65535),x=(z>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);D=x>>>16,z&=65535,x&=65535,R[V]=x<<16|z}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(M,C){return M.add(L(C))}i.j=function(M){if(k(this)||k(M))return w;if($(this))return $(M)?L(this).j(L(M)):L(L(this).j(M));if($(M))return L(this.j(L(M)));if(0>this.l(O)&&0>M.l(O))return g(this.m()*M.m());for(var C=this.g.length+M.g.length,R=[],D=0;D<2*C;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<M.g.length;V++){var z=this.i(D)>>>16,x=this.i(D)&65535,mt=M.i(V)>>>16,at=M.i(V)&65535;R[2*D+2*V]+=x*at,te(R,2*D+2*V),R[2*D+2*V+1]+=z*at,te(R,2*D+2*V+1),R[2*D+2*V+1]+=x*mt,te(R,2*D+2*V+1),R[2*D+2*V+2]+=z*mt,te(R,2*D+2*V+2)}for(D=0;D<C;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=C;D<2*C;D++)R[D]=0;return new h(R,0)};function te(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function X(M,C){this.g=M,this.h=C}function ie(M,C){if(k(C))throw Error("division by zero");if(k(M))return new X(w,w);if($(M))return C=ie(L(M),C),new X(L(C.g),L(C.h));if($(C))return C=ie(M,L(C)),new X(L(C.g),C.h);if(30<M.g.length){if($(M)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var R=A,D=C;0>=D.l(M);)R=oe(R),D=oe(D);var V=ge(R,1),z=ge(D,1);for(D=ge(D,2),R=ge(R,2);!k(D);){var x=z.add(D);0>=x.l(M)&&(V=V.add(R),z=x),D=ge(D,1),R=ge(R,1)}return C=G(M,V.j(C)),new X(V,C)}for(V=w;0<=M.l(C);){for(R=Math.max(1,Math.floor(M.m()/C.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=g(R),x=z.j(C);$(x)||0<x.l(M);)R-=D,z=g(R),x=z.j(C);k(z)&&(z=A),V=V.add(z),M=G(M,x)}return new X(V,M)}i.A=function(M){return ie(this,M).h},i.and=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],D=0;D<C;D++)R[D]=this.i(D)&M.i(D);return new h(R,this.h&M.h)},i.or=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],D=0;D<C;D++)R[D]=this.i(D)|M.i(D);return new h(R,this.h|M.h)},i.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],D=0;D<C;D++)R[D]=this.i(D)^M.i(D);return new h(R,this.h^M.h)};function oe(M){for(var C=M.g.length+1,R=[],D=0;D<C;D++)R[D]=M.i(D)<<1|M.i(D-1)>>>31;return new h(R,M.h)}function ge(M,C){var R=C>>5;C%=32;for(var D=M.g.length-R,V=[],z=0;z<D;z++)V[z]=0<C?M.i(z+R)>>>C|M.i(z+R+1)<<32-C:M.i(z+R);return new h(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,FT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ls=h}).apply(typeof E0<"u"?E0:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GT,$l,KT,_h,Wm,$T,QT,YT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in _))break e;_=_[B]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,B={next:function(){if(!S&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,B,K){for(var re=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)re[Pe-2]=arguments[Pe];return y.prototype[B].apply(S,re)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const B=c.length||0,K=S.length||0;c.length=B+K;for(let re=0;re<K;re++)c[B+re]=S[re]}else c.push(S)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var oe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ge(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)c[_]=S[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function x(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class mt{constructor(){this.h=this.g=null}add(y,_){const S=at.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var at=new G(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,me=!1,je=new mt,I=()=>{const c=m.Promise.resolve(void 0);_e=()=>{c.then(W)}};var W=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){z(_)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Se(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(oe){e:{try{ie(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Se.aa.h.call(this)}}k(Se,ae);var Re={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ot(c,y,_,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=B,this.key=++ze,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,y,_,S,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var re=Rn(c,y,S,B);return-1<re?(y=c[re],_||(y.fa=!1)):(y=new ot(y,this.src,K,!!S,B),y.fa=_,c.push(y)),y};function Ii(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(S,B,1),K&&(Ke(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Rn(c,y,_,S){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return B}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),gr={};function Ni(c,y,_,S,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Ni(c,y[K],_,S,B);return null}return _=ku(_),c&&c[_t]?c.K(y,_,g(S)?!!S.capture:!1,B):Po(c,y,_,!1,S,B)}function Po(c,y,_,S,B,K){if(!y)throw Error("Invalid event type");var re=g(B)?!!B.capture:!!B,Pe=Vo(c);if(Pe||(c[pr]=Pe=new en(c)),_=Pe.add(y,_,S,re,K),_.proxy)return _;if(S=Ta(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)le||(B=re),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(wa(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ta(){function c(_){return y.call(c.src,c.listener,_)}const y=yf;return c}function ba(c,y,_,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)ba(c,y[K],_,S,B);else S=g(S)?!!S.capture:!!S,_=ku(_),c&&c[_t]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=Rn(K,_,S,B),-1<_&&(Ke(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Vo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rn(y,_,S,B)),(_=-1<c?y[c]:null)&&As(_))}function As(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_t])Ii(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(wa(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Vo(y))?(Ii(_,c),_.h==0&&(_.src=null,y[pr]=null)):Ke(c)}}}function wa(c){return c in gr?gr[c]:gr[c]="on"+c}function yf(c,y){if(c.da)c=!0;else{y=new Se(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&As(c),c=_.call(S,y)}return c}function Vo(c){return c=c[pr],c instanceof en?c:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(c){return typeof c=="function"?c:(c[un]||(c[un]=function(y){return c.handleEvent(y)}),c[un])}function At(){ce.call(this),this.i=new en(this),this.M=this,this.F=null}k(At,ce),At.prototype[_t]=!0,At.prototype.removeEventListener=function(c,y,_,S){ba(this,c,y,_,S)};function Ot(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var B=y;y=new ae(S,c),D(y,B)}if(B=!0,_)for(var K=_.length-1;0<=K;K--){var re=y.g=_[K];B=Di(re,S,!0,y)&&B}if(re=y.g=c,B=Di(re,S,!0,y)&&B,B=Di(re,S,!1,y)&&B,_)for(K=0;K<_.length;K++)re=y.g=_[K],B=Di(re,S,!1,y)&&B}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Ke(_[S]);delete c.g[y],c.h--}}this.F=null},At.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},At.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Di(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var re=y[K];if(re&&!re.da&&re.capture==_){var Pe=re.listener,Rt=re.ha||re.src;re.fa&&Ii(c.i,re),B=Pe.call(Rt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Mu(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Uo(c){c.g=Mu(()=>{c.g=null,c.i&&(c.i=!1,Uo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _f extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){ce.call(this),this.h=c,this.g={}}k(Ss,ce);var yr=[];function $t(c){ge(c.g,function(y,_){this.g.hasOwnProperty(_)&&As(y)},c),c.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),$t(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lo=m.JSON.stringify,ei=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function jo(){}jo.prototype.h=null;function Pu(c){return c.h||(c.h=c.i())}function Vu(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){ae.call(this,"d")}k(_r,ae);function Gn(){ae.call(this,"c")}k(Gn,ae);var Cn={},vr=null;function Aa(){return vr=vr||new At}Cn.La="serverreachability";function zo(c){ae.call(this,Cn.La,c)}k(zo,ae);function Er(c){const y=Aa();Ot(y,new zo(y))}Cn.STAT_EVENT="statevent";function Sa(c,y){ae.call(this,Cn.STAT_EVENT,c),this.stat=y}k(Sa,ae);function pt(c){const y=Aa();Ot(y,new Sa(y,c))}Cn.Ma="timingevent";function Uu(c,y){ae.call(this,Cn.Ma,c),this.size=y}k(Uu,ae);function Tr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function Lu(c,y,_,S,B,K){c.info(function(){if(c.g)if(K)for(var re="",Pe=K.split("&"),Rt=0;Rt<Pe.length;Rt++){var Ve=Pe[Rt].split("=");if(1<Ve.length){var Pt=Ve[0];Ve=Ve[1];var Ct=Pt.split("_");re=2<=Ct.length&&Ct[1]=="type"?re+(Pt+"="+Ve+"&"):re+(Pt+"=redacted&")}}else re=null;else re=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+_+`
`+re})}function ju(c,y,_,S,B,K,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+_+`
`+K+" "+re})}function wr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+kt(c,_)+(S?" "+S:"")})}function ni(c,y){c.info(function(){return"TIMEOUT: "+y})}br.prototype.info=function(){};function kt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var re=1;re<B.length;re++)B[re]=""}}}}return Lo(_)}catch{return y}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rs;function Ra(){}k(Ra,jo),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},Rs=new Ra;function ii(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bo}function Bo(){this.i=null,this.g="",this.h=!1}var Ar={},Cs={};function Kn(c,y,_){c.L=1,c.v=Ds(lt(y)),c.m=_,c.P=!0,Oi(c,null)}function Oi(c,y){c.F=Date.now(),Je(c),c.A=lt(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Pi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Bo,c.g=Ju(c.j,_?y:null,!c.m),0<c.O&&(c.M=new _f(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(yr[0]=B.toString()),B=yr);for(var K=0;K<B.length;K++){var re=Ni(_,B[K],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Er(),Lu(c.i,c.u,c.A,c.l,c.R,c.m)}ii.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=On(this.g);var y=this.g.Ba();const ji=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=ji?Er(3):Er(2)),Ca(this);var _=this.g.Z();this.X=_;t:if(Sr(this)){var S=Gu(this.g);c="";var B=S.length,K=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),gn(this);var re="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,ju(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Rt=this.g;if((Pe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Pe)){var Ve=Pe;break t}}Ve=null}if(_=Ve)wr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,_);else{this.o=!1,this.s=3,pt(12),cn(this),gn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<re.length;)if(zt=Rr(this,re),zt==Cs){Ct==4&&(this.s=4,pt(14),_=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ar){this.s=4,pt(15),wr(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else wr(this.i,this.l,zt,null),yn(this,zt);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||re.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)wr(this.i,this.l,re,"[Invalid Chunked Response]"),cn(this),gn(this);else if(0<re.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Us(Pt),Pt.M=!0,pt(11))}}else wr(this.i,this.l,re,null),yn(this,re);Ct==4&&cn(this),this.o&&!this.J&&(Ct==4?Xu(this.j,this):(this.o=!1,Je(this)))}else Af(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),cn(this),gn(this)}}}catch{}finally{}};function Sr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rr(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Cs:(_=Number(y.substring(_,S)),isNaN(_)?Ar:(S+=1,S+_>y.length?Cs:(y=y.slice(S,S+_),c.C=S+_,y)))}ii.prototype.cancel=function(){this.J=!0,cn(this)};function Je(c){c.S=Date.now()+c.I,Ho(c,c.I)}function Ho(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tr(A(c.ba,c),y)}function Ca(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ii.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ni(this.i,this.A),this.L!=2&&(Er(),pt(17)),cn(this),this.s=2,gn(this)):Ho(this,this.S-c)};function gn(c){c.j.G==0||c.J||Xu(c.j,c)}function cn(c){Ca(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$t(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function yn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Cr(_.h,c))){if(!c.K&&Cr(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ua(_),Pa(_);else break e;Jo(_),pt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tr(A(_.Za,_),6e3));if(1>=zu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Li(_,11)}else if((c.K||_.g==c)&&Ua(_),!te(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Ve=B[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Pt=Ve[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const Ct=Ve[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const ji=Ve[5];ji!=null&&typeof ji=="number"&&0<ji&&(S=1.5*ji,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const zt=c.g;if(zt){const ci=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var K=S.h;K.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ir(K,K.h),K.h=null))}if(S.D){const tl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(S.ya=tl,Be(S.I,S.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var re=c;if(S.qa=Zu(S,S.J?S.ia:null,S.W),re.K){In(S.h,re);var Pe=re,Rt=S.L;Rt&&(Pe.I=Rt),Pe.B&&(Ca(Pe),Je(Pe)),S.g=re}else Qu(S);0<_.i.length&&Va(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Li(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Li(_,7):Wo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}Er(4)}catch{}}var vf=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function zu(c){return c.h?1:c.g?c.g.size:0}function Cr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ir(c,y){c.g?c.g.add(y):c.h=y}function In(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function Bu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Ef(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Is(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ef(c),S=Bu(c),B=S.length,K=0;K<B;K++)y.call(void 0,S[K],_&&_[K],c)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),B=null;if(0<=S){var K=c[_].substring(0,S);B=c[_].substring(S+1)}else K=c[_];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function ki(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ki){this.h=c.h,Nr(this,c.j),this.o=c.o,this.g=c.g,Ns(this,c.s),this.l=c.l;var y=c.i,_=new ri;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Na(this,_),this.m=c.m}else c&&(y=String(c).match(Go))?(this.h=!1,Nr(this,y[1]||"",!0),this.o=Dr(y[2]||""),this.g=Dr(y[3]||"",!0),Ns(this,y[4]),this.l=Dr(y[5]||"",!0),Na(this,y[6]||"",!0),this.m=Dr(y[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}ki.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Nn(y,Ko,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Nn(y,Ko,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Nn(_,_.charAt(0)=="/"?$o:Hu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Nn(_,wf)),c.join("")};function lt(c){return new ki(c)}function Nr(c,y,_){c.j=_?Dr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ns(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Na(c,y,_){y instanceof ri?(c.i=y,Qo(c.i,c.h)):(_||(y=Nn(y,bf)),c.i=new ri(y,c.h))}function Be(c,y,_){c.i.set(y,_)}function Ds(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Tf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Hu=/[#\?:]/g,$o=/[#\?]/g,bf=/[#\?@]/g,wf=/#/g;function ri(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ia(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ri.prototype,i.add=function(c,y){Dn(this),this.i=null,c=Vi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Da(c,y){Dn(c),y=Vi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mi(c,y){return Dn(c),y=Vi(c,y),c.g.has(y)}i.forEach=function(c,y){Dn(this),this.g.forEach(function(_,S){_.forEach(function(B){c.call(y,B,S,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const B=c[S];for(let K=0;K<B.length;K++)_.push(y[S])}return _},i.V=function(c){Dn(this);let y=[];if(typeof c=="string")Mi(this,c)&&(y=y.concat(this.g.get(Vi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Dn(this),this.i=null,c=Vi(this,c),Mi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Pi(c,y,_){Da(c,y),0<_.length&&(c.i=null,c.g.set(Vi(c,y),$(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var B=K;re[S]!==""&&(B+="="+encodeURIComponent(String(re[S]))),c.push(B)}}return this.i=c.join("&")};function Vi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Qo(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(Da(this,S),Pi(this,B,_))},c)),c.j=y}function qu(c,y){const _=new br;if(m.Image){const S=new Image;S.onload=O(xn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=O(xn,_,"TestLoadImage: error",!1,y,S),S.onabort=O(xn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=O(xn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function xs(c,y){const _=new br,S=new AbortController,B=setTimeout(()=>{S.abort(),xn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?xn(_,"TestPingServer: ok",!0,y):xn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),xn(_,"TestPingServer: error",!1,y)})}function xn(c,y,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function Os(){this.g=new tn}function si(c,y,_){const S=_||"";try{Is(c,function(B,K){let re=B;g(B)&&(re=Lo(B)),y.push(S+K+"="+encodeURIComponent(re))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(xr,jo),xr.prototype.g=function(){return new Ui(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function Ui(c,y){At.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ui,At),i=Ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ai(this):oi(this),this.readyState==3&&Yo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let y="";return ge(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Xo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,y,_))}function Fe(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Fe,At);var xa=/^https?$/i,ks=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rs.g(),this.v=this.o?Pu(this.o):Pu(Rs),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Fu(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ks,y,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of _)this.g.setRequestHeader(K,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ms(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Fu(this,K)}};function Fu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Oa(c),li(c)}function Oa(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},i.bb=function(){ka(this)};function ka(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Mu(c.Ea,0,c);else if(Ot(c,"readystatechange"),On(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=re===0){var B=String(c.D).match(Go)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!xa.test(B?B.toLowerCase():"")}_=S}if(_)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var K=2<On(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Oa(c)}}finally{li(c)}}}}function li(c,y){if(c.g){Ms(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ot(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ms(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ei(y)}};function Gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Af(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(te(c[S]))continue;var _=V(c[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[B]||[];y[B]=K,K.push(_)}M(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ma(c){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ps("baseRetryDelayMs",5e3,c),this.cb=Ps("retryDelaySeedMs",1e4,c),this.Wa=Ps("forwardChannelMaxRetries",2,c),this.wa=Ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qo(c&&c.concurrentRequestLimit),this.Da=new Os,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ma.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){pt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Zu(this,null,this.W),Va(this)};function Wo(c){if(Ku(c),c.G==3){var y=c.U++,_=lt(c.I);if(Be(_,"SID",c.K),Be(_,"RID",y),Be(_,"TYPE","terminate"),Vs(c,_),y=new ii(c,c.j,y),y.L=2,y.v=Ds(lt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}Wu(c)}function Pa(c){c.g&&(Us(c),c.g.cancel(),c.g=null)}function Ku(c){Pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Va(c){if(!Fo(c.h)&&!c.s){c.s=!0;var y=c.Ga;_e||I(),me||(_e(),me=!0),je.add(y,c),c.B=0}}function Sf(c,y){return zu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tr(A(c.Ga,c,y),el(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ii(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=$u(this,B,y),_=lt(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),Vs(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Xo(K)))+"&"+y:this.m&&Mt(_,this.m,K)),Ir(this.h,B),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",y),Be(_,"SID","null"),B.T=!0,Kn(B,_,null)):Kn(B,_,y),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||Fo(this.h)||Zo(this))};function Zo(c,y){var _;y?_=y.l:_=c.U++;const S=lt(c.I);Be(S,"SID",c.K),Be(S,"RID",_),Be(S,"AID",c.T),Vs(c,S),c.m&&c.o&&Mt(S,c.m,c.o),_=new ii(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$u(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ir(c.h,_),Kn(_,S,y)}function Vs(c,y){c.H&&ge(c.H,function(_,S){Be(y,S,_)}),c.l&&Is({},function(_,S){Be(y,S,_)})}function $u(c,y,_){_=Math.min(c.i.length,_);var S=c.l?A(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const re=["count="+_];K==-1?0<_?(K=B[0].g,re.push("ofs="+K)):K=0:re.push("ofs="+K);let Pe=!0;for(let Rt=0;Rt<_;Rt++){let Ve=B[Rt].g;const Pt=B[Rt].map;if(Ve-=K,0>Ve)K=Math.max(0,B[Rt].g-100),Pe=!1;else try{si(Pt,re,"req"+Ve+"_")}catch{S&&S(Pt)}}if(Pe){S=re.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_e||I(),me||(_e(),me=!0),je.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tr(A(c.Fa,c),el(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tr(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Pa(this),Yu(this))};function Us(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=lt(c.qa);Be(y,"RID","rpc"),Be(y,"SID",c.K),Be(y,"AID",c.T),Be(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(y,"TO",c.ja),Be(y,"TYPE","xmlhttp"),Vs(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ds(lt(y)),_.m=null,_.P=!0,Oi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Pa(this),Jo(this),pt(19))};function Ua(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Xu(c,y){var _=null;if(c.g==y){Ua(c),Us(c),c.g=null;var S=2}else if(Cr(c.h,y))_=y.D,In(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=Aa(),Ot(S,new Uu(S,_)),Va(c)}else Qu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&Sf(c,y)||S==2&&Jo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function el(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Li(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),S=c.Xa;const B=!S;S=new ki(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Nr(S,"https"),Ds(S),B?qu(S.toString(),_):xs(S.toString(),_)}else pt(2);c.G=0,c.l&&c.l.sa(y),Wu(c),Ku(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Wu(c){if(c.G=0,c.ka=[],c.l){const y=nn(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Zu(c,y,_){var S=_ instanceof ki?lt(_):new ki(_);if(S.g!="")y&&(S.g=y+"."+S.g),Ns(S,S.s);else{var B=m.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new ki(null);S&&Nr(K,S),y&&(K.g=y),B&&Ns(K,B),_&&(K.l=_),S=K}return _=c.D,y=c.ya,_&&y&&Be(S,_,y),Be(S,"VER",c.la),Vs(c,S),S}function Ju(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new xr({eb:_})):new Fe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}i=ec.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function La(){}La.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){At.call(this),this.g=new Ma(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ui(this)}k(rn,At),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Wo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Lo(c),c=_);y.i.push(new vf(y.Ya++,c)),y.G==3&&Va(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,rn.aa.N.call(this)};function tc(c){_r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(tc,_r);function nc(){Gn.call(this),this.status=1}k(nc,Gn);function ui(c){this.g=c}k(ui,ec),ui.prototype.ua=function(){Ot(this.g,"a")},ui.prototype.ta=function(c){Ot(this.g,new tc(c))},ui.prototype.sa=function(c){Ot(this.g,new nc)},ui.prototype.ra=function(){Ot(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,YT=function(){return new La},QT=function(){return Aa()},$T=Cn,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,_h=St,xi.COMPLETE="complete",KT=xi,Vu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",At.prototype.listen=At.prototype.K,$l=Vu,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,GT=Fe}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const T0="@firebase/firestore",b0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new wp("@firebase/firestore");function ho(){return ca.logLevel}function ue(i,...e){if(ca.logLevel<=Oe.DEBUG){const n=e.map(Vp);ca.debug(`Firestore (${xo}): ${i}`,...n)}}function hr(i,...e){if(ca.logLevel<=Oe.ERROR){const n=e.map(Vp);ca.error(`Firestore (${xo}): ${i}`,...n)}}function To(i,...e){if(ca.logLevel<=Oe.WARN){const n=e.map(Vp);ca.warn(`Firestore (${xo}): ${i}`,...n)}}function Vp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+i;throw hr(e),new Error(e)}function Ge(i,e){i||Te()}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class MN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new us;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new us,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new us)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new XT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Wt(e)}}class VN{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UN{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new VN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LN{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new w0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new w0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function Zm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=WT(),h=zN(u.encode(A0(i,n)),u.encode(A0(e,n)));return h!==0?h:Ne(s,o)}}n+=s>65535?2:1}return Ne(i.length,e.length)}function A0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function zN(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ne(i[n],e[n]);return Ne(i.length,e.length)}function bo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-62135596800,R0=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*R0);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-S0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Dt(0,0))}static max(){return new be(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="__name__";class gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ne(e.length,n.length)}static compareSegments(e,n){const s=gi.isNumericId(e),o=gi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(n)):Zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class Ze extends gi{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const BN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends gi{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return BN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C0}static keyField(){return new Gt([C0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function HN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new fs(o,ye.empty(),e)}function qN(i){return new fs(i.readTime,i.key,uu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(be.min(),ye.empty(),uu)}static max(){return new fs(be.max(),ye.empty(),uu)}}function FN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==GN)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function $N(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Jh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=-1;function ef(i){return i==null}function Mh(i){return i===0&&1/i==-1/0}function QN(i){return typeof i=="number"&&Number.isInteger(i)&&!Mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function YN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=I0(e)),e=XN(i.get(n),e);return I0(e)}function XN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case JT:n+="";break;default:n+=u}}return n}function I0(i){return i+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function bs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function eb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new An([])}unionWith(e){let n=new xt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tb("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const WN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(Ge(!!i),typeof i=="string"){let e=0;const n=WN.exec(i);if(Ge(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="server_timestamp",ib="__type__",rb="__previous_value__",sb="__local_write_time__";function Lp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ib])===null||n===void 0?void 0:n.stringValue)===nb}function tf(i){const e=i.mapValue.fields[rb];return Lp(e)?tf(e):e}function cu(i){const e=ds(i.mapValue.fields[sb].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,s,o,u,h,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Ph="(default)";class hu{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="__type__",JN="__max__",sh={mapValue:{}},ob="__vector__",Vh="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Lp(i)?4:tD(i)?9007199254740991:eD(i)?10:11:Te()}function Si(i,e){if(i===e)return!0;const n=ps(i);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return cu(i).isEqual(cu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),m=ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Mh(h)===Mh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return bo(i.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(N0(h)!==N0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Si(h[p],m[p])))return!1;return!0}(i,e);default:return Te()}}function fu(i,e){return(i.values||[]).find(n=>Si(n,e))!==void 0}function wo(i,e){if(i===e)return 0;const n=ps(i),s=ps(e);if(n!==s)return Ne(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return x0(i.timestampValue,e.timestampValue);case 4:return x0(cu(i),cu(e));case 5:return Zm(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ms(u),p=ms(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ne(m[g],p[g]);if(E!==0)return E}return Ne(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ne(yt(u.latitude),yt(h.latitude));return m!==0?m:Ne(yt(u.longitude),yt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return O0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const w=u.fields||{},A=h.fields||{},O=(m=w[Vh])===null||m===void 0?void 0:m.arrayValue,k=(p=A[Vh])===null||p===void 0?void 0:p.arrayValue,$=Ne(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:O0(O,k)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===sh.mapValue&&h===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(h===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=Zm(p[w],E[w]);if(A!==0)return A;const O=wo(m[p[w]],g[E[w]]);if(O!==0)return O}return Ne(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te()}}function x0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const n=ds(i),s=ds(e),o=Ne(n.seconds,s.seconds);return o!==0?o:Ne(n.nanos,s.nanos)}function O0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=wo(n[o],s[o]);if(u)return u}return Ne(n.length,s.length)}function Ao(i){return Jm(i)}function Jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ms(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Jm(n.fields[h])}`;return o+"}"}(i.mapValue):Te()}function vh(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(i);return e?16+vh(e):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+vh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return bs(s.fields,(u,h)=>{o+=u.length+vh(h)}),o}(i.mapValue);default:throw Te()}}function k0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ep(i){return!!i&&"integerValue"in i}function jp(i){return!!i&&"arrayValue"in i}function M0(i){return!!i&&"nullValue"in i}function P0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Eh(i){return!!i&&"mapValue"in i}function eD(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ab])===null||n===void 0?void 0:n.stringValue)===ob}function Jl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return bs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function tD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===JN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Jl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new mn(Jl(this.value))}}function lb(i){const e=[];return bs(i.fields,(n,s)=>{const o=new Gt([n]);if(Eh(s)){const u=lb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,be.min(),be.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,be.min(),be.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function V0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=wo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function U0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Si(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function nD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{}class wt extends ub{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rD(e,n,s):n==="array-contains"?new oD(e,s):n==="in"?new lD(e,s):n==="not-in"?new uD(e,s):n==="array-contains-any"?new cD(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sD(e,s):new aD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wo(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends ub{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jn(e,n)}matches(e){return cb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cb(i){return i.op==="and"}function hb(i){return iD(i)&&cb(i)}function iD(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function tp(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+Ao(i.value);if(hb(i))return i.filters.map(e=>tp(e)).join(",");{const e=i.filters.map(n=>tp(n)).join(",");return`${i.op}(${e})`}}function fb(i,e){return i instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)}(i,e):i instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&fb(h,o.filters[m]),!0):!1}(i,e):void Te()}function db(i){return i instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(i):i instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(db).join(" ,")+"}"}(i):"Filter"}class rD extends wt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class sD extends wt{constructor(e,n){super(e,"in",n),this.keys=mb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aD extends wt{constructor(e,n){super(e,"not-in",n),this.keys=mb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mb(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class oD extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&fu(n.arrayValue,this.value)}}class lD extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class uD extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fu(this.value.arrayValue,n)}}class cD extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>fu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function L0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new hD(i,e,n,s,o,u,h)}function zp(i){const e=Ae(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>tp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ao(s)).join(",")),e.le=n}return e.le}function Bp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!nD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!fb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!U0(i.startAt,e.startAt)&&U0(i.endAt,e.endAt)}function np(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function fD(i,e,n,s,o,u,h,m){return new Cu(i,e,n,s,o,u,h,m)}function Hp(i){return new Cu(i)}function j0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function pb(i){return i.collectionGroup!==null}function eu(i){const e=Ae(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new xt(Gt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Lh(u,s))}),n.has(Gt.keyField().canonicalString())||e.he.push(new Lh(Gt.keyField(),s))}return e.he}function Ti(i){const e=Ae(i);return e.Pe||(e.Pe=dD(e,eu(i))),e.Pe}function dD(i,e){if(i.limitType==="F")return L0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Lh(o.field,u)});const n=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return L0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ip(i,e){const n=i.filters.concat([e]);return new Cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function rp(i,e,n){return new Cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function nf(i,e){return Bp(Ti(i),Ti(e))&&i.limitType===e.limitType}function gb(i){return`${zp(Ti(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>db(o)).join(", ")}]`),ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ao(o)).join(",")),`Target(${s})`}(Ti(i))}; limitType=${i.limitType})`}function rf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=V0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,eu(s),o)||s.endAt&&!function(h,m,p){const g=V0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,eu(s),o))}(i,e)}function mD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function yb(i){return(e,n)=>{let s=!1;for(const o of eu(i)){const u=pD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function pD(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?wo(p,g):Te()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return eb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new st(ye.comparator);function fr(){return gD}const _b=new st(ye.comparator);function Ql(...i){let e=_b;for(const n of i)e=e.insert(n.key,n);return e}function vb(i){let e=_b;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ra(){return tu()}function Eb(){return tu()}function tu(){return new _a(i=>i.toString(),(i,e)=>i.isEqual(e))}const yD=new st(ye.comparator),_D=new xt(ye.comparator);function ke(...i){let e=_D;for(const n of i)e=e.add(n);return e}const vD=new xt(Ne);function ED(){return vD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function Tb(i){return{integerValue:""+i}}function TD(i,e){return QN(e)?Tb(e):qp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function bD(i,e,n){return i instanceof du?function(o,u){const h={fields:{[ib]:{stringValue:nb},[sb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lp(u)&&(u=tf(u)),u&&(h.fields[rb]=u),{mapValue:h}}(n,e):i instanceof mu?wb(i,e):i instanceof pu?Ab(i,e):function(o,u){const h=bb(o,u),m=z0(h)+z0(o.Ie);return ep(h)&&ep(o.Ie)?Tb(m):qp(o.serializer,m)}(i,e)}function wD(i,e,n){return i instanceof mu?wb(i,e):i instanceof pu?Ab(i,e):n}function bb(i,e){return i instanceof jh?function(s){return ep(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class du extends sf{}class mu extends sf{constructor(e){super(),this.elements=e}}function wb(i,e){const n=Sb(e);for(const s of i.elements)n.some(o=>Si(o,s))||n.push(s);return{arrayValue:{values:n}}}class pu extends sf{constructor(e){super(),this.elements=e}}function Ab(i,e){let n=Sb(e);for(const s of i.elements)n=n.filter(o=>!Si(o,s));return{arrayValue:{values:n}}}class jh extends sf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function z0(i){return yt(i.integerValue||i.doubleValue)}function Sb(i){return jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.field=e,this.transform=n}}function SD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?bo(s.elements,o.elements,Si):s instanceof jh&&o instanceof jh?Si(s.Ie,o.Ie):s instanceof du&&o instanceof du}(i.transform,e.transform)}class RD{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class af{}function Rb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Fp(i.key,Wn.none()):new Iu(i.key,i.data,Wn.none());{const n=i.data,s=mn.empty();let o=new xt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ws(i.key,s,new An(o.toArray()),Wn.none())}}function CD(i,e,n){i instanceof Iu?function(o,u,h){const m=o.value.clone(),p=H0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ws?function(o,u,h){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=H0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Cb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function nu(i,e,n,s){return i instanceof Iu?function(u,h,m,p){if(!Th(u.precondition,h))return m;const g=u.value.clone(),E=q0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ws?function(u,h,m,p){if(!Th(u.precondition,h))return m;const g=q0(u.fieldTransforms,p,h),E=h.data;return E.setAll(Cb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,h,m){return Th(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function ID(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=bb(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function B0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bo(s,o,(u,h)=>SD(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Iu extends af{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ws extends af{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Cb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function H0(i,e,n){const s=new Map;Ge(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,wD(h,m,n[o]))}return s}function q0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,bD(u,h,e))}return s}class Fp extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ND extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&CD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Eb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Rb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(n,s)=>B0(n,s))&&bo(this.baseMutations,e.baseMutations,(n,s)=>B0(n,s))}}class Gp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length);let o=function(){return yD}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Gp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Le;function kD(i){switch(i){case ee.OK:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te()}}function Ib(i){if(i===void 0)return hr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case bt.OK:return ee.OK;case bt.CANCELLED:return ee.CANCELLED;case bt.UNKNOWN:return ee.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ee.INTERNAL;case bt.UNAVAILABLE:return ee.UNAVAILABLE;case bt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case bt.NOT_FOUND:return ee.NOT_FOUND;case bt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case bt.ABORTED:return ee.ABORTED;case bt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case bt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Le=bt||(bt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new ls([4294967295,4294967295],0);function F0(i){const e=WT().encode(i),n=new FT;return n.update(e),new Uint8Array(n.digest())}function G0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class Kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ls.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(MD)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=F0(e),[s,o]=G0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Kp(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const n=F0(e),[s,o]=G0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new of(be.min(),o,new st(Ne),fr(),ke())}}class Nu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Nu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class Nb{constructor(e,n){this.targetId=e,this.ge=n}}class Db{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class K0{constructor(){this.pe=0,this.ye=$0(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),n=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Nu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=$0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class PD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fr(),this.$e=ah(),this.Ue=ah(),this.Ke=new st(Ne)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(np(u))if(s===0){const h=new ye(u.path);this.ze(n,h,Zt.newNoDocument(h,be.min()))}else Ge(s===1);else{const h=this.et(n);if(h!==s){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof tb)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Kp(h,o,u)}catch(p){return To(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&np(m.target)){const p=new ye(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Zt.newNoDocument(p,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=ke();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new of(e,n,this.Ke,this.Qe,s);return this.Qe=fr(),this.$e=ah(),this.Ue=ah(),this.Ke=new st(Ne),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new K0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new xt(Ne),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new xt(Ne),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new K0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ah(){return new st(ye.comparator)}function $0(){return new st(ye.comparator)}const VD={asc:"ASCENDING",desc:"DESCENDING"},UD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LD={and:"AND",or:"OR"};class jD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sp(i,e){return i.useProto3Json||ef(e)?e:{value:e}}function zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function zD(i,e){return zh(i,e.toTimestamp())}function bi(i){return Ge(!!i),be.fromTimestamp(function(n){const s=ds(n);return new Dt(s.seconds,s.nanos)}(i))}function $p(i,e){return ap(i,e).canonicalString()}function ap(i,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Ob(i){const e=Ze.fromString(i);return Ge(Ub(e)),e}function op(i,e){return $p(i.databaseId,e.path)}function Dm(i,e){const n=Ob(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Mb(n))}function kb(i,e){return $p(i.databaseId,e)}function BD(i){const e=Ob(i);return e.length===4?Ze.emptyPath():Mb(e)}function lp(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Mb(i){return Ge(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Q0(i,e,n){return{name:op(i,e),fields:n.value.mapValue.fields}}function HD(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string"),Kt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?ee.UNKNOWN:Ib(g.code);return new fe(E,g.message||"")}(h);n=new Db(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(i,s.document.name),u=bi(s.document.updateTime),h=s.document.createTime?bi(s.document.createTime):be.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new bh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(i,s.document),u=s.readTime?bi(s.readTime):be.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(i,s.document),u=s.removedTargetIds||[];n=new bh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new OD(o,u),m=s.targetId;n=new Nb(m,h)}}return n}function qD(i,e){let n;if(e instanceof Iu)n={update:Q0(i,e.key,e.value)};else if(e instanceof Fp)n={delete:op(i,e.key)};else if(e instanceof ws)n={update:Q0(i,e.key,e.data),updateMask:ZD(e.fieldMask)};else{if(!(e instanceof ND))return Te();n={verify:op(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof du)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof jh)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:zD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(i,e.precondition)),n}function FD(i,e){return i&&i.length>0?(Ge(e!==void 0),i.map(n=>function(o,u){let h=o.updateTime?bi(o.updateTime):bi(u);return h.isEqual(be.min())&&(h=bi(u)),new RD(h,o.transformResults||[])}(n,e))):[]}function GD(i,e){return{documents:[kb(i,e.path)]}}function KD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kb(i,o);const u=function(g){if(g.length!==0)return Vb(Jn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:mo(A.field),direction:YD(A.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=sp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function $D(i){let e=BD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=Pb(w);return A instanceof Jn&&hb(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(w){return w.map(A=>function(k){return new Lh(po(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,ef(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,O=w.values||[];return new Uh(O,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,O=w.values||[];return new Uh(O,A)}(n.endAt)),fD(e,o,h,u,m,"F",p,g)}function QD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Pb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(n.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(n){return wt.create(po(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(s=>Pb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(i):Te()}function YD(i){return VD[i]}function XD(i){return UD[i]}function WD(i){return LD[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return Gt.fromServerFormat(i.fieldPath)}function Vb(i){return i instanceof wt?function(n){if(n.op==="=="){if(P0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(M0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(M0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:XD(n.op),value:n.value}}}(i):i instanceof Jn?function(n){const s=n.getFilters().map(o=>Vb(o));return s.length===1?s[0]:{compositeFilter:{op:WD(n.op),filters:s}}}(i):Te()}function ZD(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ub(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.Tt=e}}function ex(i){const e=$D({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.Tn=new nx}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(fs.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class nx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(Ze.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Lb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new So(0)}static Kn(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="LruGarbageCollector",ix=1048576;function W0([i,e],[n,s]){const o=Ne(i,n);return o===0?Ne(e,s):o}class rx{constructor(e){this.Hn=e,this.buffer=new xt(W0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();W0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(X0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?ue(X0,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.er(3e5)})}}class ax{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Jh.ae);const s=new rx(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Y0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),ho()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function ox(i,e){return new ax(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.changes=new _a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&nu(s.mutation,o,An.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=ra();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Ql();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=ra();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=fr();const h=tu(),m=function(){return tu()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ws)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),nu(E.mutation,g,E.mutation.getFieldMask(),Dt.now())):h.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new ux(E,(w=h.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new st((h,m)=>h-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=Eb();E.forEach(A=>{if(!u.has(A)){const O=Rb(n.get(A),s.get(A));O!==null&&w.set(A,O),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(ra());let m=uu,p=u;return h.next(g=>J.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:m,changes:vb(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(w,A){return new Cu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,A)=>{h=h.insert(w,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Zt.newInvalidDocument(E)))});let m=Ql();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&nu(E.mutation,g,An.empty(),Dt.now()),rf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:ex(o.bundledQuery),readTime:bi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.overlays=new st(ye.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ra();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=ra(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ra(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new xD(n,s));let u=this.Rr.get(n);u===void 0&&(u=ke(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.Vr=new xt(jt.mr),this.gr=new xt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new Ze([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new Ze([])),s=new jt(n,e),o=new jt(n,e+1);let u=ke();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ne(e.Cr,n.Cr)}static pr(e,n){return Ne(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(jt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new DD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Up:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Ne);return n.forEach(o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new jt(new ye(u),0);let m=new xt(Ne);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.kr=e,this.docs=function(){return new st(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fr();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||FN(qN(E),s)<=0||(o.has(E.key)||rf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new gx(this)}getSize(e){return J.resolve(this.size)}}class gx extends lx{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.persistence=e,this.Qr=new _a(n=>zp(n),Bp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Qp,this.targetCount=0,this.Kr=So.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new So(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Jh(0),this.zr=!1,this.zr=!0,this.jr=new dx,this.referenceDelegate=e(this),this.Hr=new yx(this),this.indexManager=new tx,this.remoteDocumentCache=function(o){return new px(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new JD(n),this.Yr=new hx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new mx(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new _x(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class _x extends KN{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.ti=new Qp,this.ni=null}static ri(e){return new Yp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.oi=new _a(s=>YN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ox(this,n)}static ri(e,n){return new Bh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(m=>{m||(s++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return i1()?8:$N(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new vx;return this._s(e,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,h,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(ho()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(ho()<=Oe.DEBUG&&ue("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ho()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):J.resolve())}rs(e,n){if(j0(n))return J.resolve(null);let s=Ti(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=rp(n,null,"F"),s=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,h,p.readTime)?this.rs(e,rp(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return j0(n)||o.isEqual(be.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,o)?J.resolve(null):(ho()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.hs(e,h,n,HN(o,uu)).next(m=>m))})}cs(e,n){let s=new xt(yb(e));return n.forEach((o,u)=>{rf(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return ho()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ns.getDocumentsMatchingQuery(e,n,fs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="LocalStore",Tx=3e8;class bx{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(Ne),this.Is=new _a(u=>zp(u),Bp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function wx(i,e,n,s){return new bx(i,e,n,s)}async function zb(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function Ax(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,A=w.keys();let O=J.resolve();return A.forEach(k=>{O=O.next(()=>E.getEntry(p,k)).next($=>{const L=g.docVersions.get(k);Ge(L!==null),$.version.compareTo(L)<0&&(w.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Bb(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Sx(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(w,O),function($,L,G){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=Tx?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(A,O,E)&&m.push(n.Hr.updateTargetData(u,O))});let p=fr(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(Rx(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(be.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function Rx(i,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=fr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(Wp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function Cx(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ix(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(h=>(o=new ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function up(i,e,n){const s=Ae(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ko(h))throw h;ue(Wp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Z0(i,e,n){const s=Ae(i);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const w=Ae(p),A=w.Is.get(E);return A!==void 0?J.resolve(w.Ts.get(A)):w.Hr.getTargetData(g,E)}(s,h,Ti(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:ke())).next(m=>(Nx(s,mD(e),m),{documents:m,gs:u})))}function Nx(i,e,n){let s=i.Es.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class J0{constructor(){this.activeTargetIds=ED()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dx{constructor(){this.ho=new J0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new J0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="ConnectivityMonitor";class tE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(eE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function cp(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",Ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kx{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const h=cp(),m=this.bo(e,n.toUriEncodedString());ue(xm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ue(xm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw To(xm,`RPC '${e}' ${h} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,h){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=Ox[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class Px extends kx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=cp();return new Promise((h,m)=>{const p=new GT;p.setWithCredentials(!0),p.listenOnce(KT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const E=p.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case _h.TIMEOUT:ue(Xt,`RPC '${e}' ${u} timed out`),m(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const w=p.getStatus();if(ue(Xt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A==null?void 0:A.error;if(O&&O.status&&O.message){const k=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(G)>=0?G:ee.UNKNOWN}(O.status);m(new fe(k,O.message))}else m(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue(Xt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=cp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=YT(),m=QT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=h.createWebChannel(E,p);let A=!1,O=!1;const k=new Mx({Fo:L=>{O?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Mo:()=>w.close()}),$=(L,G,te)=>{L.listen(G,X=>{try{te(X)}catch(ie){setTimeout(()=>{throw ie},0)}})};return $(w,$l.EventType.OPEN,()=>{O||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),$(w,$l.EventType.CLOSE,()=>{O||(O=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),k.Uo())}),$(w,$l.EventType.ERROR,L=>{O||(O=!0,To(Xt,`RPC '${e}' stream ${o} transport errored:`,L),k.Uo(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),$(w,$l.EventType.MESSAGE,L=>{var G;if(!O){const te=L.data[0];Ge(!!te);const X=te,ie=(X==null?void 0:X.error)||((G=X[0])===null||G===void 0?void 0:G.error);if(ie){ue(Xt,`RPC '${e}' stream ${o} received error:`,ie);const oe=ie.status;let ge=function(R){const D=bt[R];if(D!==void 0)return Ib(D)}(oe),M=ie.message;ge===void 0&&(ge=ee.INTERNAL,M="Unknown error status: "+oe+" with message "+ie.message),O=!0,k.Uo(new fe(ge,M)),w.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,te),k.Ko(te)}}),$(m,$T.STAT_EVENT,L=>{L.stat===Wm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Wm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(i){return new jD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class qb{constructor(e,n,s,o,u,h,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Hb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new fe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vx extends qb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=HD(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?bi(h.readTime):be.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=lp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=np(p)?{documents:GD(u,p)}:{query:KD(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=xb(u,h.resumeToken);const g=sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=zh(u,h.snapshotVersion.toTimestamp());const g=sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=QD(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.I_(n)}}class Ux extends qb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=FD(e.writeResults,e.commitTime),s=bi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=lp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>qD(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{}class jx extends Lx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,ap(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,ap(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(ee.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class Bx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{va(this)&&(ue(ha,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.W_.add(4),await Du(g),g.j_.set("Unknown"),g.W_.delete(4),await uf(g)}(this))})}),this.j_=new zx(s,o)}}async function uf(i){if(va(i))for(const e of i.G_)await e(!0)}async function Du(i){for(const e of i.G_)await e(!1)}function Fb(i,e){const n=Ae(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),tg(n)?eg(n):Mo(n).c_()&&Jp(n,e))}function Zp(i,e){const n=Ae(i),s=Mo(n);n.K_.delete(e),s.c_()&&Gb(n,e),n.K_.size===0&&(s.c_()?s.P_():va(n)&&n.j_.set("Unknown"))}function Jp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(i).y_(e)}function Gb(i,e){i.H_.Ne(e),Mo(i).w_(e)}function eg(i){i.H_=new PD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Mo(i).start(),i.j_.B_()}function tg(i){return va(i)&&!Mo(i).u_()&&i.K_.size>0}function va(i){return Ae(i).W_.size===0}function Kb(i){i.H_=void 0}async function Hx(i){i.j_.set("Online")}async function qx(i){i.K_.forEach((e,n)=>{Jp(i,e)})}async function Fx(i,e){Kb(i),tg(i)?(i.j_.q_(e),eg(i)):i.j_.set("Unknown")}async function Gx(i,e,n){if(i.j_.set("Online"),e instanceof Db&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ue(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(i,s)}else if(e instanceof bh?i.H_.We(e):e instanceof Nb?i.H_.Ze(e):i.H_.je(e),!n.isEqual(be.min()))try{const s=await Bb(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),Gb(u,p);const w=new ss(E.target,p,g,E.sequenceNumber);Jp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ue(ha,"Failed to raise snapshot:",s),await Hh(i,s)}}async function Hh(i,e,n){if(!ko(e))throw e;i.W_.add(1),await Du(i),i.j_.set("Offline"),n||(n=()=>Bb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(ha,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await uf(i)})}function $b(i,e){return e().catch(n=>Hh(i,n,e))}async function cf(i){const e=Ae(i),n=gs(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Up;for(;Kx(e);)try{const o=await Cx(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,$x(e,o)}catch(o){await Hh(e,o)}Qb(e)&&Yb(e)}function Kx(i){return va(i)&&i.U_.length<10}function $x(i,e){i.U_.push(e);const n=gs(i);n.c_()&&n.S_&&n.b_(e.mutations)}function Qb(i){return va(i)&&!gs(i).u_()&&i.U_.length>0}function Yb(i){gs(i).start()}async function Qx(i){gs(i).C_()}async function Yx(i){const e=gs(i);for(const n of i.U_)e.b_(n.mutations)}async function Xx(i,e,n){const s=i.U_.shift(),o=Gp.from(s,e,n);await $b(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await cf(i)}async function Wx(i,e){e&&gs(i).S_&&await async function(s,o){if(function(h){return kD(h)&&h!==ee.ABORTED}(o.code)){const u=s.U_.shift();gs(s).h_(),await $b(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await cf(s)}}(i,e),Qb(i)&&Yb(i)}async function iE(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ue(ha,"RemoteStore received new credentials");const s=va(n);n.W_.add(3),await Du(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await uf(n)}async function Zx(i,e){const n=Ae(i);e?(n.W_.delete(2),await uf(n)):e||(n.W_.add(2),await Du(n),n.j_.set("Unknown"))}function Mo(i){return i.J_||(i.J_=function(n,s,o){const u=Ae(n);return u.M_(),new Vx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:Hx.bind(null,i),No:qx.bind(null,i),Lo:Fx.bind(null,i),p_:Gx.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),tg(i)?eg(i):i.j_.set("Unknown")):(await i.J_.stop(),Kb(i))})),i.J_}function gs(i){return i.Y_||(i.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new Ux(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:Qx.bind(null,i),Lo:Wx.bind(null,i),D_:Yx.bind(null,i),v_:Xx.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await cf(i)):(await i.Y_.stop(),i.U_.length>0&&(ue(ha,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new ng(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(i,e){if(hr("AsyncQueue",`${e}: ${i}`),ko(i))return new fe(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.Z_=new st(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ro{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Ro(e,n,Eo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class eO{constructor(){this.queries=sE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=sE(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(s)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function sE(){return new _a(i=>gb(i),nf)}async function Xb(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new Jx,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ig(h,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&rg(n)}async function Wb(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tO(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&rg(n)}function nO(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function rg(i){i.ia.forEach(e=>{e.next()})}var hp,aE;(aE=hp||(hp={}))._a="default",aE.Cache="cache";class Zb{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.key=e}}class ew{constructor(e){this.key=e}}class iO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=yb(e),this.wa=new Eo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new rE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),O=rf(this.query,w)?w:null,k=!!A&&this.mutatedKeys.has(A.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;A&&O?A.data.isEqual(O.data)?k!==$&&(s.track({type:3,doc:O}),L=!0):this.va(A,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),L=!0):A&&!O&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(O?(h=h.add(O),u=$?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,w)=>function(O,k){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return $(O)-$(k)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Ro(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new rE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new ew(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new Jb(s))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ro.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const sg="SyncEngine";class rO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sO{constructor(e){this.key=e,this.Ba=!1}}class aO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new _a(m=>gb(m),nf),this.qa=new Map,this.Qa=new Set,this.$a=new st(ye.comparator),this.Ua=new Map,this.Ka=new Qp,this.Wa={},this.Ga=new Map,this.za=So.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oO(i,e,n=!0){const s=aw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await tw(s,e,n,!0),o}async function lO(i,e){const n=aw(i);await tw(n,e,!0,!1)}async function tw(i,e,n,s){const o=await Ix(i.localStore,Ti(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await uO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Fb(i.remoteStore,o),m}async function uO(i,e,n,s,o){i.Ha=(w,A,O)=>async function($,L,G,te){let X=L.view.ba(G);X.ls&&(X=await Z0($.localStore,L.query,!1).then(({documents:M})=>L.view.ba(M,X)));const ie=te&&te.targetChanges.get(L.targetId),oe=te&&te.targetMismatches.get(L.targetId)!=null,ge=L.view.applyChanges(X,$.isPrimaryClient,ie,oe);return lE($,L.targetId,ge.Ma),ge.snapshot}(i,w,A,O);const u=await Z0(i.localStore,e,!0),h=new iO(e,u.gs),m=h.ba(u.documents),p=Nu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);lE(i,n,g.Ma);const E=new rO(e,n,h);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function cO(i,e,n){const s=Ae(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!nf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await up(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Zp(s.remoteStore,o.targetId),fp(s,o.targetId)}).catch(Oo)):(fp(s,o.targetId),await up(s.localStore,o.targetId,!0))}async function hO(i,e){const n=Ae(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Zp(n.remoteStore,s.targetId))}async function fO(i,e,n){const s=vO(i);try{const o=await function(h,m){const p=Ae(h),g=Dt.now(),E=m.reduce((O,k)=>O.add(k.key),ke());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=fr(),$=ke();return p.ds.getEntries(O,E).next(L=>{k=L,k.forEach((G,te)=>{te.isValidDocument()||($=$.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,k)).next(L=>{w=L;const G=[];for(const te of m){const X=ID(te,w.get(te.key).overlayedDocument);X!=null&&G.push(new ws(te.key,X,lb(X.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,G,m)}).next(L=>{A=L;const G=L.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(O,L.batchId,G)})}).then(()=>({batchId:A.batchId,changes:vb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new st(Ne)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,n),await xu(s,o.changes),await cf(s.remoteStore)}catch(o){const u=ig(o,"Failed to persist write");n.reject(u)}}async function nw(i,e){const n=Ae(i);try{const s=await Sx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ua.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ge(h.Ba):o.removedDocuments.size>0&&(Ge(h.Ba),h.Ba=!1))}),await xu(n,s,e)}catch(s){await Oo(s)}}function oE(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const A of w.ta)A.sa(m)&&(g=!0)}),g&&rg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dO(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new st(ye.comparator);h=h.insert(u,Zt.newNoDocument(u,be.min()));const m=ke().add(u),p=new of(be.min(),new Map,new st(Ne),h,m);await nw(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),ag(s)}else await up(s.localStore,e,!1).then(()=>fp(s,e,n)).catch(Oo)}async function mO(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await Ax(n.localStore,e);rw(n,s,null),iw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,o)}catch(o){await Oo(o)}}async function pO(i,e,n){const s=Ae(i);try{const o=await function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ge(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);rw(s,e,n),iw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xu(s,o)}catch(o){await Oo(o)}}function iw(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function rw(i,e,n){const s=Ae(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function fp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||sw(i,s)})}function sw(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Zp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),ag(i))}function lE(i,e,n){for(const s of n)s instanceof Jb?(i.Ka.addReference(s.key,e),gO(i,s)):s instanceof ew?(ue(sg,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||sw(i,s.key)):Te()}function gO(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ue(sg,"New document in limbo: "+n),i.Qa.add(s),ag(i))}function ag(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ye(Ze.fromString(e)),s=i.za.next();i.Ua.set(s,new sO(n)),i.$a=i.$a.insert(n,s),Fb(i.remoteStore,new ss(Ti(Hp(n.path)),s,"TargetPurposeLimboResolution",Jh.ae))}}async function xu(i,e,n){const s=Ae(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{h.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Xp.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(g,A=>J.forEach(A.Hi,O=>E.persistence.referenceDelegate.addReference(w,A.targetId,O)).next(()=>J.forEach(A.Ji,O=>E.persistence.referenceDelegate.removeReference(w,A.targetId,O)))))}catch(w){if(!ko(w))throw w;ue(Wp,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const O=E.Ts.get(A),k=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(A,$)}}}(s.localStore,u))}async function yO(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ue(sg,"User change. New user:",e.toKey());const s=await zb(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new fe(ee.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Rs)}}function _O(i,e){const n=Ae(i),s=n.Ua.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=n.qa.get(e);if(!u)return o;for(const h of u){const m=n.ka.get(h);o=o.unionWith(m.view.Sa)}return o}}function aw(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dO.bind(null,e),e.La.p_=tO.bind(null,e.eventManager),e.La.Ja=nO.bind(null,e.eventManager),e}function vO(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pO.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return wx(this.persistence,new Ex,e.initialUser,this.serializer)}Xa(e){return new jb(Yp.ri,this.serializer)}Za(e){return new Dx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class EO extends qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ge(this.persistence.referenceDelegate instanceof Bh);const s=this.persistence.referenceDelegate.garbageCollector;return new sx(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new jb(s=>Bh.ri(s,n),this.serializer)}}class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yO.bind(null,this.syncEngine),await Zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eO}()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),s=function(u){return new Px(u)}(e.databaseInfo);return function(u,h,m,p){return new jx(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new Bx(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>oE(this.syncEngine,n,0),function(){return tE.D()?new tE:new xx}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,E){const w=new aO(o,u,h,m,p,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ue(ha,"RemoteStore shutting down."),u.W_.add(5),await Du(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class TO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=ZT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ig(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function km(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ys,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await zb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function uE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await bO(i);ue(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>iE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>iE(e.remoteStore,o)),i._onlineComponents=e}async function bO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ys,"Using user provided OfflineComponentProvider");try{await km(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await km(i,new qh)}}else ue(ys,"Using default OfflineComponentProvider"),await km(i,new EO(void 0));return i._offlineComponents}async function lw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ys,"Using user provided OnlineComponentProvider"),await uE(i,i._uninitializedComponentsProvider._online)):(ue(ys,"Using default OnlineComponentProvider"),await uE(i,new dp))),i._onlineComponents}function wO(i){return lw(i).then(e=>e.syncEngine)}async function mp(i){const e=await lw(i),n=e.eventManager;return n.onListen=oO.bind(null,e.syncEngine),n.onUnlisten=cO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hO.bind(null,e.syncEngine),n}function AO(i,e,n={}){const s=new us;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new ow({next:A=>{E.su(),h.enqueueAndForget(()=>Wb(u,w)),A.fromCache&&p.source==="server"?g.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new Zb(m,E,{includeMetadataChanges:!0,Ta:!0});return Xb(u,w)}(await mp(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(i,e,n){if(!n)throw new fe(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function SO(i,e,n,s){if(e===!0&&s===!0)throw new fe(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function hE(i){if(!ye.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fE(i){if(ye.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function wi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(i);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firestore.googleapis.com",dE=!0;class mE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hw,this.ssl=dE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ix)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new kN;switch(s.type){case"firstParty":return new UN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=cE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),cE.delete(n),s.terminate())}(this),Promise.resolve()}}function RO(i,e,n,s={}){var o;const u=(i=wi(i,ff))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==hw&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!aa(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=WE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(w)}i._authCredentials=new MN(new XT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class pn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class cs extends Ea{constructor(e,n,s){super(e,n,Hp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new ye(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function iu(i,e,...n){if(i=rt(i),cw("collection","path",e),i instanceof ff){const s=Ze.fromString(e,...n);return fE(s),new cs(i,null,s)}{if(!(i instanceof pn||i instanceof cs))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return fE(s),new cs(i.firestore,null,s)}}function wh(i,e,...n){if(i=rt(i),arguments.length===1&&(e=ZT.newId()),cw("doc","path",e),i instanceof ff){const s=Ze.fromString(e,...n);return hE(s),new pn(i,null,new ye(s))}{if(!(i instanceof pn||i instanceof cs))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return hE(s),new pn(i.firestore,i instanceof cs?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Hb(this,"async_queue_retry"),this.Su=()=>{const s=Om();s&&ue(pE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new us;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ko(e))throw e;ue(pE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw hr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=ng.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function yE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class fa extends ff{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new gE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function og(i,e){const n=typeof i=="object"?i:Rp(),s=typeof i=="string"?i:Ph,o=Qh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=QE("firestore");u&&RO(o,...u)}return o}function lg(i){if(i._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||CO(i),i._firestoreClient}function CO(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new ZN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,uw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new TO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Co(Kt.fromBase64String(e))}catch(n){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Co(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^__.*__$/;class NO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(e,this.data,n,this.fieldTransforms)}}class fw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class hg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(dw(this.Lu)&&IO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class DO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||lf(e)}ju(e,n,s,o=!1){return new hg({Lu:e,methodName:n,zu:s,path:Gt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fg(i){const e=i._freezeSettings(),n=lf(i._databaseId);return new DO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xO(i,e,n,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,o);mg("Data must be an object, but it was:",h,s);const m=mw(s,h);let p,g;if(u.merge)p=new An(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=pp(e,w,n);if(!h.contains(A))throw new fe(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);gw(E,A)||E.push(A)}p=new An(E),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new NO(new mn(m),p,g)}class pf extends mf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}class dg extends mf{_toFieldTransform(e){return new AD(e.path,new du)}isEqual(e){return e instanceof dg}}function OO(i,e,n,s){const o=i.ju(1,e,n);mg("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();bs(s,(p,g)=>{const E=pg(e,p,n);g=rt(g);const w=o.Uu(E);if(g instanceof pf)u.push(E);else{const A=Ou(g,w);A!=null&&(u.push(E),h.set(E,A))}});const m=new An(u);return new fw(h,m,o.fieldTransforms)}function kO(i,e,n,s,o,u){const h=i.ju(1,e,n),m=[pp(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(pp(e,u[A])),p.push(u[A+1]);const g=[],E=mn.empty();for(let A=m.length-1;A>=0;--A)if(!gw(g,m[A])){const O=m[A];let k=p[A];k=rt(k);const $=h.Uu(O);if(k instanceof pf)g.push(O);else{const L=Ou(k,$);L!=null&&(g.push(O),E.set(O,L))}}const w=new An(g);return new fw(E,w,h.fieldTransforms)}function MO(i,e,n,s=!1){return Ou(n,i.ju(s?4:3,e))}function Ou(i,e){if(pw(i=rt(i)))return mg("Unsupported field value:",e,i),mw(i,e);if(i instanceof mf)return function(s,o){if(!dw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Ou(m,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:zh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(s instanceof ug)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Co)return{bytesValue:xb(o.serializer,s._byteString)};if(s instanceof pn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cg)return function(h,m){return{mapValue:{fields:{[ab]:{stringValue:ob},[Vh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return qp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${hf(s)}`)}(i,e)}function mw(i,e){const n={};return eb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(i,(s,o)=>{const u=Ou(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function pw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof ug||i instanceof Co||i instanceof pn||i instanceof mf||i instanceof cg)}function mg(i,e,n){if(!pw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=hf(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function pp(i,e,n){if((e=rt(e))instanceof df)return e._internalPath;if(typeof e=="string")return pg(i,e);throw Fh("Field path arguments must be of type string or ",i,!1,void 0,n)}const PO=new RegExp("[~\\*/\\[\\]]");function pg(i,e,n){if(e.search(PO)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new df(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Fh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new fe(ee.INVALID_ARGUMENT,m+i+p)}function gw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VO extends yw{data(){return super.data()}}function gg(i,e){return typeof e=="string"?pg(i,e):e instanceof df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class UO extends yg{}function LO(i,e,...n){let s=[];e instanceof yg&&s.push(e),s=s.concat(n),function(u){const h=u.filter(p=>p instanceof _g).length,m=u.filter(p=>p instanceof gf).length;if(h>1||h>0&&m>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class gf extends UO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gf(e,n,s)}_apply(e){const n=this._parse(e);return vw(e._query,n),new Ea(e.firestore,e.converter,ip(e._query,n))}_parse(e){const n=fg(e.firestore);return function(u,h,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){vE(w,E);const k=[];for(const $ of w)k.push(_E(p,u,$));A={arrayValue:{values:k}}}else A=_E(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||vE(w,E),A=MO(m,h,w,E==="in"||E==="not-in");return wt.create(g,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jO(i,e,n){const s=e,o=gg("where",i);return gf._create(o,s,n)}class _g extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)vw(h,p),h=ip(h,p)}(e._query,n),new Ea(e.firestore,e.converter,ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _E(i,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pb(e)&&n.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ze.fromString(n));if(!ye.isDocumentKey(s))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return k0(i,new ye(s))}if(n instanceof pn)return k0(i,n._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function vE(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vw(i,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zO{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>yt(h.doubleValue));return new cg(u)}convertGeoPoint(e){return new ug(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Ge(Ub(s));const o=new hu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ew extends yw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(gg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ah extends Ew{data(e={}){return super.data(e)}}class Tw{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ah(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:HO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class vg extends zO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function qO(i){i=wi(i,Ea);const e=wi(i.firestore,fa),n=lg(e),s=new vg(e);return _w(i._query),AO(n,i._query).then(o=>new Tw(e,s,i,o))}function EE(i,e,n,...s){i=wi(i,pn);const o=wi(i.firestore,fa),u=fg(o);let h;return h=typeof(e=rt(e))=="string"||e instanceof df?kO(u,"updateDoc",i._key,e,n,s):OO(u,"updateDoc",i._key,e),Eg(o,[h.toMutation(i._key,Wn.exists(!0))])}function FO(i){return Eg(wi(i.firestore,fa),[new Fp(i._key,Wn.none())])}function bw(i,e){const n=wi(i.firestore,fa),s=wh(i),o=BO(i.converter,e);return Eg(n,[xO(fg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then(()=>s)}function TE(i,...e){var n,s,o;i=rt(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||yE(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(yE(e[h])){const w=e[h];e[h]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(i instanceof pn)g=wi(i.firestore,fa),E=Hp(i._key.path),p={next:w=>{e[h]&&e[h](GO(g,i,w))},error:e[h+1],complete:e[h+2]};else{const w=wi(i,Ea);g=wi(w.firestore,fa),E=w._query;const A=new vg(g);p={next:O=>{e[h]&&e[h](new Tw(g,A,w,O))},error:e[h+1],complete:e[h+2]},_w(i._query)}return function(A,O,k,$){const L=new ow($),G=new Zb(O,L,k);return A.asyncQueue.enqueueAndForget(async()=>Xb(await mp(A),G)),()=>{L.su(),A.asyncQueue.enqueueAndForget(async()=>Wb(await mp(A),G))}}(lg(g),E,m,p)}function Eg(i,e){return function(s,o){const u=new us;return s.asyncQueue.enqueueAndForget(async()=>fO(await wO(s),o,u)),u.promise}(lg(i),e)}function GO(i,e,n){const s=n.docs.get(e._key),o=new vg(i);return new Ew(i,o,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}function KO(){return new dg("serverTimestamp")}(function(e,n=!0){(function(o){xo=o})(pa),oa(new hs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new fa(new PN(s.getProvider("auth-internal")),new LN(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),_i(T0,b0,e),_i(T0,b0,"esm2017")})();const $O=({userInitial:i})=>{const e=ma(),n=_s(),{cartItems:s,totalAmount:o}=n.state||{cartItems:[],totalAmount:0},[u,h]=H.useState({firstName:"",lastName:"",email:"",street:"",city:"",state:"",zipCode:"",country:"",phone:""}),[m,p]=H.useState(null),[g,E]=H.useState({cardNumber:"",expiryDate:"",cvv:""}),[w,A]=H.useState(""),[O,k]=H.useState(!1),L=Su().currentUser;H.useEffect(()=>{L||(k(!0),nt.error("Please login to place the order."))},[L]);const G=ie=>{const{name:oe,value:ge}=ie.target;h(M=>({...M,[oe]:ge}))},te=ie=>{p(ie)},X=async ie=>{if(ie.preventDefault(),!L){k(!0),nt.error("Login required to place order.");return}for(const ge in u)if(!u[ge].trim()){const M=ge.replace(/([A-Z])/g," $1").replace(/^./,C=>C.toUpperCase());nt.error(`Please fill in the ${M}.`);return}if(!m){nt.error("Please select a payment method.");return}if(m==="card"&&(!g.cardNumber||!g.expiryDate||!g.cvv)){nt.error("Please fill in card details.");return}if(m==="upi"&&!w){nt.error("Please enter UPI ID.");return}nt.success("Payment Successful!");const oe=og();await bw(iu(oe,"orders"),{userId:L.uid,items:s,totalAmount:o,deliveryInfo:u,paymentMethod:m,orderDate:KO(),status:"Confirmed"}),localStorage.removeItem("cartItems"),setTimeout(()=>{e("/"),window.location.reload()},2e3)};return T.jsxs(T.Fragment,{children:[T.jsx(mr,{position:"top-center"}),i?T.jsxs("div",{className:"login-required",children:[T.jsx("h2",{children:"Please Login to Continue"}),T.jsx("button",{onClick:()=>k(!0),children:"Go to Login"})]}):T.jsxs("form",{className:"payment-gateway-page",onSubmit:X,children:[T.jsxs("div",{className:"delivery-info-left",children:[T.jsx("p",{className:"title",children:"Delivery Information"}),T.jsxs("div",{className:"multi-fields",children:[T.jsx("input",{type:"text",name:"firstName",placeholder:"First name",value:u.firstName,onChange:G}),T.jsx("input",{type:"text",name:"lastName",placeholder:"Last name",value:u.lastName,onChange:G})]}),T.jsx("input",{type:"email",name:"email",placeholder:"Email address",value:u.email,onChange:G}),T.jsx("input",{type:"text",name:"street",placeholder:"Street",value:u.street,onChange:G}),T.jsxs("div",{className:"multi-fields",children:[T.jsx("input",{type:"text",name:"city",placeholder:"City",value:u.city,onChange:G}),T.jsx("input",{type:"text",name:"state",placeholder:"State",value:u.state,onChange:G})]}),T.jsxs("div",{className:"multi-fields",children:[T.jsx("input",{type:"text",name:"zipCode",placeholder:"Zip code",value:u.zipCode,onChange:G}),T.jsx("input",{type:"text",name:"country",placeholder:"Country",value:u.country,onChange:G})]}),T.jsx("input",{type:"tel",name:"phone",placeholder:"Phone",value:u.phone,onChange:G})]}),T.jsxs("div",{className:"cart-summary-right",children:[T.jsxs("div",{className:"cart-total",children:[T.jsx("h2",{children:"Cart Totals"}),T.jsxs("div",{className:"cart-total-details",children:[T.jsx("p",{children:"Subtotal"}),T.jsxs("p",{children:["",(o-2).toFixed(2)]})]}),T.jsx("hr",{}),T.jsxs("div",{className:"cart-total-details",children:[T.jsx("p",{children:"Delivery Fee"}),T.jsx("p",{children:"2.00"})]}),T.jsx("hr",{}),T.jsxs("div",{className:"cart-total-details",children:[T.jsx("b",{children:"Total"}),T.jsxs("b",{children:["",o.toFixed(2)]})]})]}),T.jsxs("div",{className:"payment-options",children:[T.jsx("h2",{children:"Payment Options"}),T.jsxs("div",{className:"payment-method-dropdown",children:[T.jsx("label",{children:"Select Payment Method"}),T.jsxs("select",{value:m||"",onChange:ie=>te(ie.target.value),children:[T.jsx("option",{value:"",disabled:!0,children:"Select a method"}),T.jsx("option",{value:"card",children:"Card Payment"}),T.jsx("option",{value:"upi",children:"UPI Payment"}),T.jsx("option",{value:"cod",children:"Cash on Delivery"})]})]}),m==="card"&&T.jsxs("div",{className:"card-details",children:[T.jsx("input",{type:"text",placeholder:"Card Number",value:g.cardNumber,onChange:ie=>E({...g,cardNumber:ie.target.value})}),T.jsx("input",{type:"text",placeholder:"Expiry Date (MM/YY)",value:g.expiryDate,onChange:ie=>E({...g,expiryDate:ie.target.value})}),T.jsx("input",{type:"text",placeholder:"CVV",value:g.cvv,onChange:ie=>E({...g,cvv:ie.target.value})})]}),m==="upi"&&T.jsx("div",{className:"upi-details",children:T.jsx("input",{type:"text",placeholder:"Enter UPI ID",value:w,onChange:ie=>A(ie.target.value)})})]}),T.jsx("button",{type:"submit",className:"proceed-button",children:"Confirm Payment"})]})]})]})},QO="/assets/chicken_dish-D_BBO0Ho.jpg",YO="/assets/egg_dish-BdpGs7Jp.png",XO="/assets/fish_dish-Dl0If6eh.jpg",WO="/assets/meat_dish-C3bp6lQr.png",ZO=({name:i,img:e,link:n})=>T.jsxs(Fn,{to:n,className:"menu-item",children:[T.jsx("img",{src:e,alt:i,className:"menu-image"}),T.jsx("div",{className:"menu-name",children:i})]}),JO=()=>{const i=[{name:"Chicken Items",img:QO,link:"/ChickenItems"},{name:"Mutton Items",img:WO,link:"/Meat"},{name:"Egg Items",img:YO,link:"/Egg"},{name:"Seafood Items",img:XO,link:"/SeaFoodItems"}];return T.jsxs("section",{id:"menu",className:"menu",children:[T.jsx("h2",{children:"BROWSE MENU CATEGORIES"}),T.jsx("div",{className:"menu-items",children:i.map((e,n)=>T.jsx(ZO,{...e},n))})]})},ek=[{id:1,name:"Butter Chicken",price:299,image:"https://images.immediate.co.uk/production/volatile/sites/30/2021/02/butter-chicken-ac2ff98.jpg"},{id:2,name:"Tandoori Chicken",price:249,image:"https://maharajaroyaldining.com/wp-content/uploads/2024/03/Tandoori-Chicken-3.webp"},{id:3,name:"Chicken Biryani",price:199,image:"https://www.ruchifoodline.com/recipes//cdn/recipes/chicken-biryani.jpg"},{id:4,name:"Chicken Curry",price:229,image:"https://www.foodandwine.com/thmb/8YAIANQTZnGpVWj2XgY0dYH1V4I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/spicy-chicken-curry-FT-RECIPE0321-58f84fdf7b484e7f86894203eb7834e7.jpg"},{id:5,name:"Chicken Lollipop",price:179,image:"https://www.cookwithkushi.com/wp-content/uploads/2022/01/best_chicken_lollipop_drums_of_chicken-500x500.jpg"},{id:6,name:"Chicken 65",price:189,image:"https://www.teaforturmeric.com/wp-content/uploads/2024/05/Chicken-65-11.jpg"},{id:7,name:"Chicken Kebab",price:259,image:"https://www.licious.in/blog/wp-content/uploads/2020/12/Chicken-Kebab.jpg"},{id:8,name:"Chicken Chilly",price:209,image:"https://vismaifood.com/storage/app/uploads/public/65b/760/990/thumb__700_0_0_0_auto.jpg"}],tk=({cartAllItems:i,setCartAllItems:e})=>{const n=s=>{i.some(u=>u.id===s.id)?nt.error("Item already in cart!"):(e([...i,{...s,count:1}]),nt.success("Item added to cart!"))};return T.jsxs("div",{className:"menu-container",children:[T.jsx(mr,{}),T.jsx("h2",{children:"Chicken Items"}),T.jsx("div",{className:"menu-grid",children:ek.map(s=>T.jsxs("div",{className:"menu-item",children:[T.jsx("img",{src:s.image,alt:s.name,className:"menu-image"}),T.jsx("h3",{children:s.name}),T.jsxs("p",{children:["",s.price]}),T.jsx("button",{onClick:()=>n(s),children:"Add to Cart"})]},s.id))})]})},nk=[{id:18,name:"Mutton Curry",price:349,image:"https://vismaifood.com/storage/app/uploads/public/c60/766/cd3/thumb__1200_0_0_0_auto.jpg"},{id:19,name:"Mutton Biryani",price:399,image:"https://www.licious.in/blog/wp-content/uploads/2022/06/mutton-hyderabadi-biryani-01.jpg"},{id:20,name:"Mutton Korma",price:379,image:"https://static.toiimg.com/thumb/52554168.cms?imgsize=572669&width=800&height=800"},{id:21,name:"Mutton Rogan Josh",price:429,image:"https://recipes.timesofindia.com/thumb/53192600.cms?width=1200&height=900"},{id:22,name:"Mutton Kebabs",price:299,image:"https://c.ndtvimg.com/2020-08/n6ogafj_kebab_625x300_12_August_20.jpg"}],ik=({cartAllItems:i,setCartAllItems:e})=>{const n=s=>{i.some(u=>u.id===s.id)?nt.error("Item already in cart!"):(e([...i,{...s,count:1}]),nt.success("Item added to cart!"))};return T.jsxs("div",{className:"menu-container",children:[T.jsx(mr,{}),T.jsx("h2",{children:"Mutton itemes"}),T.jsx("div",{className:"menu-grid",children:nk.map(s=>T.jsxs("div",{className:"menu-item",children:[T.jsx("img",{src:s.image,alt:s.name,className:"menu-image"}),T.jsx("h3",{children:s.name}),T.jsxs("p",{children:["",s.price]}),T.jsx("button",{onClick:()=>n(s),children:"Add to Cart"})]},s.id))})]})},rk=[{id:23,name:"Prawn Masala",price:399,image:"https://www.licious.in/blog/wp-content/uploads/2020/12/Prawns-Masala-min.jpg"},{id:24,name:"Fish Curry",price:349,image:"https://5.imimg.com/data5/SELLER/Default/2024/9/450200199/YQ/YC/AI/230584086/fish-curry-half-500x500.jpg"},{id:25,name:"Grilled Prawns",price:429,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcREaeTN5NleRKMHSkBmRU1O1AZiQXCGQqSRbQ&s"},{id:26,name:"Tandoori Fish",price:379,image:"https://www.foodandwine.com/thmb/rggaJ1ELW6bF4rPgA_-fLejhfNo=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Maneet-Chauhan-Diwali-Celebration-Tandoori-Pomfret-FT-BLOG1022-2000-f78e70a420a242e2bcd471fccf067614.jpg"},{id:27,name:"Crab Masala",price:459,image:"https://www.yummytummyaarthi.com/wp-content/uploads/2022/07/crab-masala-1.jpg"}],sk=({cartAllItems:i,setCartAllItems:e})=>{const n=s=>{i.some(u=>u.id===s.id)?nt.error("Item already in cart!"):(e([...i,{...s,count:1}]),nt.success("Item added to cart!"))};return T.jsxs("div",{className:"menu-container",children:[T.jsx(mr,{}),T.jsx("h2",{children:"Seafood itemes"}),T.jsx("div",{className:"menu-grid",children:rk.map(s=>T.jsxs("div",{className:"menu-item",children:[T.jsx("img",{src:s.image,alt:s.name,className:"menu-image",loading:"lazy"}),T.jsx("h3",{children:s.name}),T.jsxs("p",{children:["",s.price]}),T.jsx("button",{onClick:()=>n(s),children:"Add to Cart"})]},s.id))})]})},ak=[{id:9,name:"Egg Curry",price:149,image:"https://www.whiskaffair.com/wp-content/uploads/2019/03/Chettinad-Egg-Curry-2-3.jpg"},{id:10,name:"Egg Biryani",price:179,image:"https://spicecravings.com/wp-content/uploads/2020/10/Egg-Biryani-Featured-1-500x500.jpg"},{id:11,name:"Masala Omelette",price:99,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSs6vyNQ-XvtKGzsH_Oiya0EwlUZtoiCGQgTA&s"},{id:12,name:"Egg Bhurji",price:129,image:"https://www.licious.in/blog/wp-content/uploads/2020/12/Egg-Bhurji.jpg"},{id:13,name:"Anda Gotala",price:159,image:"https://www.foodie-trail.com/wp-content/uploads/2023/04/20230406_141619244_iOS-scaled.jpg"}],ok=({cartAllItems:i,setCartAllItems:e})=>{const n=s=>{i.some(u=>u.id===s.id)?nt.error("Item already in cart!"):(e([...i,{...s,count:1}]),nt.success("Item added to cart!"))};return T.jsxs("div",{className:"menu-container",children:[T.jsx(mr,{}),T.jsx("h2",{children:"Egg itemes"}),T.jsx("div",{className:"menu-grid",children:ak.map(s=>T.jsxs("div",{className:"menu-item",children:[T.jsx("img",{src:s.image,alt:s.name,className:"menu-image"}),T.jsx("h3",{children:s.name}),T.jsxs("p",{children:["",s.price]}),T.jsx("button",{onClick:()=>n(s),children:"Add to Cart"})]},s.id))})]})},lk="/assets/spicy_chicken_combo-cS9d1eKI.jpg",uk="/assets/grilled_chicken_special-AFcFS5fK.jpg",ck="/assets/chicken_biryani_special-g0pTIg5U.jpg",hk=[{id:1,image:lk,title:"Spicy Chicken Combo",description:"Enjoy a crispy chicken combo with fries and a drink.",discount:"Flat 20% Off"},{id:2,image:uk,title:"Grilled Chicken Special",description:"Juicy grilled chicken served with butter naan.",discount:"Buy 1 Get 1 Free"},{id:3,image:ck,title:"Royal Chicken Biryani",description:"Delicious dum biryani with authentic flavors.",discount:"100 Off on Large Pack"}],fk=()=>T.jsxs("div",{className:"offers-container",children:[T.jsx("h2",{children:"Exclusive Offers"}),T.jsx("div",{className:"offers-list",children:hk.map(i=>T.jsxs("div",{className:"offer-card",children:[T.jsx("img",{src:i.image,alt:i.title}),T.jsx("h3",{children:i.title}),T.jsx("p",{children:i.description}),T.jsx("span",{className:"offer-discount",children:i.discount})]},i.id))})]}),dk="/assets/app-Dzlaw5iC.png",qn=()=>T.jsx(T.Fragment,{children:T.jsxs("footer",{className:"footer",children:[T.jsxs("div",{className:"footer-container",children:[T.jsx("div",{className:"footer-logo",children:T.jsx("img",{src:jT,alt:"logo",className:"logo"})}),T.jsxs("div",{className:"footer-links",children:[T.jsxs("div",{children:[T.jsx("h3",{children:"Samrat India"}),T.jsxs("ul",{children:[T.jsx("li",{children:"About Us"}),T.jsx("li",{children:"Careers"}),T.jsx("li",{children:"Our History"}),T.jsx("li",{children:"Responsible Sourcing"})]})]}),T.jsxs("div",{children:[T.jsx("h3",{children:"Legal"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Terms and Conditions"}),T.jsx("li",{children:"Privacy Policy"}),T.jsx("li",{children:"Disclaimer"})]})]}),T.jsxs("div",{children:[T.jsx("h3",{children:"Our Food"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Menu"}),T.jsx("li",{children:"Order Tracking"}),T.jsx("li",{children:"Gift Cards"}),T.jsx("li",{children:"Nutrition & Allergen Info"})]})]}),T.jsxs("div",{children:[T.jsx("h3",{children:"Support"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Help Center"}),T.jsx("li",{children:"Contact Us"}),T.jsx("li",{children:"Feedback"})]})]})]}),T.jsx("div",{className:"footer-app-links",children:T.jsx("img",{src:dk,alt:"Get it on appstore",className:"google"})})]}),T.jsx("p",{className:"footer-copy",children:" 2025 Samrat Non-Veg Food Items. All rights reserved."})]})}),mk=()=>{const i=ma(),[e,n]=H.useState(null),s=o=>{n(o),setTimeout(()=>{i("/MenuPage")},500)};return T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[T.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Choose Your Order Type"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsx("button",{className:"px-6 py-3 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition",onClick:()=>s("Takeaway"),children:"Takeaway"}),T.jsx("button",{className:"px-6 py-3 bg-green-500 text-white rounded-lg shadow-md hover:bg-green-600 transition",onClick:()=>s("Dine-in"),children:"Dine-in"}),T.jsx("button",{className:"px-6 py-3 bg-red-500 text-white rounded-lg shadow-md hover:bg-red-600 transition",onClick:()=>s("Delivery"),children:"Delivery"})]})]})},pk="/assets/empty_bucket-DxgdegNT.jpg",gk=({cartAllItems:i,setCartAllItems:e})=>{const[n,s]=H.useState(""),o=ma(),u=A=>{e(O=>O.map(k=>k.id===A?{...k,count:((k==null?void 0:k.count)||1)+1}:k))},h=A=>{e(O=>O.map(k=>k.id===A&&(k.count||1)>1?{...k,count:((k==null?void 0:k.count)||1)-1}:k))},m=A=>{const O=i==null?void 0:i.filter(k=>(k==null?void 0:k.id)!==A);e(O),nt.success("Item Removed From Cart Successfully!")},p=i.reduce((A,O)=>A+O.price*(O.count||1),0),g=2,E=p+g,w=()=>{o("/PaymentGateway",{state:{cartItems:i,totalAmount:E}})};return T.jsxs("div",{className:"cart-page",children:[T.jsx(mr,{}),(i==null?void 0:i.length)>0?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"cart-items-container",children:i.map(A=>T.jsxs("div",{className:"cart-card",children:[T.jsx("img",{src:A.image,alt:A==null?void 0:A.name,className:"card-img"}),T.jsx("h3",{children:A==null?void 0:A.name}),T.jsxs("p",{className:"card-price",children:["",(A==null?void 0:A.price)*((A==null?void 0:A.count)||1)]}),T.jsxs("div",{className:"card-qty-controls",children:[T.jsx("button",{onClick:()=>h(A==null?void 0:A.id),disabled:(A==null?void 0:A.count)<=1,children:"-"}),T.jsx("span",{children:A==null?void 0:A.count}),T.jsx("button",{onClick:()=>u(A==null?void 0:A.id),children:"+"})]}),T.jsx("button",{className:"remove-btn",onClick:()=>m(A==null?void 0:A.id),children:"Remove"})]},A==null?void 0:A.id))}),T.jsxs("div",{className:"cart-bottom",children:[T.jsxs("div",{className:"cart-total",children:[T.jsx("h2",{children:"Cart Total"}),T.jsxs("div",{className:"cart-total-details",children:[T.jsx("p",{children:"SubTotal"}),T.jsxs("p",{children:["",p]})]}),T.jsx("hr",{}),T.jsxs("div",{className:"cart-total-details",children:[T.jsx("p",{children:"Delivery Fee"}),T.jsxs("p",{children:["",g]})]}),T.jsx("hr",{}),T.jsxs("div",{className:"cart-total-details",children:[T.jsx("b",{children:"Total"}),T.jsxs("b",{children:["",E]})]})]}),T.jsx("button",{onClick:w,children:"PROCEED TO CHECKOUT"})]})]}):T.jsxs("div",{className:"empty-cart",children:[T.jsx("img",{src:pk,alt:"empty bucket",className:"image"}),T.jsx("h1",{children:"Your Cart is Empty"}),T.jsx(Fn,{to:"/allMenu",children:T.jsx("button",{children:"START ORDER"})})]}),T.jsxs("div",{className:"cart-promocode",children:[T.jsx("p",{children:"If you have a promo code, enter it here"}),T.jsxs("div",{className:"cart-promocode-input",children:[T.jsx("input",{type:"text",placeholder:"promo code",value:n,onChange:A=>s(A.target.value)}),T.jsx("button",{children:"Submit"})]})]})]})},yk=[{id:1,name:"Butter Chicken",price:299,image:"https://images.immediate.co.uk/production/volatile/sites/30/2021/02/butter-chicken-ac2ff98.jpg"},{id:2,name:"Tandoori Chicken",price:249,image:"https://maharajaroyaldining.com/wp-content/uploads/2024/03/Tandoori-Chicken-3.webp"},{id:3,name:"Chicken Biryani",price:199,image:"https://www.ruchifoodline.com/recipes//cdn/recipes/chicken-biryani.jpg"},{id:4,name:"Chicken Curry",price:229,image:"https://www.foodandwine.com/thmb/8YAIANQTZnGpVWj2XgY0dYH1V4I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/spicy-chicken-curry-FT-RECIPE0321-58f84fdf7b484e7f86894203eb7834e7.jpg"},{id:5,name:"Chicken Lollipop",price:179,image:"https://www.cookwithkushi.com/wp-content/uploads/2022/01/best_chicken_lollipop_drums_of_chicken-500x500.jpg"},{id:6,name:"Chicken 65",price:189,image:"https://www.teaforturmeric.com/wp-content/uploads/2024/05/Chicken-65-11.jpg"},{id:7,name:"Chicken Kebab",price:259,image:"https://www.licious.in/blog/wp-content/uploads/2020/12/Chicken-Kebab.jpg"},{id:8,name:"Chicken Chilly",price:209,image:"https://vismaifood.com/storage/app/uploads/public/65b/760/990/thumb__700_0_0_0_auto.jpg"},{id:9,name:"Egg Curry",price:149,image:"https://www.whiskaffair.com/wp-content/uploads/2019/03/Chettinad-Egg-Curry-2-3.jpg"},{id:10,name:"Egg Biryani",price:179,image:"https://spicecravings.com/wp-content/uploads/2020/10/Egg-Biryani-Featured-1-500x500.jpg"},{id:11,name:"Masala Omelette",price:99,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSs6vyNQ-XvtKGzsH_Oiya0EwlUZtoiCGQgTA&s"},{id:12,name:"Egg Bhurji",price:129,image:"https://www.licious.in/blog/wp-content/uploads/2020/12/Egg-Bhurji.jpg"},{id:13,name:"Anda Gotala",price:159,image:"https://www.foodie-trail.com/wp-content/uploads/2023/04/20230406_141619244_iOS-scaled.jpg"},{id:14,name:"Fish Curry",price:249,image:"https://i.ytimg.com/vi/ZqkcrV326WY/maxresdefault.jpg"},{id:15,name:"Mutton Kebabs",price:299,image:"https://i.ytimg.com/vi/JxKFZGwuMbo/maxresdefault.jpg"},{id:16,name:"Grilled Chicken",price:349,image:"https://cookathomemom.com/wp-content/uploads/2021/05/Grilled-BBQ-CHicken-Drumsticks.jpg"},{id:17,name:"Prawn Masala",price:399,image:"https://crownresto.com/wp-content/uploads/2022/08/prawn-masala.jpg"},{id:18,name:"Mutton Curry",price:349,image:"https://vismaifood.com/storage/app/uploads/public/c60/766/cd3/thumb__1200_0_0_0_auto.jpg"},{id:19,name:"Mutton Biryani",price:399,image:"https://www.licious.in/blog/wp-content/uploads/2022/06/mutton-hyderabadi-biryani-01.jpg"},{id:20,name:"Mutton Korma",price:379,image:"https://static.toiimg.com/thumb/52554168.cms?imgsize=572669&width=800&height=800"},{id:21,name:"Mutton Rogan Josh",price:429,image:"https://recipes.timesofindia.com/thumb/53192600.cms?width=1200&height=900"},{id:22,name:"Mutton Kebabs",price:299,image:"https://c.ndtvimg.com/2020-08/n6ogafj_kebab_625x300_12_August_20.jpg"},{id:23,name:"Prawn Masala",price:399,image:"https://www.licious.in/blog/wp-content/uploads/2020/12/Prawns-Masala-min.jpg"},{id:24,name:"Fish Curry",price:349,image:"https://5.imimg.com/data5/SELLER/Default/2024/9/450200199/YQ/YC/AI/230584086/fish-curry-half-500x500.jpg"},{id:25,name:"Grilled Prawns",price:429,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcREaeTN5NleRKMHSkBmRU1O1AZiQXCGQqSRbQ&s"},{id:26,name:"Tandoori Fish",price:379,image:"https://www.foodandwine.com/thmb/rggaJ1ELW6bF4rPgA_-fLejhfNo=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Maneet-Chauhan-Diwali-Celebration-Tandoori-Pomfret-FT-BLOG1022-2000-f78e70a420a242e2bcd471fccf067614.jpg"},{id:27,name:"Crab Masala",price:459,image:"https://www.yummytummyaarthi.com/wp-content/uploads/2022/07/crab-masala-1.jpg"}],_k=({cartAllItems:i,setCartAllItems:e})=>{const n=s=>{i.some(u=>u.id===s.id)?nt.error("Item already in cart!"):(e([...i,{...s,count:1}]),nt.success("Item added to cart!"))};return T.jsxs("div",{className:"all-menu-container",children:[T.jsx(mr,{}),T.jsx("h1",{className:"menu-heading-1",children:"ALL OUR MENU"}),T.jsx("div",{className:"menu-grid",children:yk.map(s=>T.jsxs("div",{className:"menu-item",children:[T.jsx("img",{src:s.image,alt:s.name,className:"menu-item-image"}),T.jsx("p",{className:"menu-item-name",children:s.name}),T.jsxs("p",{className:"menu-item-price",children:["",s.price]}),T.jsx("button",{onClick:()=>n(s),children:"Add to Cart"})]},s.id))})]})},vk=({userName:i})=>{const e=ma(),n=Su(),s=og(),[o,u]=H.useState([]),h=()=>{IT(n).then(()=>{e("/")})};return H.useEffect(()=>{(async()=>{if(n.currentUser){const p=LO(iu(s,"orders"),jO("userId","==",n.currentUser.uid)),E=(await qO(p)).docs.map(w=>({id:w.id,...w.data()}));u(E)}})()},[]),T.jsxs("div",{className:"user-logged-in-container",children:[T.jsxs("div",{className:"sidebar",children:[T.jsxs("h2",{children:["GOOD AFTERNOON",T.jsx("br",{}),i==null?void 0:i.toUpperCase(),"!"]}),T.jsxs("ul",{className:"sidebar-menu",children:[T.jsx("li",{children:"Order History"}),T.jsx("li",{children:"My Favorite Menu"}),T.jsx("li",{children:"Addresses"}),T.jsx("li",{children:"Account Settings"})]}),T.jsx("button",{className:"signout-btn",onClick:h,children:"Sign Out"})]}),T.jsxs("div",{className:"main-content",children:[T.jsxs("div",{className:"order-history",children:[T.jsx("h2",{children:"ORDER HISTORY"}),o.length===0?T.jsx("p",{children:"No orders have been placed in the past 12 months."}):T.jsx("ul",{className:"order-list",children:o.map(m=>{var p;return T.jsxs("li",{className:"order-item",children:[T.jsxs("h4",{children:["Order ID: ",m.id]}),T.jsxs("p",{children:["Total: ",m.totalAmount]}),T.jsxs("p",{children:["Status: ",m.status]}),T.jsxs("p",{children:["Ordered On: ",(p=m.orderDate)==null?void 0:p.toDate().toLocaleString()]}),T.jsx("ul",{children:m.items.map((g,E)=>T.jsxs("li",{children:[g.name," x ",g.quantity]},E))}),T.jsx("hr",{})]},m.id)})}),T.jsx(Fn,{to:"/allMenu",children:T.jsx("button",{className:"crimson-btn",children:"View Menu"})})]}),T.jsxs("div",{className:"help-section",children:[T.jsx("h2",{children:"HAVE A QUESTION?"}),T.jsx("p",{children:"Connect with a specialist for answers."}),T.jsx("button",{className:"crimson-btn",children:"Get Help"})]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebasestorage.googleapis.com",Aw="storageBucket",Ek=2*60*1e3,Tk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends Ci{constructor(e,n,s=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Mm(i){return"storage/"+i}function Tg(){const i="An unknown error occurred, please check the error payload for server response.";return new dt(ft.UNKNOWN,i)}function bk(i){return new dt(ft.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function wk(i){return new dt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ak(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ft.UNAUTHENTICATED,i)}function Sk(){return new dt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Rk(i){return new dt(ft.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Ck(){return new dt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ik(){return new dt(ft.CANCELED,"User canceled the upload/download.")}function Nk(i){return new dt(ft.INVALID_URL,"Invalid URL '"+i+"'.")}function Dk(i){return new dt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function xk(){return new dt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Aw+"' property when initializing the app?")}function Ok(){return new dt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kk(){return new dt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mk(i){return new dt(ft.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gp(i){return new dt(ft.INVALID_ARGUMENT,i)}function Sw(){return new dt(ft.APP_DELETED,"The Firebase app was deleted.")}function Pk(i){return new dt(ft.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ru(i,e){return new dt(ft.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Fl(i){throw new dt(ft.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(s.path==="")return s;throw Dk(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${w}/${E}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},$=n===ww?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",G=new RegExp(`^https?://${$}/${o}/${L}`,"i"),X=[{regex:m,indices:p,postModify:u},{regex:O,indices:k,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<X.length;ie++){const oe=X[ie],ge=oe.regex.exec(e);if(ge){const M=ge[oe.indices.bucket];let C=ge[oe.indices.path];C||(C=""),s=new Sn(M,C),oe.postModify(s);break}}if(s==null)throw Nk(e);return s}}class Vk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function w(L){o=setTimeout(()=>{o=null,i(O,p())},L)}function A(){u&&clearTimeout(u)}function O(L,...G){if(g){A();return}if(L){A(),E.call(null,L,...G);return}if(p()||h){A(),E.call(null,L,...G);return}s<64&&(s*=2);let X;m===1?(m=2,X=0):X=(s+Math.random())*1e3,w(X)}let k=!1;function $(L){k||(k=!0,A(),!g&&(o!==null?(L||(m=2),clearTimeout(o),w(0)):L||(m=1)))}return w(0),u=setTimeout(()=>{h=!0,$(!0)},n),$}function Lk(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(i){return i!==void 0}function zk(i){return typeof i=="object"&&!Array.isArray(i)}function bg(i){return typeof i=="string"||i instanceof String}function bE(i){return wg()&&i instanceof Blob}function wg(){return typeof Blob<"u"}function wE(i,e,n,s){if(s<e)throw gp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw gp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function Rw(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var sa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(sa||(sa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n,s,o,u,h,m,p,g,E,w,A=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=w,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,k)=>{this.resolve_=O,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new lh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===sa.NO_ERROR,p=u.getStatus();if(!m||Bk(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===sa.ABORT;s(!1,new lh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new lh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());jk(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Tg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Sw():Ik();h(p)}else{const p=Ck();h(p)}};this.canceled_?n(!1,new lh(!1,null,!0)):this.backoffId_=Uk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function qk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Fk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Gk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Kk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function $k(i,e,n,s,o,u,h=!0){const m=Rw(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return Gk(g,e),qk(g,n),Fk(g,u),Kk(g,s),new Hk(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Yk(...i){const e=Qk();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(wg())return new Blob(i);throw new dt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Xk(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(i){if(typeof atob>"u")throw Mk("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pm{constructor(e,n){this.data=e,this.contentType=n||null}}function Zk(i,e){switch(i){case yi.RAW:return new Pm(Cw(e));case yi.BASE64:case yi.BASE64URL:return new Pm(Iw(i,e));case yi.DATA_URL:return new Pm(eM(e),tM(e))}throw Tg()}function Cw(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Jk(i){let e;try{e=decodeURIComponent(i)}catch{throw ru(yi.DATA_URL,"Malformed data URL.")}return Cw(e)}function Iw(i,e){switch(i){case yi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw ru(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw ru(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Wk(e)}catch(o){throw o.message.includes("polyfill")?o:ru(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Nw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ru(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=nM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function eM(i){const e=new Nw(i);return e.base64?Iw(yi.BASE64,e.rest):Jk(e.rest)}function tM(i){return new Nw(i).contentType}function nM(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){let s=0,o="";bE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(bE(this.data_)){const s=this.data_,o=Xk(s,e,n);return o===null?null:new rs(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new rs(s,!0)}}static getBlob(...e){if(wg()){const n=e.map(s=>s instanceof rs?s.data_:s);return new rs(Yk.apply(null,n))}else{const n=e.map(h=>bg(h)?Zk(yi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new rs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i){let e;try{e=JSON.parse(i)}catch{return null}return zk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function rM(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function xw(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(i,e){return e}class on{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||sM}}let uh=null;function aM(i){return!bg(i)||i.length<2?i:xw(i)}function Ow(){if(uh)return uh;const i=[];i.push(new on("bucket")),i.push(new on("generation")),i.push(new on("metageneration")),i.push(new on("name","fullPath",!0));function e(u,h){return aM(h)}const n=new on("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new on("size");return o.xform=s,i.push(o),i.push(new on("timeCreated")),i.push(new on("updated")),i.push(new on("md5Hash",null,!0)),i.push(new on("cacheControl",null,!0)),i.push(new on("contentDisposition",null,!0)),i.push(new on("contentEncoding",null,!0)),i.push(new on("contentLanguage",null,!0)),i.push(new on("contentType",null,!0)),i.push(new on("metadata","customMetadata",!0)),uh=i,uh}function oM(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Sn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function lM(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return oM(s,i),s}function kw(i,e,n){const s=Dw(e);return s===null?null:lM(i,s,n)}function uM(i,e,n,s){const o=Dw(e);if(o===null||!bg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,w=i.fullPath,A="/b/"+h(E)+"/o/"+h(w),O=Ag(A,n,s),k=Rw({alt:"media",token:g});return O+k})[0]}function cM(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class Mw{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(i){if(!i)throw Tg()}function hM(i,e){function n(s,o){const u=kw(i,o,e);return Pw(u!==null),u}return n}function fM(i,e){function n(s,o){const u=kw(i,o,e);return Pw(u!==null),uM(u,o,i.host,i._protocol)}return n}function Vw(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Sk():o=Ak():n.getStatus()===402?o=wk(i.bucket):n.getStatus()===403?o=Rk(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function dM(i){const e=Vw(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=bk(i.path)),u.serverResponse=o.serverResponse,u}return n}function mM(i,e,n){const s=e.fullServerUrl(),o=Ag(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Mw(o,u,fM(i,n),h);return m.errorHandler=dM(e),m}function pM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function gM(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=pM(null,e)),s}function yM(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let X="";for(let ie=0;ie<2;ie++)X=X+Math.random().toString().slice(2);return X}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=gM(e,s,o),E=cM(g,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",O=rs.getBlob(w,s,A);if(O===null)throw Ok();const k={name:g.fullPath},$=Ag(u,i.host,i._protocol),L="POST",G=i.maxUploadRetryTime,te=new Mw($,L,hM(i,n),G);return te.urlParams=k,te.headers=h,te.body=O.uploadData(),te.errorHandler=Vw(e),te}class _M{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o){if(this.sent_)throw Fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vM extends _M{initXhr(){this.xhr_.responseType="text"}}function Uw(){return new vM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new da(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xw(this._location.path)}get storage(){return this._service}get parent(){const e=iM(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new da(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Pk(e)}}function EM(i,e,n){i._throwIfRoot("uploadBytes");const s=yM(i.storage,i._location,Ow(),new rs(e,!0),n);return i.storage.makeRequestWithTokens(s,Uw).then(o=>({metadata:o,ref:i}))}function TM(i){i._throwIfRoot("getDownloadURL");const e=mM(i.storage,i._location,Ow());return i.storage.makeRequestWithTokens(e,Uw).then(n=>{if(n===null)throw kk();return n})}function bM(i,e){const n=rM(i._location.path,e),s=new Sn(i._location.bucket,n);return new da(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(i){return/^[A-Za-z]+:\/\//.test(i)}function AM(i,e){return new da(i,e)}function Lw(i,e){if(i instanceof Sg){const n=i;if(n._bucket==null)throw xk();const s=new da(n,n._bucket);return e!=null?Lw(s,e):s}else return e!==void 0?bM(i,e):i}function SM(i,e){if(e&&wM(e)){if(i instanceof Sg)return AM(i,e);throw gp("To use ref(service, url), the first argument must be a Storage instance.")}else return Lw(i,e)}function AE(i,e){const n=e==null?void 0:e[Aw];return n==null?null:Sn.makeFromBucketSpec(n,i)}function RM(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:WE(o,i.app.options.projectId))}class Sg{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=ww,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ek,this._maxUploadRetryTime=Tk,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=AE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=AE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new da(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new Vk(Sw());{const h=$k(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const SE="@firebase/storage",RE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="storage";function CE(i,e,n){return i=rt(i),EM(i,e,n)}function Vm(i){return i=rt(i),TM(i)}function Um(i,e){return i=rt(i),SM(i,e)}function CM(i=Rp(),e){i=rt(i);const s=Qh(i,jw).getImmediate({identifier:e}),o=QE("storage");return o&&IM(s,...o),s}function IM(i,e,n,s={}){RM(i,e,n,s)}function NM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Sg(n,s,o,e,pa)}function DM(){oa(new hs(jw,NM,"PUBLIC").setMultipleInstances(!0)),_i(SE,RE,""),_i(SE,RE,"esm2017")}DM();const xM=()=>{const[i,e]=H.useState(""),[n,s]=H.useState(""),[o,u]=H.useState(""),[h,m]=H.useState(null),[p,g]=H.useState(null),[E,w]=H.useState(null),[A,O]=H.useState([]),[k,$]=H.useState([]),[L,G]=H.useState({name:"",price:"",image:null}),[te,X]=H.useState(!1),[ie,oe]=H.useState(""),ge=ma(),M=Su(gh),C=og(gh),R=CM(gh);H.useEffect(()=>{const I=M.onAuthStateChanged(async W=>{X(!0),W?W.email==="meetkhaire037@gmail.com"?(m(W),await Promise.all([D(),V(),z()])):(u("Unauthorized Access"),await M.signOut()):m(null),X(!1)});return()=>I()},[]);const D=async()=>{try{const I=Um(R,"homepage/background.jpg"),W=await Vm(I);g(W)}catch(I){console.error("Error fetching background image:",I),u("Error fetching background image.")}},V=()=>{const I=TE(iu(C,"orders"),W=>{const ce=W.docs.map(ae=>({id:ae.id,...ae.data()}));O(ce)});return()=>I()},z=()=>{const I=TE(iu(C,"menu"),W=>{const ce=W.docs.map(ae=>{const{image:le,...Se}=ae.data();return{id:ae.id,...Se}});$(ce)});return()=>I()},x=async I=>{I.preventDefault(),u(""),X(!0);try{await CT(M,i,n),i!=="meetkhaire037@gmail.com"&&(u("Unauthorized Access"),await M.signOut())}catch(W){u(W.message)}X(!1)},mt=async()=>{if(E){X(!0);try{const I=Um(R,`homepage/${new Date().getTime()}-${E.name}`);await CE(I,E);const W=await Vm(I);await EE(wh(C,"settings","homepage"),{backgroundImage:W}),g(W),w(null),oe("Background image updated successfully!")}catch(I){console.error("Error updating background image URL:",I),u("Error updating background image.")}X(!1)}},at=async(I,W)=>{X(!0);try{await EE(wh(C,"orders",I),{status:W}),oe("Order status updated.")}catch(ce){console.error("Error updating order status:",ce),u("Error updating order status.")}X(!1)},se=async()=>{X(!0);try{let I="";if(L.image){const W=Um(R,`menu/${L.image.name}`);await CE(W,L.image),I=await Vm(W)}await bw(iu(C,"menu"),{name:L.name,price:L.price,image:I}),G({name:"",price:"",image:null}),oe("Item added to menu.")}catch(I){console.error("Error adding item:",I),u("Error adding item.")}X(!1)},_e=async I=>{if(window.confirm("Are you sure you want to delete this item?")){X(!0);try{await FO(wh(C,"menu",I)),oe("Item deleted.")}catch(ce){console.error("Error deleting item:",ce),u("Error deleting item.")}X(!1)}},me=async()=>{try{await IT(M),ge("/")}catch(I){console.error("Error logging out:",I),u("Error logging out.")}},je=I=>{switch(I){case"Pending":return"red";case"Preparing":return"yellow";case"Out for Delivery":return"blue";case"Order Completed":return"green";default:return"black"}};return h?T.jsxs("div",{className:"admin-container",children:[T.jsx("h2",{className:"admin-heading",children:"Admin Dashboard"}),te&&T.jsx("div",{className:"loading-indicator",children:"Loading..."}),o&&T.jsx("p",{className:"admin-error",children:o}),ie&&T.jsx("p",{className:"admin-success",children:ie}),T.jsx("button",{onClick:me,className:"admin-button",children:"Logout"}),T.jsxs("div",{className:"admin-section",children:[T.jsx("h3",{className:"admin-section-title",children:"Change Homepage Background"}),p&&T.jsx("img",{src:p,alt:"Background",className:"admin-background-image"}),T.jsx("input",{type:"file",onChange:I=>w(I.target.files[0]),className:"admin-input"}),T.jsx("button",{onClick:mt,className:"admin-button",children:"Upload and Change"})]}),T.jsxs("div",{className:"admin-section",children:[T.jsx("h3",{className:"admin-section-title",children:"Order Management"}),A.map(I=>T.jsxs("div",{className:"admin-order",children:[T.jsxs("p",{children:["Order ID: ",T.jsx("span",{className:"admin-order-id",children:I.id})]}),T.jsxs("p",{children:["Status:",T.jsx("span",{className:"admin-order-status",style:{backgroundColor:je(I.status),color:"white",padding:"5px",borderRadius:"5px"},children:I.status})]}),T.jsxs("select",{value:I.status,onChange:W=>at(I.id,W.target.value),className:"admin-select",children:[T.jsx("option",{value:"Pending",children:"Pending"}),T.jsx("option",{value:"Preparing",children:"Preparing"}),T.jsx("option",{value:"Out for Delivery",children:"Out for Delivery"}),T.jsx("option",{value:"Order Completed",children:"Order Completed"})]})]},I.id))]}),T.jsxs("div",{className:"admin-section",children:[T.jsx("h3",{className:"admin-section-title",children:"Menu Management"}),T.jsx("input",{placeholder:"Item Name",value:L.name,onChange:I=>G({...L,name:I.target.value}),className:"admin-input"}),T.jsx("input",{placeholder:"Price",type:"number",value:L.price,onChange:I=>G({...L,price:I.target.value}),className:"admin-input"}),T.jsx("input",{type:"file",onChange:I=>G({...L,image:I.target.files[0]}),className:"admin-input"}),T.jsx("button",{onClick:se,className:"admin-button",children:"Add Item"}),k.map(I=>T.jsxs("div",{className:"admin-menu-item",children:[T.jsxs("p",{children:[I.name," - ",I.price]}),T.jsx("button",{onClick:()=>_e(I.id),className:"admin-delete-button",children:"Delete"})]},I.id))]})]}):T.jsxs("div",{className:"admin-container",children:[T.jsx("h2",{className:"admin-heading",children:"Admin Login"}),o&&T.jsx("p",{className:"admin-error",children:o}),T.jsxs("form",{onSubmit:x,className:"admin-form",children:[T.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:I=>e(I.target.value),required:!0,className:"admin-input"}),T.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:I=>s(I.target.value),required:!0,className:"admin-input"}),T.jsx("button",{type:"submit",className:"admin-button",children:"Login"})]})]})},OM=Su(gh);function kM(){const[i,e]=H.useState([]),[n,s]=H.useState(!1),[o,u]=H.useState(""),[h,m]=H.useState(null),[p,g]=H.useState(!0);return H.useEffect(()=>{const E=EI(OM,w=>{if(w){console.log("User is signed in:",w);const A=localStorage.getItem(`username_${w.uid}`);u(A?A[0].toUpperCase():w.email?w.email[0].toUpperCase():"U"),m(w.uid),s(!1)}else console.log("User is signed out"),u(""),m(null);g(!1)});return()=>E()},[]),p?T.jsx("div",{children:"Loading..."}):T.jsxs(T.Fragment,{children:[n&&!h&&T.jsx(ON,{setShowLogin:s,setUserInitial:u,setUserId:m}),T.jsxs("div",{className:"app",children:[T.jsx(V2,{setShowLogin:s,cartAllItems:i,userInitial:o}),T.jsxs(uR,{children:[T.jsx(fn,{path:"/admin",element:T.jsx(xM,{})}),T.jsx(fn,{path:"/",element:T.jsxs(T.Fragment,{children:[T.jsx(IN,{cartAllItems:i,setCartAllItems:e}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/MenuPage",element:T.jsxs(T.Fragment,{children:[T.jsx(JO,{}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/PaymentGateway",element:T.jsxs(T.Fragment,{children:[T.jsx($O,{}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/Chickenitems",element:T.jsxs(T.Fragment,{children:[T.jsx(tk,{cartAllItems:i,setCartAllItems:e}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/Meat",element:T.jsxs(T.Fragment,{children:[T.jsx(ik,{cartAllItems:i,setCartAllItems:e}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/Ordernow",element:T.jsxs(T.Fragment,{children:[T.jsx(mk,{}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/Seafooditems",element:T.jsxs(T.Fragment,{children:[T.jsx(sk,{cartAllItems:i,setCartAllItems:e}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/Egg",element:T.jsxs(T.Fragment,{children:[T.jsx(ok,{cartAllItems:i,setCartAllItems:e}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/Offers",element:T.jsxs(T.Fragment,{children:[T.jsx(fk,{}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/allMenu",element:T.jsxs(T.Fragment,{children:[T.jsx(_k,{cartAllItems:i,setCartAllItems:e}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/CartPage",element:T.jsxs(T.Fragment,{children:[T.jsx(gk,{cartAllItems:i,setCartAllItems:e}),T.jsx(qn,{})]})}),T.jsx(fn,{path:"/UserLoggedIn",element:T.jsxs(T.Fragment,{children:[T.jsx(vk,{userName:o,userId:h}),T.jsx(qn,{})]})})]})]})]})}vS.createRoot(document.getElementById("root")).render(T.jsx(OR,{children:T.jsx(kM,{})}));
